diff --git a/backend/backend_server/lib/src/endpoints/admin_endpoints.dart b/backend/backend_server/lib/src/endpoints/admin_endpoints.dart
index 1672a38..6db9eae 100644
--- a/backend/backend_server/lib/src/endpoints/admin_endpoints.dart
+++ b/backend/backend_server/lib/src/endpoints/admin_endpoints.dart
@@ -2,8 +2,6 @@ import 'dart:convert';
 import 'package:crypto/crypto.dart';
 import 'package:serverpod/serverpod.dart';
 import 'dart:async'; // added for fire-and-forget scheduling
-// added for Cloudinary uploads
-import 'cloudinary_upload.dart';
 import 'auth_endpoint.dart';
 import '../generated/protocol.dart';
 
@@ -83,12 +81,9 @@ class AdminEndpoints extends Endpoint {
   /// returns normalized form like '+88XXXXXXXXXXX' where X... is 11 digits.
   /// Returns null if invalid.
 
-
   /// Create a new user record. Expects passwordHash to already be hashed by the caller.
   Future<String> createUser(Session session, String name, String email,
       String passwordHash, String role, String? phone) async {
-
-
     final existing = await session.db.unsafeQuery(
       'SELECT email, phone FROM users WHERE email = @e OR phone = @ph LIMIT 1',
       parameters: QueryParameters.named({'e': email, 'ph': phone}),
@@ -141,12 +136,8 @@ class AdminEndpoints extends Endpoint {
   Future<String> createUserWithPassword(Session session, String name,
       String email, String password, String role, String? phone) async {
     try {
-
-
-
       final hashed = sha256.convert(utf8.encode(password)).toString();
-      final res =
-          await createUser(session, name, email, hashed, role, phone);
+      final res = await createUser(session, name, email, hashed, role, phone);
 
       final newUserId = int.tryParse(res);
       if (newUserId != null) {
@@ -179,7 +170,6 @@ class AdminEndpoints extends Endpoint {
     }
   }
 
-
   // ------------------ Rosters ------------------
   Future<bool> _initRostersTable(Session session) async {
     try {
@@ -485,28 +475,8 @@ class AdminEndpoints extends Endpoint {
         if (data.startsWith('http://') || data.startsWith('https://')) {
           profilePictureUrl = data;
         } else {
-          var b64 = data;
-          if (b64.contains(',')) {
-            b64 = b64.split(',').last;
-          }
-          b64 = b64.replaceAll(RegExp(r"\s+"), '');
-
-          try {
-            // ‡¶∞‡¶ø‡¶´‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶∞‡¶° ‡¶Ö‡¶Ç‡¶∂: CloudinaryService ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ
-            final String? uploadedUrl = await CloudinaryUpload.uploadFile(
-                base64Data: b64, // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá b64 ‡¶π‡¶¨‡ßá
-                folder: 'admin_uploads',
-                isPdf: false);
-
-            if (uploadedUrl == null) {
-              await session.db.unsafeExecute('ROLLBACK');
-              return 'Failed to upload profile image';
-            }
-            profilePictureUrl = uploadedUrl;
-          } catch (e) {
-            await session.db.unsafeExecute('ROLLBACK');
-            return 'Invalid profile picture data';
-          }
+          await session.db.unsafeExecute('ROLLBACK');
+          return 'Invalid profile picture URL';
         }
       }
 
@@ -566,7 +536,7 @@ class AdminEndpoints extends Endpoint {
         storedHash = '';
       } else if (ph is List<int>) {
         storedHash = String.fromCharCodes(ph);
-      }else {
+      } else {
         storedHash = ph.toString();
       }
       final currHash = sha256.convert(utf8.encode(currentPassword)).toString();
diff --git a/backend/backend_server/lib/src/endpoints/auth_endpoint.dart b/backend/backend_server/lib/src/endpoints/auth_endpoint.dart
index afbcefc..495fbc7 100644
--- a/backend/backend_server/lib/src/endpoints/auth_endpoint.dart
+++ b/backend/backend_server/lib/src/endpoints/auth_endpoint.dart
@@ -199,13 +199,6 @@ class AuthEndpoint extends Endpoint {
     return int.tryParse(value.toString());
   }
 
-  DateTime? _decodeDbDateTime(dynamic value) {
-    if (value == null) return null;
-    if (value is DateTime) return value;
-    if (value is List<int>) return DateTime.tryParse(utf8.decode(value));
-    if (value is String) return DateTime.tryParse(value);
-    return DateTime.tryParse(value.toString());
-  }
 
   int? _calculateAgeFromDob(DateTime? dob) {
     if (dob == null) return null;
@@ -893,7 +886,7 @@ class AuthEndpoint extends Endpoint {
 
     final authToken = JWT(
       {
-        'uid': generatedId!,
+        'uid': generatedId,
         'role': role.toUpperCase(),
         'tv': tokenVersion,
         'jti': _uuid.v4(),
@@ -908,7 +901,7 @@ class AuthEndpoint extends Endpoint {
     return LoginResponse(
       success: true,
       role: role.toUpperCase(),
-      userId: generatedId!.toString(),
+      userId: generatedId.toString(),
       userName: name,
       phone: phone,
       bloodGroup: bloodGroup,
diff --git a/backend/backend_server/lib/src/endpoints/cloudinary_upload.dart b/backend/backend_server/lib/src/endpoints/cloudinary_upload.dart
deleted file mode 100644
index fac6568..0000000
--- a/backend/backend_server/lib/src/endpoints/cloudinary_upload.dart
+++ /dev/null
@@ -1,54 +0,0 @@
-import 'dart:convert';
-import 'package:crypto/crypto.dart';
-import 'package:http/http.dart' as http;
-
-class CloudinaryUpload {
-  static const String cloudName = 'dfrzizwb1';
-  static const String apiKey = '577481941532583';
-  static const String apiSecret = 'HqNaPXYEd7QKJ_RfRmA_mskx5p4';
-
-  /// ‡¶á‡¶Æ‡ßá‡¶ú ‡¶¨‡¶æ PDF ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ï‡¶Æ‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
-  static Future<String?> uploadFile({
-    required String base64Data,
-    required String folder,
-    bool isPdf = false,
-  }) async {
-    try {
-      final timestamp = DateTime.now().millisecondsSinceEpoch ~/ 1000;
-
-      // ‡¶∏‡¶ø‡¶ó‡¶®‡ßá‡¶ö‡¶æ‡¶∞ ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶® for
-      final params = 'folder=$folder&timestamp=$timestamp$apiSecret';
-      final signature = sha1.convert(utf8.encode(params)).toString();
-
-      // ‡¶´‡¶æ‡¶á‡¶≤‡ßá‡¶∞ ‡¶ß‡¶∞‡¶® ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡ßç‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßç‡¶∏ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
-      final String filePrefix =
-          isPdf ? 'data:application/pdf;base64,' : 'data:image/png;base64,';
-
-      // ‡¶è‡¶™‡¶ø‡¶Ü‡¶á ‡¶á‡¶â‡¶Ü‡¶∞‡¶è‡¶≤
-      final url =
-          Uri.parse('https://api.cloudinary.com/v1_1/$cloudName/auto/upload');
-
-      final response = await http.post(
-        url,
-        body: {
-          'file': '$filePrefix$base64Data',
-          'folder': folder,
-          'timestamp': timestamp.toString(),
-          'api_key': apiKey,
-          'signature': signature,
-        },
-      );
-
-      if (response.statusCode == 200) {
-        final data = jsonDecode(response.body);
-        final secureUrl = data['secure_url'];
-        return secureUrl;
-      } else {
-        // print('Cloudinary upload failed: ${response.body}');
-        return null;
-      }
-    } catch (e) {
-      return null;
-    }
-  }
-}
diff --git a/backend/backend_server/lib/src/endpoints/dispenser_endpoints.dart b/backend/backend_server/lib/src/endpoints/dispenser_endpoints.dart
index 5bae166..6071632 100644
--- a/backend/backend_server/lib/src/endpoints/dispenser_endpoints.dart
+++ b/backend/backend_server/lib/src/endpoints/dispenser_endpoints.dart
@@ -1,8 +1,6 @@
 import 'package:serverpod/serverpod.dart';
 import 'package:backend_server/src/generated/protocol.dart';
 
-import 'cloudinary_upload.dart';
-
 import '../utils/auth_user.dart';
 
 class DispenserEndpoint extends Endpoint {
@@ -63,19 +61,15 @@ class DispenserEndpoint extends Endpoint {
     required String phone,
     required String qualification,
     required String designation,
-    String? base64Image,
+    String? profilePictureUrl,
   }) async {
     try {
       final resolvedUserId = requireAuthenticatedUserId(session);
-      String? imageUrl;
-
-      // üîπ Upload image if exists
-      if (base64Image != null && base64Image.isNotEmpty) {
-        imageUrl = await CloudinaryUpload.uploadFile(
-          base64Data: base64Image,
-          folder: 'dispenser_profiles',
-        );
-      }
+      final imageUrl = (profilePictureUrl != null &&
+              (profilePictureUrl.startsWith('http://') ||
+                  profilePictureUrl.startsWith('https://')))
+          ? profilePictureUrl
+          : null;
 
       return await session.db.transaction((transaction) async {
         await session.db.unsafeExecute(
diff --git a/backend/backend_server/lib/src/endpoints/doctor_endpoints.dart b/backend/backend_server/lib/src/endpoints/doctor_endpoints.dart
index 147b019..3838f5a 100644
--- a/backend/backend_server/lib/src/endpoints/doctor_endpoints.dart
+++ b/backend/backend_server/lib/src/endpoints/doctor_endpoints.dart
@@ -1,45 +1,218 @@
-import 'dart:convert';
-import 'package:backend_server/src/endpoints/cloudinary_upload.dart';
 import 'package:serverpod/serverpod.dart';
 import '../generated/protocol.dart';
+import '../utils/auth_user.dart';
 
 class DoctorEndpoint extends Endpoint {
+  @override
+  bool get requireLogin => true;
 
+  /// Doctor home dashboard data
+// ----------------------------
+  Future<DoctorHomeData> getDoctorHomeData(Session session) async {
+    try {
+      final resolvedDoctorId = requireAuthenticatedUserId(session);
 
-  /// ‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶§‡¶æ‡¶∞ ‡¶∏‡¶á ‡¶è‡¶¨‡¶Ç ‡¶®‡¶æ‡¶Æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶æ
-  Future<Map<String, String?>> getDoctorInfo(
-      Session session,int doctorId) async {
+      final doctorRow = await session.db.unsafeQuery(
+        'SELECT name, role::text AS role, profile_picture_url FROM users WHERE user_id = @id LIMIT 1',
+        parameters: QueryParameters.named({'id': resolvedDoctorId}),
+      );
+
+      String doctorName;
+      String doctorProfilePictureUrl;
+      String doctorRoleRaw;
+
+      if (doctorRow.isNotEmpty) {
+        doctorName = _decode(doctorRow.first.toColumnMap()['name']);
+        doctorProfilePictureUrl =
+            _decode(doctorRow.first.toColumnMap()['profile_picture_url']);
+        doctorRoleRaw = _decode(doctorRow.first.toColumnMap()['role']);
+      } else {
+        doctorName = '';
+        doctorProfilePictureUrl = '';
+        doctorRoleRaw = '';
+      }
+
+      String friendlyRole(String raw) {
+        final r = raw.trim().toUpperCase();
+        switch (r) {
+          case 'DOCTOR':
+            return 'Doctor';
+          case 'LABSTAFF':
+            return 'Lab Technician';
+          case 'DISPENSER':
+            return 'Dispenser';
+          case 'ADMIN':
+            return 'Admin';
+          case 'STAFF':
+            return 'Staff';
+          case 'TEACHER':
+            return 'Teacher';
+          case 'STUDENT':
+            return 'Student';
+          case 'OUTSIDE':
+            return 'Outside';
+          default:
+            return raw.trim().isEmpty ? '' : raw.trim();
+        }
+      }
+
+      // Last month (rolling 1 month)
+      final lastMonthRows = await session.db.unsafeQuery(
+        r'''
+        SELECT COUNT(*)::int AS total
+        FROM prescriptions
+        WHERE doctor_id = @id
+          AND prescription_date >= (CURRENT_DATE - INTERVAL '1 month')
+        ''',
+        parameters: QueryParameters.named({'id': resolvedDoctorId}),
+      );
+
+      final lastMonthPrescriptions = lastMonthRows.isNotEmpty
+          ? (lastMonthRows.first.toColumnMap()['total'] as int? ?? 0)
+          : 0;
+
+      // Last 7 days inclusive => CURRENT_DATE - 6 days
+      final lastWeekRows = await session.db.unsafeQuery(
+        r'''
+        SELECT COUNT(*)::int AS total
+        FROM prescriptions
+        WHERE doctor_id = @id
+          AND prescription_date >= (CURRENT_DATE - INTERVAL '6 days')
+        ''',
+        parameters: QueryParameters.named({'id': resolvedDoctorId}),
+      );
+
+      final lastWeekPrescriptions = lastWeekRows.isNotEmpty
+          ? (lastWeekRows.first.toColumnMap()['total'] as int? ?? 0)
+          : 0;
+
+      final now = DateTime.now().toUtc();
+
+      // Recent activity: last 10 prescriptions
+      final recentRows = await session.db.unsafeQuery(
+        r'''
+        SELECT prescription_id, name, created_at
+        FROM prescriptions
+        WHERE doctor_id = @id
+        ORDER BY created_at DESC NULLS LAST, prescription_id DESC
+        LIMIT 10
+        ''',
+        parameters: QueryParameters.named({'id': resolvedDoctorId}),
+      );
+
+      final recent = <DoctorHomeRecentItem>[];
+      for (final r in recentRows) {
+        final m = r.toColumnMap();
+        final createdAt = (m['created_at'] as DateTime?)?.toUtc();
+
+        recent.add(
+          DoctorHomeRecentItem(
+            title: 'Prescription created',
+            subtitle: _s(m['name']),
+            timeAgo: _timeAgo(createdAt, now),
+            type: 'prescription',
+            prescriptionId: m['prescription_id'] as int?,
+          ),
+        );
+      }
+
+      // Reviewed reports: last 10 UploadpatientR for this doctor
+      final reportRows = await session.db.unsafeQuery(
+        r'''
+        SELECT
+          r.report_id,
+          r.type,
+          r.created_at,
+          r.prescription_id,
+          COALESCE(u.name, '') AS uploaded_by_name
+        FROM UploadpatientR r
+        LEFT JOIN users u ON u.user_id = r.uploaded_by
+        WHERE r.prescribed_doctor_id = @id
+        ORDER BY r.created_at DESC NULLS LAST, r.report_id DESC
+        LIMIT 10
+        ''',
+        parameters: QueryParameters.named({'id': resolvedDoctorId}),
+      );
+
+      final reviewedReports = <DoctorHomeReviewedReport>[];
+      for (final r in reportRows) {
+        final m = r.toColumnMap();
+        final createdAt = (m['created_at'] as DateTime?)?.toUtc();
+
+        reviewedReports.add(
+          DoctorHomeReviewedReport(
+            reportId: m['report_id'] as int?,
+            type: _s(m['type']),
+            uploadedByName: _s(m['uploaded_by_name']),
+            prescriptionId: m['prescription_id'] as int?,
+            timeAgo: _timeAgo(createdAt, now),
+          ),
+        );
+      }
+
+      return DoctorHomeData(
+        doctorName: doctorName,
+        doctorDesignation: friendlyRole(doctorRoleRaw),
+        doctorProfilePictureUrl:
+            doctorProfilePictureUrl.isEmpty ? null : doctorProfilePictureUrl,
+        today: DateTime.now().toUtc(),
+        lastMonthPrescriptions: lastMonthPrescriptions,
+        lastWeekPrescriptions: lastWeekPrescriptions,
+        recent: recent,
+        reviewedReports: reviewedReports,
+      );
+    } catch (e, st) {
+      session.log(
+        'getDoctorHomeData failed: $e',
+        level: LogLevel.error,
+        stackTrace: st,
+      );
+
+      return DoctorHomeData(
+        doctorName: '',
+        doctorDesignation: '',
+        doctorProfilePictureUrl: null,
+        today: DateTime.now().toUtc(),
+        lastMonthPrescriptions: 0,
+        lastWeekPrescriptions: 0,
+        recent: const [],
+        reviewedReports: const [],
+      );
+    }
+  }
+
+  // Doctor info (name + signature)
+  // ----------------------------
+  Future<Map<String, String?>> getDoctorInfo(Session session) async {
     try {
-      final res = await session.db.unsafeQuery('''
-        SELECT u.name, s.signature_url 
-        FROM users u 
-        JOIN staff_profiles s ON u.user_id = s.user_id 
+      final resolvedDoctorId = requireAuthenticatedUserId(session);
+
+      final res = await session.db.unsafeQuery(
+        r'''
+        SELECT u.name, s.signature_url
+        FROM users u
+        JOIN staff_profiles s ON u.user_id = s.user_id
         WHERE u.user_id = @id
-      ''', parameters: QueryParameters.named({'id': doctorId}));
+        ''',
+        parameters: QueryParameters.named({'id': resolvedDoctorId}),
+      );
 
       if (res.isEmpty) return {'name': '', 'signature': ''};
+
       final row = res.first.toColumnMap();
       return {
         'name': _decode(row['name']),
         'signature': _decode(row['signature_url']),
       };
-    } catch (e) {
+    } catch (_) {
       return {'name': '', 'signature': ''};
     }
   }
 
-  // ‡¶π‡ßá‡¶≤‡ßç‡¶™‡¶æ‡¶∞: ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶∏‡¶æ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶°‡¶ø‡¶ï‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá
-  String _decode(dynamic v) {
-    if (v == null) return '';
-    if (v is List<int>) return String.fromCharCodes(v);
-    return v.toString();
-  }
-
   /// ‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶§‡¶æ‡¶∞ ‡¶∏‡¶á ‡¶è‡¶¨‡¶Ç ‡¶®‡¶æ‡¶Æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶æ
-  Future<DoctorProfile?> getDoctorProfile(
-      Session session,int doctorId
-      ) async {
+  Future<DoctorProfile?> getDoctorProfile(Session session, int doctorId) async {
     try {
+      final resolvedDoctorId = requireAuthenticatedUserId(session);
       final res = await session.db.unsafeQuery('''
       SELECT u.user_id, u.name, u.email, u.phone, u.profile_picture_url,
              s.designation, s.qualification, s.signature_url
@@ -47,7 +220,7 @@ class DoctorEndpoint extends Endpoint {
       LEFT JOIN staff_profiles s ON u.user_id = s.user_id
       WHERE u.user_id = @id
       LIMIT 1
-    ''', parameters: QueryParameters.named({'id': doctorId}));
+    ''', parameters: QueryParameters.named({'id': resolvedDoctorId}));
 
       if (res.isEmpty) return null;
 
@@ -74,25 +247,25 @@ class DoctorEndpoint extends Endpoint {
   }
 
   /// Update doctor's user and staff profile. If staff_profiles row doesn't exist, insert it.
-  /// Allows profilePictureUrl and signatureUrl to be either a remote URL or a base64/data URL.
+  /// Expects profilePictureUrl and signatureUrl to be remote URLs (uploads happen on frontend).
   Future<bool> updateDoctorProfile(
-      Session session,
-      int doctorId,
-      String name,
-      String email,
-      String phone,
-      String? profilePictureUrl,
-      String? designation,
-      String? qualification,
-      String? signatureUrl,
-      ) async {
+    Session session,
+    int doctorId,
+    String name,
+    String email,
+    String phone,
+    String? profilePictureUrl,
+    String? designation,
+    String? qualification,
+    String? signatureUrl,
+  ) async {
     try {
-
+      final resolvedDoctorId = requireAuthenticatedUserId(session);
       // Pre-check for duplicate phone (different user)
       final dup = await session.db.unsafeQuery(
         'SELECT 1 FROM users WHERE phone = @ph AND user_id <> @id LIMIT 1',
         parameters:
-        QueryParameters.named({'ph': phone, 'id': doctorId}),
+            QueryParameters.named({'ph': phone, 'id': resolvedDoctorId}),
       );
 
       if (dup.isNotEmpty) {
@@ -100,49 +273,16 @@ class DoctorEndpoint extends Endpoint {
         throw Exception('Phone number already registered');
       }
 
-      // If the provided profilePictureUrl or signatureUrl are base64/data URIs, upload them server-side.
-      String? finalProfileUrl = profilePictureUrl;
-      String? finalSignatureUrl = signatureUrl;
-
-      // Helper to decode base64/data-uri to bytes
-      List<int>? decodeBase64(String? data) {
-        if (data == null) return null;
-        var s = data.trim();
+      String? normalizeUrl(String? value) {
+        if (value == null) return null;
+        final s = value.trim();
         if (s.isEmpty) return null;
-        // If it looks like a URL, not base64
-        if (s.startsWith('http://') || s.startsWith('https://')) return null;
-        // Remove data:image/...;base64, prefix if present
-        if (s.contains(',')) s = s.split(',').last;
-        s = s.replaceAll(RegExp(r"\s+"), '');
-        try {
-          return base64.decode(s);
-        } catch (e) {
-          return null;
-        }
-      }
-
-      final profileBytes = decodeBase64(profilePictureUrl);
-      final sigBytes = decodeBase64(signatureUrl);
-
-      // Upload before transaction so we don't hold DB locks during network IO
-      if (profileBytes != null) {
-        if (profileBytes.length > 2 * 1024 * 1024) {
-          return false; // too large
-        }
-        finalProfileUrl = await CloudinaryUpload.uploadFile(
-            base64Data: ' profileBytes', folder: 'doctor_signatures');
-        if (finalProfileUrl == null) return false;
+        if (s.startsWith('http://') || s.startsWith('https://')) return s;
+        return null;
       }
 
-      if (sigBytes != null) {
-        if (sigBytes.length > 2 * 1024 * 1024) {
-          return false;
-        }
-        finalSignatureUrl = await CloudinaryUpload.uploadFile(
-            base64Data: 'sigBytes', folder: 'doctor_signatures');
-
-        if (finalSignatureUrl == null) return false;
-      }
+      final String? finalProfileUrl = normalizeUrl(profilePictureUrl);
+      final String? finalSignatureUrl = normalizeUrl(signatureUrl);
 
       await session.db.unsafeExecute('BEGIN');
 
@@ -157,13 +297,13 @@ class DoctorEndpoint extends Endpoint {
             'email': email.trim(),
             'phone': phone,
             'pp': finalProfileUrl,
-            'id': doctorId
+            'id': resolvedDoctorId
           }));
 
       // Check if staff_profiles exists
       final exists = await session.db.unsafeQuery(
           'SELECT 1 FROM staff_profiles WHERE user_id = @id',
-          parameters: QueryParameters.named({'id': doctorId}));
+          parameters: QueryParameters.named({'id': resolvedDoctorId}));
 
       if (exists.isEmpty) {
         // insert
@@ -172,7 +312,7 @@ class DoctorEndpoint extends Endpoint {
           VALUES (@id, @spec, @qual, @sig)
         ''',
             parameters: QueryParameters.named({
-              'id': doctorId,
+              'id': resolvedDoctorId,
               'spec': designation,
               'qual': qualification,
               'sig': finalSignatureUrl
@@ -187,7 +327,7 @@ class DoctorEndpoint extends Endpoint {
               'spec': designation,
               'qual': qualification,
               'sig': finalSignatureUrl,
-              'id': doctorId
+              'id': resolvedDoctorId
             }));
       }
 
@@ -215,16 +355,24 @@ class DoctorEndpoint extends Endpoint {
 
       // Search: phone ends with last 11 digits
       final res = await session.db.unsafeQuery(
-        '''SELECT user_id, name FROM users 
-         WHERE phone IS NOT NULL 
-         AND (
-           REPLACE(REPLACE(phone, ' ', ''), '-', '') LIKE @pattern
-           OR RIGHT(REPLACE(REPLACE(phone, ' ', ''), '-', ''), 11) = @num
-         )
-         LIMIT 1''',
+        '''
+        SELECT
+          u.user_id,
+          u.name,
+          p.date_of_birth,
+          EXTRACT(YEAR FROM age(CURRENT_DATE, p.date_of_birth))::int AS age
+        FROM users u
+        LEFT JOIN patient_profiles p ON p.user_id = u.user_id
+        WHERE u.phone IS NOT NULL
+          AND (
+            REPLACE(REPLACE(u.phone, ' ', ''), '-', '') LIKE @pattern
+            OR RIGHT(REPLACE(REPLACE(u.phone, ' ', ''), '-', ''), 11) = @num
+          )
+        LIMIT 1
+        ''',
         parameters: QueryParameters.named({
-          'pattern': '%$last11',  // Ends with last11
-          'num': last11,           // Exact last 11
+          'pattern': '%$last11', // Ends with last11
+          'num': last11, // Exact last 11
         }),
       );
 
@@ -236,7 +384,13 @@ class DoctorEndpoint extends Endpoint {
 
       final row = res.first.toColumnMap();
       final userId = row['user_id']?.toString();
-      final name = decode(row['name']);
+      final name = _decode(row['name']);
+
+      final dob = row['date_of_birth'];
+      final dobStr = dob == null ? null : dob.toString();
+
+      final ageVal = row['age'];
+      final ageStr = ageVal == null ? null : ageVal.toString();
 
       session.log('Patient found: ID=$userId, Name=$name',
           level: LogLevel.info);
@@ -244,6 +398,8 @@ class DoctorEndpoint extends Endpoint {
       return {
         'id': userId,
         'name': name,
+        'dateOfBirth': dobStr,
+        'age': ageStr,
       };
     } catch (e) {
       session.log('Error in getPatientByPhone: $e', level: LogLevel.error);
@@ -251,16 +407,15 @@ class DoctorEndpoint extends Endpoint {
     }
   }
 
-
   /// ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡ßç‡¶∞‡ßá‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ
   Future<int> createPrescription(
-      Session session,
-      Prescription prescription,
-      List<PrescribedItem> items,
-      String patientPhone,
-      ) async {
+    Session session,
+    Prescription prescription,
+    List<PrescribedItem> items,
+    String patientPhone,
+  ) async {
     try {
-
+      final resolvedDoctorId = requireAuthenticatedUserId(session);
       // FIXED QUERY: Joining with 'users' because 'phone' isn't in 'patient_profiles'
       // createPrescription ‡¶Æ‡ßá‡¶•‡¶°‡ßá‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡ßá ‡¶è‡¶á ‡¶Ö‡¶Ç‡¶∂‡¶ü‡ßÅ‡¶ï‡ßÅ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®:
       final patientData = await getPatientByPhone(session, patientPhone);
@@ -284,7 +439,7 @@ class DoctorEndpoint extends Endpoint {
     ''',
           parameters: QueryParameters.named({
             'pid': foundPatientId,
-            'did': prescription.doctorId,
+            'did': resolvedDoctorId,
             'name': prescription.name,
             'age': prescription.age,
             'mobile': prescription.mobileNumber,
@@ -332,13 +487,15 @@ class DoctorEndpoint extends Endpoint {
   }
 
   // ‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶Ü‡¶∏‡¶æ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø
-  Future<List<PatientExternalReport>> getReportsForDoctor(Session session,int doctorId) async {
+  Future<List<PatientExternalReport>> getReportsForDoctor(
+      Session session, int doctorId) async {
     try {
+      final resolvedDoctorId = requireAuthenticatedUserId(session);
       final res = await session.db.unsafeQuery('''
       SELECT * FROM UploadpatientR 
       WHERE prescribed_doctor_id = @id 
       ORDER BY created_at DESC
-    ''', parameters: QueryParameters.named({'id': doctorId}));
+    ''', parameters: QueryParameters.named({'id': resolvedDoctorId}));
 
       return res.map((row) {
         final map = row.toColumnMap();
@@ -362,22 +519,28 @@ class DoctorEndpoint extends Endpoint {
 
 //update Prescription
   Future<int> revisePrescription(
-      Session session, {
-        required int originalPrescriptionId,
-        required String newAdvice,
-        required List<PrescribedItem> newItems,
-      }) async {
+    Session session, {
+    required int originalPrescriptionId,
+    required String newAdvice,
+    required List<PrescribedItem> newItems,
+  }) async {
     try {
+      final resolvedDoctorId = requireAuthenticatedUserId(session);
       await session.db.unsafeExecute('BEGIN');
 
       // ‡ßß. ‡¶™‡ßÅ‡¶∞‡¶®‡ßã ‡¶™‡ßç‡¶∞‡ßá‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶®‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ
       final oldPres = await session.db.unsafeQuery(
           'SELECT * FROM prescriptions WHERE prescription_id = @id',
-          parameters: QueryParameters.named({'id': originalPrescriptionId})
-      );
+          parameters: QueryParameters.named({'id': originalPrescriptionId}));
       if (oldPres.isEmpty) return -1;
       final pData = oldPres.first.toColumnMap();
 
+      // Only allow revising prescriptions created by this doctor
+      if (pData['doctor_id'] != resolvedDoctorId) {
+        await session.db.unsafeExecute('ROLLBACK');
+        return -1;
+      }
+
       // ‡ß®. ‡¶®‡¶§‡ßÅ‡¶® (Revised) ‡¶™‡ßç‡¶∞‡ßá‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶§‡ßà‡¶∞‡¶ø
       final res = await session.db.unsafeQuery('''
       INSERT INTO prescriptions (
@@ -387,19 +550,20 @@ class DoctorEndpoint extends Endpoint {
         @pid, @did, @name, @age, @mobile, @gender,
         @cc, @oe, @advice, @test, @revisedId
       ) RETURNING prescription_id
-    ''', parameters: QueryParameters.named({
-        'pid': pData['patient_id'],
-        'did': pData['doctor_id'],
-        'name': pData['name'],
-        'age': pData['age'],
-        'mobile': pData['mobile_number'],
-        'gender': pData['gender'],
-        'cc': pData['cc'],
-        'oe': pData['oe'],
-        'advice': newAdvice,
-        'test': pData['test'],
-        'revisedId': originalPrescriptionId,
-      }));
+    ''',
+          parameters: QueryParameters.named({
+            'pid': pData['patient_id'],
+            'did': resolvedDoctorId,
+            'name': pData['name'],
+            'age': pData['age'],
+            'mobile': pData['mobile_number'],
+            'gender': pData['gender'],
+            'cc': pData['cc'],
+            'oe': pData['oe'],
+            'advice': newAdvice,
+            'test': pData['test'],
+            'revisedId': originalPrescriptionId,
+          }));
 
       final newId = res.first.toColumnMap()['prescription_id'] as int;
 
@@ -408,13 +572,14 @@ class DoctorEndpoint extends Endpoint {
         await session.db.unsafeExecute('''
         INSERT INTO prescribed_items (prescription_id, medicine_name, dosage_times, meal_timing, duration)
         VALUES (@preId, @mname, @dtimes, @mtiming, @dur)
-      ''', parameters: QueryParameters.named({
-          'preId': newId,
-          'mname': item.medicineName,
-          'dtimes': item.dosageTimes,
-          'mtiming': item.mealTiming,
-          'dur': item.duration,
-        }));
+      ''',
+            parameters: QueryParameters.named({
+              'preId': newId,
+              'mname': item.medicineName,
+              'dtimes': item.dosageTimes,
+              'mtiming': item.mealTiming,
+              'dur': item.duration,
+            }));
       }
 
       // ‡ß™. ‡¶™‡ßá‡¶∂‡ßá‡¶®‡ßç‡¶ü‡¶ï‡ßá ‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã
@@ -431,14 +596,14 @@ class DoctorEndpoint extends Endpoint {
     }
   }
 
-
   /// List page: all prescriptions (latest first) + optional search by name/phone
   Future<List<PatientPrescriptionListItem>> getPatientPrescriptionList(
-      Session session, {
-        String? query,
-        int limit = 100,
-        int offset = 0,
-      }) async {
+    Session session, {
+    String? query,
+    int limit = 100,
+    int offset = 0,
+  }) async {
+    final resolvedDoctorId = requireAuthenticatedUserId(session);
     final q = (query ?? '').trim();
 
     final rows = await session.db.unsafeQuery(r'''
@@ -451,18 +616,21 @@ class DoctorEndpoint extends Endpoint {
         prescription_date
       FROM prescriptions
       WHERE
+        doctor_id = @did AND
         (@q = '' OR
          LOWER(name) LIKE LOWER(@likeQ) OR
          REPLACE(REPLACE(mobile_number, ' ', ''), '-', '') LIKE @phoneLike)
       ORDER BY prescription_id DESC
       LIMIT @limit OFFSET @offset
-    ''', parameters: QueryParameters.named({
-      'q': q,
-      'likeQ': '%$q%',
-      'phoneLike': '%${q.replaceAll(RegExp(r'[^0-9]'), '')}%',
-      'limit': limit,
-      'offset': offset,
-    }));
+    ''',
+        parameters: QueryParameters.named({
+          'did': resolvedDoctorId,
+          'q': q,
+          'likeQ': '%$q%',
+          'phoneLike': '%${q.replaceAll(RegExp(r'[^0-9]'), '')}%',
+          'limit': limit,
+          'offset': offset,
+        }));
 
     return rows.map((r) {
       final m = r.toColumnMap();
@@ -479,9 +647,10 @@ class DoctorEndpoint extends Endpoint {
 
   /// Bottom sheet: single prescription full details + medicines
   Future<PatientPrescriptionDetails?> getPrescriptionDetails(
-      Session session, {
-        required int prescriptionId,
-      }) async {
+    Session session, {
+    required int prescriptionId,
+  }) async {
+    final resolvedDoctorId = requireAuthenticatedUserId(session);
     final presRows = await session.db.unsafeQuery(r'''
       SELECT
         prescription_id,
@@ -494,9 +663,13 @@ class DoctorEndpoint extends Endpoint {
         advice,
         test
       FROM prescriptions
-      WHERE prescription_id = @id
+      WHERE prescription_id = @id AND doctor_id = @did
       LIMIT 1
-    ''', parameters: QueryParameters.named({'id': prescriptionId}));
+    ''',
+        parameters: QueryParameters.named({
+          'id': prescriptionId,
+          'did': resolvedDoctorId,
+        }));
 
     if (presRows.isEmpty) return null;
 
@@ -532,16 +705,25 @@ class DoctorEndpoint extends Endpoint {
       items: items,
     );
   }
-  String decode(dynamic v) {
+
+  String _decode(dynamic v) {
     if (v == null) return '';
     if (v is List<int>) return String.fromCharCodes(v);
     return v.toString();
   }
+
   String _s(dynamic v) {
     if (v == null) return '';
     if (v is List<int>) return String.fromCharCodes(v);
     return v.toString();
   }
 
-
+  String _timeAgo(DateTime? createdAtUtc, DateTime nowUtc) {
+    if (createdAtUtc == null) return '';
+    final diff = nowUtc.difference(createdAtUtc);
+    if (diff.inSeconds < 60) return 'just now';
+    if (diff.inMinutes < 60) return '${diff.inMinutes} min ago';
+    if (diff.inHours < 24) return '${diff.inHours} hours ago';
+    return '${diff.inDays} days ago';
+  }
 }
diff --git a/backend/backend_server/lib/src/endpoints/lab_endpoints.dart b/backend/backend_server/lib/src/endpoints/lab_endpoints.dart
index 57ace5c..a747578 100644
--- a/backend/backend_server/lib/src/endpoints/lab_endpoints.dart
+++ b/backend/backend_server/lib/src/endpoints/lab_endpoints.dart
@@ -3,8 +3,6 @@ import 'package:backend_server/src/generated/protocol.dart';
 import 'dart:convert';
 import 'dart:typed_data';
 
-import 'cloudinary_upload.dart';
-
 import '../utils/auth_user.dart';
 
 class LabEndpoint extends Endpoint {
@@ -122,51 +120,6 @@ class LabEndpoint extends Endpoint {
     }
   }
 
-  /// Uploads lab result (PDF or Image) to Cloudinary and updates DB
-  Future<String?> attachResultFileCloudinary(
-    Session session, {
-    required int resultId,
-    required String base64Data,
-    required String fileName,
-  }) async {
-    try {
-      // ‡¶´‡¶æ‡¶á‡¶≤ ‡¶è‡¶ï‡ßç‡¶∏‡¶ü‡ßá‡¶®‡¶∂‡¶® ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá PDF ‡¶ï‡¶ø ‡¶®‡¶æ ‡¶§‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ï‡¶∞‡¶æ
-      final bool isPdf = fileName.toLowerCase().endsWith('.pdf');
-
-      // CloudinaryUpload ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶≤‡ßã‡¶°
-      final String? secureUrl = await CloudinaryUpload.uploadFile(
-        base64Data: base64Data,
-        folder: 'lab_reports',
-        isPdf: isPdf,
-      );
-
-      if (secureUrl == null) {
-        session.log('Cloudinary upload returned null', level: LogLevel.error);
-        return null;
-      }
-
-      // ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏‡ßá ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® URL ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
-      await session.db.unsafeExecute(
-        '''
-        UPDATE test_results
-        SET is_uploaded = TRUE,
-            attachment_path = @url
-        WHERE result_id = @id
-        ''',
-        parameters: QueryParameters.named({
-          'id': resultId,
-          'url': secureUrl,
-        }),
-      );
-
-      return secureUrl;
-    } catch (e, st) {
-      session.log('Attach file to Cloudinary failed: $e',
-          level: LogLevel.error, stackTrace: st);
-      return null;
-    }
-  }
-
   /// Dummy SMS sender: logs message to server logs (no real SMS)
   Future<bool> sendDummySms(Session session,
       {required String mobileNumber, required String message}) async {
@@ -202,25 +155,16 @@ class LabEndpoint extends Endpoint {
     }
   }
 
-  /// Submit or resubmit result + dummy SMS notification
-  /// Submit result: upload file to Cloudinary, save URL and timestamp
-  Future<bool> submitResultWithFile(
+  /// Submit or resubmit result + dummy SMS notification.
+  /// Upload happens on frontend; backend only stores the URL.
+  Future<bool> submitResultWithUrl(
     Session session, {
     required int resultId,
-    required String base64Data,
-    required String fileName,
+    required String attachmentUrl,
   }) async {
     try {
-      // Upload file to Cloudinary
-      final bool isPdf = fileName.toLowerCase().endsWith('.pdf');
-      final String? secureUrl = await CloudinaryUpload.uploadFile(
-        base64Data: base64Data,
-        folder: 'lab_reports',
-        isPdf: isPdf,
-      );
-
-      if (secureUrl == null) {
-        session.log('Cloudinary upload failed', level: LogLevel.error);
+      final url = attachmentUrl.trim();
+      if (!(url.startsWith('http://') || url.startsWith('https://'))) {
         return false;
       }
 
@@ -235,7 +179,7 @@ class LabEndpoint extends Endpoint {
       ''',
         parameters: QueryParameters.named({
           'id': resultId,
-          'url': secureUrl,
+          'url': url,
         }),
       );
 
@@ -390,19 +334,6 @@ class LabEndpoint extends Endpoint {
     }
   }
 
-  /// ‡¶∏‡ßç‡¶ü‡¶æ‡¶´ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶á‡¶Æ‡ßá‡¶ú ‡¶Ü‡¶™‡¶≤‡ßã‡¶°
-  Future<String?> uploadProfileImage(
-    Session session,
-    String base64Data,
-  ) async {
-    // ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶ï‡ßç‡¶≤‡¶æ‡¶â‡¶°‡¶ø‡¶®‡¶æ‡¶∞‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶ï‡¶≤
-    return await CloudinaryUpload.uploadFile(
-      base64Data: base64Data,
-      folder: 'staff_profiles',
-      isPdf: false,
-    );
-  }
-
   // --- Type Safety Helpers ---
 
   String _safeString(dynamic value) {
diff --git a/backend/backend_server/lib/src/endpoints/password_endpoint.dart b/backend/backend_server/lib/src/endpoints/password_endpoint.dart
index 391e2d8..6c06d40 100644
--- a/backend/backend_server/lib/src/endpoints/password_endpoint.dart
+++ b/backend/backend_server/lib/src/endpoints/password_endpoint.dart
@@ -7,30 +7,24 @@ import '../utils/auth_user.dart';
 class PasswordEndpoint extends Endpoint {
   @override
   bool get requireLogin => true;
-
-  Future<String> changePasswordByUserIdEmail(
+  Future<String> changePassword(
     Session session, {
-    required int userId,
-    required String email,
     required String currentPassword,
     required String newPassword,
   }) async {
     final resolvedUserId = requireAuthenticatedUserId(session);
-    return _changePasswordByUserIdEmail(
+    return _changePasswordByUserId(
       session,
       userId: resolvedUserId,
-      email: email,
       currentPassword: currentPassword,
       newPassword: newPassword,
     );
   }
 }
 
-// Raw helper function (private)
-Future<String> _changePasswordByUserIdEmail(
+Future<String> _changePasswordByUserId(
   Session session, {
   required int userId,
-  required String email,
   required String currentPassword,
   required String newPassword,
 }) async {
@@ -38,13 +32,13 @@ Future<String> _changePasswordByUserIdEmail(
 
   final rows = await session.db.unsafeQuery(
     r'''
-    SELECT user_id FROM users 
-    WHERE user_id = @userId AND email = @email 
-      AND password_hash = @currentHash AND is_active = true
+    SELECT user_id FROM users
+    WHERE user_id = @userId
+      AND password_hash = @currentHash
+      AND is_active = true
     ''',
     parameters: QueryParameters.named({
       'userId': userId,
-      'email': email,
       'currentHash': currentHash,
     }),
   );
@@ -55,13 +49,13 @@ Future<String> _changePasswordByUserIdEmail(
 
   final updated = await session.db.unsafeExecute(
     r'''
-    UPDATE users SET password_hash = @newHash 
-    WHERE user_id = @userId AND email = @email AND is_active = true
+    UPDATE users
+    SET password_hash = @newHash
+    WHERE user_id = @userId AND is_active = true
     ''',
     parameters: QueryParameters.named({
       'newHash': newHash,
       'userId': userId,
-      'email': email,
     }),
   );
 
diff --git a/backend/backend_server/lib/src/endpoints/patient_endpoints.dart b/backend/backend_server/lib/src/endpoints/patient_endpoints.dart
index 7551fde..4c80cf5 100644
--- a/backend/backend_server/lib/src/endpoints/patient_endpoints.dart
+++ b/backend/backend_server/lib/src/endpoints/patient_endpoints.dart
@@ -3,8 +3,6 @@ import 'package:backend_server/src/generated/protocol.dart';
 
 import '../utils/auth_user.dart';
 
-import 'cloudinary_upload.dart';
-
 class PatientEndpoint extends Endpoint {
   @override
   bool get requireLogin => true;
@@ -38,13 +36,14 @@ class PatientEndpoint extends Endpoint {
     if (value == null) return null;
     if (value is DateTime) return value;
     if (value is String) return DateTime.tryParse(value);
-    if (value is List<int>)
+    if (value is List<int>) {
       return DateTime.tryParse(String.fromCharCodes(value));
+    }
     return DateTime.tryParse(value.toString());
   }
 
   // Fetch patient profile
-  Future<PatientProfile?> getPatientProfile(Session session, int userId) async {
+  Future<PatientProfile?> getPatientProfile(Session session) async {
     try {
       await _ensurePatientProfileDobColumn(session);
       final resolvedUserId = requireAuthenticatedUserId(session);
@@ -224,16 +223,6 @@ class PatientEndpoint extends Endpoint {
     }
   }
 
-  int? _safeInt(dynamic value) {
-    if (value == null) return null;
-    if (value is int) return value;
-    if (value is num) return value.toInt();
-    if (value is String) return int.tryParse(value);
-    if (value is List<int>) return int.tryParse(String.fromCharCodes(value));
-    return int.tryParse(value.toString());
-  }
-
-  /// Fetch logged-in patient's lab reports using phone number
   /// Fetch logged-in patient's lab reports using phone number
   Future<List<PatientReportDto>> getMyLabReports(
     Session session,
@@ -314,22 +303,14 @@ class PatientEndpoint extends Endpoint {
     required int patientId,
     required int prescriptionId,
     required String reportType,
-    required String base64Data,
-    required String fileName,
+    required String fileUrl,
   }) async {
     try {
       final int resolvedPatientId = requireAuthenticatedUserId(session);
-      final bool isPdf = fileName.toLowerCase().endsWith('.pdf');
-
-      // ‡¶ï‡ßç‡¶≤‡¶æ‡¶â‡¶°‡¶ø‡¶®‡¶æ‡¶∞‡¶ø‡¶§‡ßá ‡¶Ü‡¶™‡¶≤‡ßã‡¶°
-      final String? secureUrl = await CloudinaryUpload.uploadFile(
-        base64Data:
-            base64Data, // ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶® cloudinary_upload.dart ‡¶è ‡¶è‡¶á ‡¶®‡¶æ‡¶Æ‡¶á ‡¶Ü‡¶õ‡ßá
-        folder: 'patient_external_reports',
-        isPdf: isPdf,
-      );
 
-      if (secureUrl == null) return false;
+      final secureUrl = fileUrl.trim();
+      if (!(secureUrl.startsWith('http://') ||
+          secureUrl.startsWith('https://'))) return false;
 
       // ‡ßß‡ß® ‡¶ò‡¶£‡ßç‡¶ü‡¶æ ‡¶∞‡¶ø‡¶™‡ßç‡¶≤‡ßá‡¶∏ ‡¶≤‡¶ú‡¶ø‡¶ï: ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶á ‡¶™‡ßç‡¶∞‡ßá‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶®‡ßã ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶Ö‡¶≤‡¶∞‡ßá‡¶°‡¶ø ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø ‡¶®‡¶æ
       final existing = await session.db.unsafeQuery(
diff --git a/backend/backend_server/lib/src/generated/doctor_home_data.dart b/backend/backend_server/lib/src/generated/doctor_home_data.dart
new file mode 100644
index 0000000..032c307
--- /dev/null
+++ b/backend/backend_server/lib/src/generated/doctor_home_data.dart
@@ -0,0 +1,185 @@
+/* AUTOMATICALLY GENERATED CODE DO NOT MODIFY */
+/*   To generate run: "serverpod generate"    */
+
+// ignore_for_file: implementation_imports
+// ignore_for_file: library_private_types_in_public_api
+// ignore_for_file: non_constant_identifier_names
+// ignore_for_file: public_member_api_docs
+// ignore_for_file: type_literal_in_constant_pattern
+// ignore_for_file: use_super_parameters
+// ignore_for_file: invalid_use_of_internal_member
+
+// ignore_for_file: no_leading_underscores_for_library_prefixes
+import 'package:serverpod/serverpod.dart' as _i1;
+import 'doctor_home_recent_item.dart' as _i2;
+import 'doctor_home_reviewed_report.dart' as _i3;
+import 'package:backend_server/src/generated/protocol.dart' as _i4;
+
+abstract class DoctorHomeData
+    implements _i1.SerializableModel, _i1.ProtocolSerialization {
+  DoctorHomeData._({
+    required this.doctorName,
+    required this.doctorDesignation,
+    this.doctorProfilePictureUrl,
+    required this.today,
+    required this.lastMonthPrescriptions,
+    required this.lastWeekPrescriptions,
+    required this.recent,
+    required this.reviewedReports,
+  });
+
+  factory DoctorHomeData({
+    required String doctorName,
+    required String doctorDesignation,
+    String? doctorProfilePictureUrl,
+    required DateTime today,
+    required int lastMonthPrescriptions,
+    required int lastWeekPrescriptions,
+    required List<_i2.DoctorHomeRecentItem> recent,
+    required List<_i3.DoctorHomeReviewedReport> reviewedReports,
+  }) = _DoctorHomeDataImpl;
+
+  factory DoctorHomeData.fromJson(Map<String, dynamic> jsonSerialization) {
+    return DoctorHomeData(
+      doctorName: jsonSerialization['doctorName'] as String,
+      doctorDesignation: jsonSerialization['doctorDesignation'] as String,
+      doctorProfilePictureUrl:
+          jsonSerialization['doctorProfilePictureUrl'] as String?,
+      today: _i1.DateTimeJsonExtension.fromJson(jsonSerialization['today']),
+      lastMonthPrescriptions:
+          jsonSerialization['lastMonthPrescriptions'] as int,
+      lastWeekPrescriptions: jsonSerialization['lastWeekPrescriptions'] as int,
+      recent: _i4.Protocol().deserialize<List<_i2.DoctorHomeRecentItem>>(
+        jsonSerialization['recent'],
+      ),
+      reviewedReports: _i4.Protocol()
+          .deserialize<List<_i3.DoctorHomeReviewedReport>>(
+            jsonSerialization['reviewedReports'],
+          ),
+    );
+  }
+
+  String doctorName;
+
+  String doctorDesignation;
+
+  String? doctorProfilePictureUrl;
+
+  DateTime today;
+
+  int lastMonthPrescriptions;
+
+  int lastWeekPrescriptions;
+
+  List<_i2.DoctorHomeRecentItem> recent;
+
+  List<_i3.DoctorHomeReviewedReport> reviewedReports;
+
+  /// Returns a shallow copy of this [DoctorHomeData]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  DoctorHomeData copyWith({
+    String? doctorName,
+    String? doctorDesignation,
+    String? doctorProfilePictureUrl,
+    DateTime? today,
+    int? lastMonthPrescriptions,
+    int? lastWeekPrescriptions,
+    List<_i2.DoctorHomeRecentItem>? recent,
+    List<_i3.DoctorHomeReviewedReport>? reviewedReports,
+  });
+  @override
+  Map<String, dynamic> toJson() {
+    return {
+      '__className__': 'DoctorHomeData',
+      'doctorName': doctorName,
+      'doctorDesignation': doctorDesignation,
+      if (doctorProfilePictureUrl != null)
+        'doctorProfilePictureUrl': doctorProfilePictureUrl,
+      'today': today.toJson(),
+      'lastMonthPrescriptions': lastMonthPrescriptions,
+      'lastWeekPrescriptions': lastWeekPrescriptions,
+      'recent': recent.toJson(valueToJson: (v) => v.toJson()),
+      'reviewedReports': reviewedReports.toJson(valueToJson: (v) => v.toJson()),
+    };
+  }
+
+  @override
+  Map<String, dynamic> toJsonForProtocol() {
+    return {
+      '__className__': 'DoctorHomeData',
+      'doctorName': doctorName,
+      'doctorDesignation': doctorDesignation,
+      if (doctorProfilePictureUrl != null)
+        'doctorProfilePictureUrl': doctorProfilePictureUrl,
+      'today': today.toJson(),
+      'lastMonthPrescriptions': lastMonthPrescriptions,
+      'lastWeekPrescriptions': lastWeekPrescriptions,
+      'recent': recent.toJson(valueToJson: (v) => v.toJsonForProtocol()),
+      'reviewedReports': reviewedReports.toJson(
+        valueToJson: (v) => v.toJsonForProtocol(),
+      ),
+    };
+  }
+
+  @override
+  String toString() {
+    return _i1.SerializationManager.encode(this);
+  }
+}
+
+class _Undefined {}
+
+class _DoctorHomeDataImpl extends DoctorHomeData {
+  _DoctorHomeDataImpl({
+    required String doctorName,
+    required String doctorDesignation,
+    String? doctorProfilePictureUrl,
+    required DateTime today,
+    required int lastMonthPrescriptions,
+    required int lastWeekPrescriptions,
+    required List<_i2.DoctorHomeRecentItem> recent,
+    required List<_i3.DoctorHomeReviewedReport> reviewedReports,
+  }) : super._(
+         doctorName: doctorName,
+         doctorDesignation: doctorDesignation,
+         doctorProfilePictureUrl: doctorProfilePictureUrl,
+         today: today,
+         lastMonthPrescriptions: lastMonthPrescriptions,
+         lastWeekPrescriptions: lastWeekPrescriptions,
+         recent: recent,
+         reviewedReports: reviewedReports,
+       );
+
+  /// Returns a shallow copy of this [DoctorHomeData]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  @override
+  DoctorHomeData copyWith({
+    String? doctorName,
+    String? doctorDesignation,
+    Object? doctorProfilePictureUrl = _Undefined,
+    DateTime? today,
+    int? lastMonthPrescriptions,
+    int? lastWeekPrescriptions,
+    List<_i2.DoctorHomeRecentItem>? recent,
+    List<_i3.DoctorHomeReviewedReport>? reviewedReports,
+  }) {
+    return DoctorHomeData(
+      doctorName: doctorName ?? this.doctorName,
+      doctorDesignation: doctorDesignation ?? this.doctorDesignation,
+      doctorProfilePictureUrl: doctorProfilePictureUrl is String?
+          ? doctorProfilePictureUrl
+          : this.doctorProfilePictureUrl,
+      today: today ?? this.today,
+      lastMonthPrescriptions:
+          lastMonthPrescriptions ?? this.lastMonthPrescriptions,
+      lastWeekPrescriptions:
+          lastWeekPrescriptions ?? this.lastWeekPrescriptions,
+      recent: recent ?? this.recent.map((e0) => e0.copyWith()).toList(),
+      reviewedReports:
+          reviewedReports ??
+          this.reviewedReports.map((e0) => e0.copyWith()).toList(),
+    );
+  }
+}
diff --git a/backend/backend_server/lib/src/generated/doctor_home_recent_item.dart b/backend/backend_server/lib/src/generated/doctor_home_recent_item.dart
new file mode 100644
index 0000000..b6889ee
--- /dev/null
+++ b/backend/backend_server/lib/src/generated/doctor_home_recent_item.dart
@@ -0,0 +1,133 @@
+/* AUTOMATICALLY GENERATED CODE DO NOT MODIFY */
+/*   To generate run: "serverpod generate"    */
+
+// ignore_for_file: implementation_imports
+// ignore_for_file: library_private_types_in_public_api
+// ignore_for_file: non_constant_identifier_names
+// ignore_for_file: public_member_api_docs
+// ignore_for_file: type_literal_in_constant_pattern
+// ignore_for_file: use_super_parameters
+// ignore_for_file: invalid_use_of_internal_member
+
+// ignore_for_file: no_leading_underscores_for_library_prefixes
+import 'package:serverpod/serverpod.dart' as _i1;
+
+abstract class DoctorHomeRecentItem
+    implements _i1.SerializableModel, _i1.ProtocolSerialization {
+  DoctorHomeRecentItem._({
+    required this.title,
+    required this.subtitle,
+    required this.timeAgo,
+    required this.type,
+    this.prescriptionId,
+  });
+
+  factory DoctorHomeRecentItem({
+    required String title,
+    required String subtitle,
+    required String timeAgo,
+    required String type,
+    int? prescriptionId,
+  }) = _DoctorHomeRecentItemImpl;
+
+  factory DoctorHomeRecentItem.fromJson(
+    Map<String, dynamic> jsonSerialization,
+  ) {
+    return DoctorHomeRecentItem(
+      title: jsonSerialization['title'] as String,
+      subtitle: jsonSerialization['subtitle'] as String,
+      timeAgo: jsonSerialization['timeAgo'] as String,
+      type: jsonSerialization['type'] as String,
+      prescriptionId: jsonSerialization['prescriptionId'] as int?,
+    );
+  }
+
+  String title;
+
+  String subtitle;
+
+  String timeAgo;
+
+  String type;
+
+  int? prescriptionId;
+
+  /// Returns a shallow copy of this [DoctorHomeRecentItem]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  DoctorHomeRecentItem copyWith({
+    String? title,
+    String? subtitle,
+    String? timeAgo,
+    String? type,
+    int? prescriptionId,
+  });
+  @override
+  Map<String, dynamic> toJson() {
+    return {
+      '__className__': 'DoctorHomeRecentItem',
+      'title': title,
+      'subtitle': subtitle,
+      'timeAgo': timeAgo,
+      'type': type,
+      if (prescriptionId != null) 'prescriptionId': prescriptionId,
+    };
+  }
+
+  @override
+  Map<String, dynamic> toJsonForProtocol() {
+    return {
+      '__className__': 'DoctorHomeRecentItem',
+      'title': title,
+      'subtitle': subtitle,
+      'timeAgo': timeAgo,
+      'type': type,
+      if (prescriptionId != null) 'prescriptionId': prescriptionId,
+    };
+  }
+
+  @override
+  String toString() {
+    return _i1.SerializationManager.encode(this);
+  }
+}
+
+class _Undefined {}
+
+class _DoctorHomeRecentItemImpl extends DoctorHomeRecentItem {
+  _DoctorHomeRecentItemImpl({
+    required String title,
+    required String subtitle,
+    required String timeAgo,
+    required String type,
+    int? prescriptionId,
+  }) : super._(
+         title: title,
+         subtitle: subtitle,
+         timeAgo: timeAgo,
+         type: type,
+         prescriptionId: prescriptionId,
+       );
+
+  /// Returns a shallow copy of this [DoctorHomeRecentItem]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  @override
+  DoctorHomeRecentItem copyWith({
+    String? title,
+    String? subtitle,
+    String? timeAgo,
+    String? type,
+    Object? prescriptionId = _Undefined,
+  }) {
+    return DoctorHomeRecentItem(
+      title: title ?? this.title,
+      subtitle: subtitle ?? this.subtitle,
+      timeAgo: timeAgo ?? this.timeAgo,
+      type: type ?? this.type,
+      prescriptionId: prescriptionId is int?
+          ? prescriptionId
+          : this.prescriptionId,
+    );
+  }
+}
diff --git a/backend/backend_server/lib/src/generated/doctor_home_reviewed_report.dart b/backend/backend_server/lib/src/generated/doctor_home_reviewed_report.dart
new file mode 100644
index 0000000..fb2f1ea
--- /dev/null
+++ b/backend/backend_server/lib/src/generated/doctor_home_reviewed_report.dart
@@ -0,0 +1,133 @@
+/* AUTOMATICALLY GENERATED CODE DO NOT MODIFY */
+/*   To generate run: "serverpod generate"    */
+
+// ignore_for_file: implementation_imports
+// ignore_for_file: library_private_types_in_public_api
+// ignore_for_file: non_constant_identifier_names
+// ignore_for_file: public_member_api_docs
+// ignore_for_file: type_literal_in_constant_pattern
+// ignore_for_file: use_super_parameters
+// ignore_for_file: invalid_use_of_internal_member
+
+// ignore_for_file: no_leading_underscores_for_library_prefixes
+import 'package:serverpod/serverpod.dart' as _i1;
+
+abstract class DoctorHomeReviewedReport
+    implements _i1.SerializableModel, _i1.ProtocolSerialization {
+  DoctorHomeReviewedReport._({
+    this.reportId,
+    required this.type,
+    required this.uploadedByName,
+    this.prescriptionId,
+    required this.timeAgo,
+  });
+
+  factory DoctorHomeReviewedReport({
+    int? reportId,
+    required String type,
+    required String uploadedByName,
+    int? prescriptionId,
+    required String timeAgo,
+  }) = _DoctorHomeReviewedReportImpl;
+
+  factory DoctorHomeReviewedReport.fromJson(
+    Map<String, dynamic> jsonSerialization,
+  ) {
+    return DoctorHomeReviewedReport(
+      reportId: jsonSerialization['reportId'] as int?,
+      type: jsonSerialization['type'] as String,
+      uploadedByName: jsonSerialization['uploadedByName'] as String,
+      prescriptionId: jsonSerialization['prescriptionId'] as int?,
+      timeAgo: jsonSerialization['timeAgo'] as String,
+    );
+  }
+
+  int? reportId;
+
+  String type;
+
+  String uploadedByName;
+
+  int? prescriptionId;
+
+  String timeAgo;
+
+  /// Returns a shallow copy of this [DoctorHomeReviewedReport]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  DoctorHomeReviewedReport copyWith({
+    int? reportId,
+    String? type,
+    String? uploadedByName,
+    int? prescriptionId,
+    String? timeAgo,
+  });
+  @override
+  Map<String, dynamic> toJson() {
+    return {
+      '__className__': 'DoctorHomeReviewedReport',
+      if (reportId != null) 'reportId': reportId,
+      'type': type,
+      'uploadedByName': uploadedByName,
+      if (prescriptionId != null) 'prescriptionId': prescriptionId,
+      'timeAgo': timeAgo,
+    };
+  }
+
+  @override
+  Map<String, dynamic> toJsonForProtocol() {
+    return {
+      '__className__': 'DoctorHomeReviewedReport',
+      if (reportId != null) 'reportId': reportId,
+      'type': type,
+      'uploadedByName': uploadedByName,
+      if (prescriptionId != null) 'prescriptionId': prescriptionId,
+      'timeAgo': timeAgo,
+    };
+  }
+
+  @override
+  String toString() {
+    return _i1.SerializationManager.encode(this);
+  }
+}
+
+class _Undefined {}
+
+class _DoctorHomeReviewedReportImpl extends DoctorHomeReviewedReport {
+  _DoctorHomeReviewedReportImpl({
+    int? reportId,
+    required String type,
+    required String uploadedByName,
+    int? prescriptionId,
+    required String timeAgo,
+  }) : super._(
+         reportId: reportId,
+         type: type,
+         uploadedByName: uploadedByName,
+         prescriptionId: prescriptionId,
+         timeAgo: timeAgo,
+       );
+
+  /// Returns a shallow copy of this [DoctorHomeReviewedReport]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  @override
+  DoctorHomeReviewedReport copyWith({
+    Object? reportId = _Undefined,
+    String? type,
+    String? uploadedByName,
+    Object? prescriptionId = _Undefined,
+    String? timeAgo,
+  }) {
+    return DoctorHomeReviewedReport(
+      reportId: reportId is int? ? reportId : this.reportId,
+      type: type ?? this.type,
+      uploadedByName: uploadedByName ?? this.uploadedByName,
+      prescriptionId: prescriptionId is int?
+          ? prescriptionId
+          : this.prescriptionId,
+      timeAgo: timeAgo ?? this.timeAgo,
+    );
+  }
+}
diff --git a/backend/backend_server/lib/src/generated/endpoints.dart b/backend/backend_server/lib/src/generated/endpoints.dart
index 77f7a65..b6bf580 100644
--- a/backend/backend_server/lib/src/generated/endpoints.dart
+++ b/backend/backend_server/lib/src/generated/endpoints.dart
@@ -1405,8 +1405,8 @@ class Endpoints extends _i1.EndpointDispatch {
               type: _i1.getType<String>(),
               nullable: false,
             ),
-            'base64Image': _i1.ParameterDescription(
-              name: 'base64Image',
+            'profilePictureUrl': _i1.ParameterDescription(
+              name: 'profilePictureUrl',
               type: _i1.getType<String?>(),
               nullable: true,
             ),
@@ -1423,7 +1423,7 @@ class Endpoints extends _i1.EndpointDispatch {
                     phone: params['phone'],
                     qualification: params['qualification'],
                     designation: params['designation'],
-                    base64Image: params['base64Image'],
+                    profilePictureUrl: params['profilePictureUrl'],
                   ),
         ),
         'listInventoryItems': _i1.MethodConnector(
@@ -1590,24 +1590,25 @@ class Endpoints extends _i1.EndpointDispatch {
       name: 'doctor',
       endpoint: endpoints['doctor']!,
       methodConnectors: {
+        'getDoctorHomeData': _i1.MethodConnector(
+          name: 'getDoctorHomeData',
+          params: {},
+          call:
+              (
+                _i1.Session session,
+                Map<String, dynamic> params,
+              ) async => (endpoints['doctor'] as _i7.DoctorEndpoint)
+                  .getDoctorHomeData(session),
+        ),
         'getDoctorInfo': _i1.MethodConnector(
           name: 'getDoctorInfo',
-          params: {
-            'doctorId': _i1.ParameterDescription(
-              name: 'doctorId',
-              type: _i1.getType<int>(),
-              nullable: false,
-            ),
-          },
+          params: {},
           call:
               (
                 _i1.Session session,
                 Map<String, dynamic> params,
-              ) async =>
-                  (endpoints['doctor'] as _i7.DoctorEndpoint).getDoctorInfo(
-                    session,
-                    params['doctorId'],
-                  ),
+              ) async => (endpoints['doctor'] as _i7.DoctorEndpoint)
+                  .getDoctorInfo(session),
         ),
         'getDoctorProfile': _i1.MethodConnector(
           name: 'getDoctorProfile',
@@ -1927,37 +1928,6 @@ class Endpoints extends _i1.EndpointDispatch {
                 params['test'],
               ),
         ),
-        'attachResultFileCloudinary': _i1.MethodConnector(
-          name: 'attachResultFileCloudinary',
-          params: {
-            'resultId': _i1.ParameterDescription(
-              name: 'resultId',
-              type: _i1.getType<int>(),
-              nullable: false,
-            ),
-            'base64Data': _i1.ParameterDescription(
-              name: 'base64Data',
-              type: _i1.getType<String>(),
-              nullable: false,
-            ),
-            'fileName': _i1.ParameterDescription(
-              name: 'fileName',
-              type: _i1.getType<String>(),
-              nullable: false,
-            ),
-          },
-          call:
-              (
-                _i1.Session session,
-                Map<String, dynamic> params,
-              ) async => (endpoints['lab'] as _i8.LabEndpoint)
-                  .attachResultFileCloudinary(
-                    session,
-                    resultId: params['resultId'],
-                    base64Data: params['base64Data'],
-                    fileName: params['fileName'],
-                  ),
-        ),
         'sendDummySms': _i1.MethodConnector(
           name: 'sendDummySms',
           params: {
@@ -2000,21 +1970,16 @@ class Endpoints extends _i1.EndpointDispatch {
                 resultId: params['resultId'],
               ),
         ),
-        'submitResultWithFile': _i1.MethodConnector(
-          name: 'submitResultWithFile',
+        'submitResultWithUrl': _i1.MethodConnector(
+          name: 'submitResultWithUrl',
           params: {
             'resultId': _i1.ParameterDescription(
               name: 'resultId',
               type: _i1.getType<int>(),
               nullable: false,
             ),
-            'base64Data': _i1.ParameterDescription(
-              name: 'base64Data',
-              type: _i1.getType<String>(),
-              nullable: false,
-            ),
-            'fileName': _i1.ParameterDescription(
-              name: 'fileName',
+            'attachmentUrl': _i1.ParameterDescription(
+              name: 'attachmentUrl',
               type: _i1.getType<String>(),
               nullable: false,
             ),
@@ -2024,11 +1989,10 @@ class Endpoints extends _i1.EndpointDispatch {
                 _i1.Session session,
                 Map<String, dynamic> params,
               ) async =>
-                  (endpoints['lab'] as _i8.LabEndpoint).submitResultWithFile(
+                  (endpoints['lab'] as _i8.LabEndpoint).submitResultWithUrl(
                     session,
                     resultId: params['resultId'],
-                    base64Data: params['base64Data'],
-                    fileName: params['fileName'],
+                    attachmentUrl: params['attachmentUrl'],
                   ),
         ),
         'getAllTestResults': _i1.MethodConnector(
@@ -2114,25 +2078,6 @@ class Endpoints extends _i1.EndpointDispatch {
                     profilePictureUrl: params['profilePictureUrl'],
                   ),
         ),
-        'uploadProfileImage': _i1.MethodConnector(
-          name: 'uploadProfileImage',
-          params: {
-            'base64Data': _i1.ParameterDescription(
-              name: 'base64Data',
-              type: _i1.getType<String>(),
-              nullable: false,
-            ),
-          },
-          call:
-              (
-                _i1.Session session,
-                Map<String, dynamic> params,
-              ) async =>
-                  (endpoints['lab'] as _i8.LabEndpoint).uploadProfileImage(
-                    session,
-                    params['base64Data'],
-                  ),
-        ),
         'getLabHomeTwoDaySummary': _i1.MethodConnector(
           name: 'getLabHomeTwoDaySummary',
           params: {},
@@ -2309,19 +2254,9 @@ class Endpoints extends _i1.EndpointDispatch {
       name: 'password',
       endpoint: endpoints['password']!,
       methodConnectors: {
-        'changePasswordByUserIdEmail': _i1.MethodConnector(
-          name: 'changePasswordByUserIdEmail',
+        'changePassword': _i1.MethodConnector(
+          name: 'changePassword',
           params: {
-            'userId': _i1.ParameterDescription(
-              name: 'userId',
-              type: _i1.getType<int>(),
-              nullable: false,
-            ),
-            'email': _i1.ParameterDescription(
-              name: 'email',
-              type: _i1.getType<String>(),
-              nullable: false,
-            ),
             'currentPassword': _i1.ParameterDescription(
               name: 'currentPassword',
               type: _i1.getType<String>(),
@@ -2338,10 +2273,8 @@ class Endpoints extends _i1.EndpointDispatch {
                 _i1.Session session,
                 Map<String, dynamic> params,
               ) async => (endpoints['password'] as _i10.PasswordEndpoint)
-                  .changePasswordByUserIdEmail(
+                  .changePassword(
                     session,
-                    userId: params['userId'],
-                    email: params['email'],
                     currentPassword: params['currentPassword'],
                     newPassword: params['newPassword'],
                   ),
@@ -2354,22 +2287,13 @@ class Endpoints extends _i1.EndpointDispatch {
       methodConnectors: {
         'getPatientProfile': _i1.MethodConnector(
           name: 'getPatientProfile',
-          params: {
-            'userId': _i1.ParameterDescription(
-              name: 'userId',
-              type: _i1.getType<int>(),
-              nullable: false,
-            ),
-          },
+          params: {},
           call:
               (
                 _i1.Session session,
                 Map<String, dynamic> params,
               ) async => (endpoints['patient'] as _i11.PatientEndpoint)
-                  .getPatientProfile(
-                    session,
-                    params['userId'],
-                  ),
+                  .getPatientProfile(session),
         ),
         'listTests': _i1.MethodConnector(
           name: 'listTests',
@@ -2505,13 +2429,8 @@ class Endpoints extends _i1.EndpointDispatch {
               type: _i1.getType<String>(),
               nullable: false,
             ),
-            'base64Data': _i1.ParameterDescription(
-              name: 'base64Data',
-              type: _i1.getType<String>(),
-              nullable: false,
-            ),
-            'fileName': _i1.ParameterDescription(
-              name: 'fileName',
+            'fileUrl': _i1.ParameterDescription(
+              name: 'fileUrl',
               type: _i1.getType<String>(),
               nullable: false,
             ),
@@ -2526,8 +2445,7 @@ class Endpoints extends _i1.EndpointDispatch {
                     patientId: params['patientId'],
                     prescriptionId: params['prescriptionId'],
                     reportType: params['reportType'],
-                    base64Data: params['base64Data'],
-                    fileName: params['fileName'],
+                    fileUrl: params['fileUrl'],
                   ),
         ),
         'getMyExternalReports': _i1.MethodConnector(
diff --git a/backend/backend_server/lib/src/generated/protocol.dart b/backend/backend_server/lib/src/generated/protocol.dart
index e65de62..7b1ef85 100644
--- a/backend/backend_server/lib/src/generated/protocol.dart
+++ b/backend/backend_server/lib/src/generated/protocol.dart
@@ -24,65 +24,68 @@ import 'dispense_item_detail.dart' as _i11;
 import 'dispense_request.dart' as _i12;
 import 'dispensed_item_input.dart' as _i13;
 import 'dispenser_profile_r.dart' as _i14;
-import 'doctor_profile.dart' as _i15;
-import 'external_report_file.dart' as _i16;
-import 'greeting.dart' as _i17;
-import 'inventory_audit_log.dart' as _i18;
-import 'inventory_transaction.dart' as _i19;
-import 'lab_ten_history.dart' as _i20;
-import 'lab_today.dart' as _i21;
-import 'login_response.dart' as _i22;
-import 'medicine_alternative.dart' as _i23;
-import 'medicine_details.dart' as _i24;
-import 'notification.dart' as _i25;
-import 'onduty_staff.dart' as _i26;
-import 'otp_challenge_response.dart' as _i27;
-import 'patient_external_report.dart' as _i28;
-import 'patient_record_list.dart' as _i29;
-import 'patient_record_prescribed_item.dart' as _i30;
-import 'patient_record_prescription_details.dart' as _i31;
-import 'patient_reponse.dart' as _i32;
-import 'patient_report.dart' as _i33;
-import 'patient_return_tests.dart' as _i34;
-import 'prescription.dart' as _i35;
-import 'prescription_detail.dart' as _i36;
-import 'prescription_list.dart' as _i37;
-import 'report_monthly.dart' as _i38;
-import 'report_prescription.dart' as _i39;
-import 'report_stock.dart' as _i40;
-import 'report_top_medicine.dart' as _i41;
-import 'roster_data.dart' as _i42;
-import 'roster_lists.dart' as _i43;
-import 'roster_user_role.dart' as _i44;
-import 'shift_type.dart' as _i45;
-import 'staff_profile.dart' as _i46;
-import 'test_result_create_upload.dart' as _i47;
-import 'user_list_item.dart' as _i48;
-import 'package:backend_server/src/generated/user_list_item.dart' as _i49;
-import 'package:backend_server/src/generated/roster_data.dart' as _i50;
-import 'package:backend_server/src/generated/roster_lists.dart' as _i51;
-import 'package:backend_server/src/generated/audit_entry.dart' as _i52;
-import 'package:backend_server/src/generated/InventoryCategory.dart' as _i53;
-import 'package:backend_server/src/generated/InventoryItemInfo.dart' as _i54;
+import 'doctor_home_data.dart' as _i15;
+import 'doctor_home_recent_item.dart' as _i16;
+import 'doctor_home_reviewed_report.dart' as _i17;
+import 'doctor_profile.dart' as _i18;
+import 'external_report_file.dart' as _i19;
+import 'greeting.dart' as _i20;
+import 'inventory_audit_log.dart' as _i21;
+import 'inventory_transaction.dart' as _i22;
+import 'lab_ten_history.dart' as _i23;
+import 'lab_today.dart' as _i24;
+import 'login_response.dart' as _i25;
+import 'medicine_alternative.dart' as _i26;
+import 'medicine_details.dart' as _i27;
+import 'notification.dart' as _i28;
+import 'onduty_staff.dart' as _i29;
+import 'otp_challenge_response.dart' as _i30;
+import 'patient_external_report.dart' as _i31;
+import 'patient_record_list.dart' as _i32;
+import 'patient_record_prescribed_item.dart' as _i33;
+import 'patient_record_prescription_details.dart' as _i34;
+import 'patient_reponse.dart' as _i35;
+import 'patient_report.dart' as _i36;
+import 'patient_return_tests.dart' as _i37;
+import 'prescription.dart' as _i38;
+import 'prescription_detail.dart' as _i39;
+import 'prescription_list.dart' as _i40;
+import 'report_monthly.dart' as _i41;
+import 'report_prescription.dart' as _i42;
+import 'report_stock.dart' as _i43;
+import 'report_top_medicine.dart' as _i44;
+import 'roster_data.dart' as _i45;
+import 'roster_lists.dart' as _i46;
+import 'roster_user_role.dart' as _i47;
+import 'shift_type.dart' as _i48;
+import 'staff_profile.dart' as _i49;
+import 'test_result_create_upload.dart' as _i50;
+import 'user_list_item.dart' as _i51;
+import 'package:backend_server/src/generated/user_list_item.dart' as _i52;
+import 'package:backend_server/src/generated/roster_data.dart' as _i53;
+import 'package:backend_server/src/generated/roster_lists.dart' as _i54;
+import 'package:backend_server/src/generated/audit_entry.dart' as _i55;
+import 'package:backend_server/src/generated/InventoryCategory.dart' as _i56;
+import 'package:backend_server/src/generated/InventoryItemInfo.dart' as _i57;
 import 'package:backend_server/src/generated/inventory_transaction.dart'
-    as _i55;
-import 'package:backend_server/src/generated/inventory_audit_log.dart' as _i56;
-import 'package:backend_server/src/generated/prescription.dart' as _i57;
-import 'package:backend_server/src/generated/dispense_request.dart' as _i58;
-import 'package:backend_server/src/generated/PrescribedItem.dart' as _i59;
+    as _i58;
+import 'package:backend_server/src/generated/inventory_audit_log.dart' as _i59;
+import 'package:backend_server/src/generated/prescription.dart' as _i60;
+import 'package:backend_server/src/generated/dispense_request.dart' as _i61;
+import 'package:backend_server/src/generated/PrescribedItem.dart' as _i62;
 import 'package:backend_server/src/generated/patient_external_report.dart'
-    as _i60;
-import 'package:backend_server/src/generated/patient_record_list.dart' as _i61;
-import 'package:backend_server/src/generated/patient_return_tests.dart' as _i62;
-import 'package:backend_server/src/generated/test_result_create_upload.dart'
     as _i63;
-import 'package:backend_server/src/generated/lab_ten_history.dart' as _i64;
-import 'package:backend_server/src/generated/notification.dart' as _i65;
-import 'package:backend_server/src/generated/patient_report.dart' as _i66;
-import 'package:backend_server/src/generated/prescription_list.dart' as _i67;
-import 'package:backend_server/src/generated/StaffInfo.dart' as _i68;
-import 'package:backend_server/src/generated/ambulance_contact.dart' as _i69;
-import 'package:backend_server/src/generated/onduty_staff.dart' as _i70;
+import 'package:backend_server/src/generated/patient_record_list.dart' as _i64;
+import 'package:backend_server/src/generated/patient_return_tests.dart' as _i65;
+import 'package:backend_server/src/generated/test_result_create_upload.dart'
+    as _i66;
+import 'package:backend_server/src/generated/lab_ten_history.dart' as _i67;
+import 'package:backend_server/src/generated/notification.dart' as _i68;
+import 'package:backend_server/src/generated/patient_report.dart' as _i69;
+import 'package:backend_server/src/generated/prescription_list.dart' as _i70;
+import 'package:backend_server/src/generated/StaffInfo.dart' as _i71;
+import 'package:backend_server/src/generated/ambulance_contact.dart' as _i72;
+import 'package:backend_server/src/generated/onduty_staff.dart' as _i73;
 export 'InventoryCategory.dart';
 export 'InventoryItemInfo.dart';
 export 'PrescribedItem.dart';
@@ -95,6 +98,9 @@ export 'dispense_item_detail.dart';
 export 'dispense_request.dart';
 export 'dispensed_item_input.dart';
 export 'dispenser_profile_r.dart';
+export 'doctor_home_data.dart';
+export 'doctor_home_recent_item.dart';
+export 'doctor_home_reviewed_report.dart';
 export 'doctor_profile.dart';
 export 'external_report_file.dart';
 export 'greeting.dart';
@@ -204,107 +210,116 @@ class Protocol extends _i1.SerializationManagerServer {
     if (t == _i14.DispenserProfileR) {
       return _i14.DispenserProfileR.fromJson(data) as T;
     }
-    if (t == _i15.DoctorProfile) {
-      return _i15.DoctorProfile.fromJson(data) as T;
+    if (t == _i15.DoctorHomeData) {
+      return _i15.DoctorHomeData.fromJson(data) as T;
+    }
+    if (t == _i16.DoctorHomeRecentItem) {
+      return _i16.DoctorHomeRecentItem.fromJson(data) as T;
     }
-    if (t == _i16.ExternalReportFile) {
-      return _i16.ExternalReportFile.fromJson(data) as T;
+    if (t == _i17.DoctorHomeReviewedReport) {
+      return _i17.DoctorHomeReviewedReport.fromJson(data) as T;
     }
-    if (t == _i17.Greeting) {
-      return _i17.Greeting.fromJson(data) as T;
+    if (t == _i18.DoctorProfile) {
+      return _i18.DoctorProfile.fromJson(data) as T;
     }
-    if (t == _i18.InventoryAuditLog) {
-      return _i18.InventoryAuditLog.fromJson(data) as T;
+    if (t == _i19.ExternalReportFile) {
+      return _i19.ExternalReportFile.fromJson(data) as T;
     }
-    if (t == _i19.InventoryTransactionInfo) {
-      return _i19.InventoryTransactionInfo.fromJson(data) as T;
+    if (t == _i20.Greeting) {
+      return _i20.Greeting.fromJson(data) as T;
     }
-    if (t == _i20.LabTenHistory) {
-      return _i20.LabTenHistory.fromJson(data) as T;
+    if (t == _i21.InventoryAuditLog) {
+      return _i21.InventoryAuditLog.fromJson(data) as T;
     }
-    if (t == _i21.LabToday) {
-      return _i21.LabToday.fromJson(data) as T;
+    if (t == _i22.InventoryTransactionInfo) {
+      return _i22.InventoryTransactionInfo.fromJson(data) as T;
     }
-    if (t == _i22.LoginResponse) {
-      return _i22.LoginResponse.fromJson(data) as T;
+    if (t == _i23.LabTenHistory) {
+      return _i23.LabTenHistory.fromJson(data) as T;
     }
-    if (t == _i23.MedicineAlternative) {
-      return _i23.MedicineAlternative.fromJson(data) as T;
+    if (t == _i24.LabToday) {
+      return _i24.LabToday.fromJson(data) as T;
     }
-    if (t == _i24.MedicineDetail) {
-      return _i24.MedicineDetail.fromJson(data) as T;
+    if (t == _i25.LoginResponse) {
+      return _i25.LoginResponse.fromJson(data) as T;
     }
-    if (t == _i25.NotificationInfo) {
-      return _i25.NotificationInfo.fromJson(data) as T;
+    if (t == _i26.MedicineAlternative) {
+      return _i26.MedicineAlternative.fromJson(data) as T;
     }
-    if (t == _i26.OndutyStaff) {
-      return _i26.OndutyStaff.fromJson(data) as T;
+    if (t == _i27.MedicineDetail) {
+      return _i27.MedicineDetail.fromJson(data) as T;
     }
-    if (t == _i27.OtpChallengeResponse) {
-      return _i27.OtpChallengeResponse.fromJson(data) as T;
+    if (t == _i28.NotificationInfo) {
+      return _i28.NotificationInfo.fromJson(data) as T;
     }
-    if (t == _i28.PatientExternalReport) {
-      return _i28.PatientExternalReport.fromJson(data) as T;
+    if (t == _i29.OndutyStaff) {
+      return _i29.OndutyStaff.fromJson(data) as T;
     }
-    if (t == _i29.PatientPrescriptionListItem) {
-      return _i29.PatientPrescriptionListItem.fromJson(data) as T;
+    if (t == _i30.OtpChallengeResponse) {
+      return _i30.OtpChallengeResponse.fromJson(data) as T;
     }
-    if (t == _i30.PatientPrescribedItem) {
-      return _i30.PatientPrescribedItem.fromJson(data) as T;
+    if (t == _i31.PatientExternalReport) {
+      return _i31.PatientExternalReport.fromJson(data) as T;
     }
-    if (t == _i31.PatientPrescriptionDetails) {
-      return _i31.PatientPrescriptionDetails.fromJson(data) as T;
+    if (t == _i32.PatientPrescriptionListItem) {
+      return _i32.PatientPrescriptionListItem.fromJson(data) as T;
     }
-    if (t == _i32.PatientProfile) {
-      return _i32.PatientProfile.fromJson(data) as T;
+    if (t == _i33.PatientPrescribedItem) {
+      return _i33.PatientPrescribedItem.fromJson(data) as T;
     }
-    if (t == _i33.PatientReportDto) {
-      return _i33.PatientReportDto.fromJson(data) as T;
+    if (t == _i34.PatientPrescriptionDetails) {
+      return _i34.PatientPrescriptionDetails.fromJson(data) as T;
     }
-    if (t == _i34.LabTests) {
-      return _i34.LabTests.fromJson(data) as T;
+    if (t == _i35.PatientProfile) {
+      return _i35.PatientProfile.fromJson(data) as T;
     }
-    if (t == _i35.Prescription) {
-      return _i35.Prescription.fromJson(data) as T;
+    if (t == _i36.PatientReportDto) {
+      return _i36.PatientReportDto.fromJson(data) as T;
     }
-    if (t == _i36.PrescriptionDetail) {
-      return _i36.PrescriptionDetail.fromJson(data) as T;
+    if (t == _i37.LabTests) {
+      return _i37.LabTests.fromJson(data) as T;
     }
-    if (t == _i37.PrescriptionList) {
-      return _i37.PrescriptionList.fromJson(data) as T;
+    if (t == _i38.Prescription) {
+      return _i38.Prescription.fromJson(data) as T;
     }
-    if (t == _i38.MonthlyBreakdown) {
-      return _i38.MonthlyBreakdown.fromJson(data) as T;
+    if (t == _i39.PrescriptionDetail) {
+      return _i39.PrescriptionDetail.fromJson(data) as T;
     }
-    if (t == _i39.PrescriptionStats) {
-      return _i39.PrescriptionStats.fromJson(data) as T;
+    if (t == _i40.PrescriptionList) {
+      return _i40.PrescriptionList.fromJson(data) as T;
     }
-    if (t == _i40.StockReport) {
-      return _i40.StockReport.fromJson(data) as T;
+    if (t == _i41.MonthlyBreakdown) {
+      return _i41.MonthlyBreakdown.fromJson(data) as T;
     }
-    if (t == _i41.TopMedicine) {
-      return _i41.TopMedicine.fromJson(data) as T;
+    if (t == _i42.PrescriptionStats) {
+      return _i42.PrescriptionStats.fromJson(data) as T;
     }
-    if (t == _i42.Roster) {
-      return _i42.Roster.fromJson(data) as T;
+    if (t == _i43.StockReport) {
+      return _i43.StockReport.fromJson(data) as T;
     }
-    if (t == _i43.Rosterlists) {
-      return _i43.Rosterlists.fromJson(data) as T;
+    if (t == _i44.TopMedicine) {
+      return _i44.TopMedicine.fromJson(data) as T;
     }
-    if (t == _i44.RosterUserRole) {
-      return _i44.RosterUserRole.fromJson(data) as T;
+    if (t == _i45.Roster) {
+      return _i45.Roster.fromJson(data) as T;
     }
-    if (t == _i45.ShiftType) {
-      return _i45.ShiftType.fromJson(data) as T;
+    if (t == _i46.Rosterlists) {
+      return _i46.Rosterlists.fromJson(data) as T;
     }
-    if (t == _i46.StaffProfileDto) {
-      return _i46.StaffProfileDto.fromJson(data) as T;
+    if (t == _i47.RosterUserRole) {
+      return _i47.RosterUserRole.fromJson(data) as T;
     }
-    if (t == _i47.TestResult) {
-      return _i47.TestResult.fromJson(data) as T;
+    if (t == _i48.ShiftType) {
+      return _i48.ShiftType.fromJson(data) as T;
     }
-    if (t == _i48.UserListItem) {
-      return _i48.UserListItem.fromJson(data) as T;
+    if (t == _i49.StaffProfileDto) {
+      return _i49.StaffProfileDto.fromJson(data) as T;
+    }
+    if (t == _i50.TestResult) {
+      return _i50.TestResult.fromJson(data) as T;
+    }
+    if (t == _i51.UserListItem) {
+      return _i51.UserListItem.fromJson(data) as T;
     }
     if (t == _i1.getType<_i3.InventoryCategory?>()) {
       return (data != null ? _i3.InventoryCategory.fromJson(data) : null) as T;
@@ -347,144 +362,169 @@ class Protocol extends _i1.SerializationManagerServer {
     if (t == _i1.getType<_i14.DispenserProfileR?>()) {
       return (data != null ? _i14.DispenserProfileR.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i15.DoctorProfile?>()) {
-      return (data != null ? _i15.DoctorProfile.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i15.DoctorHomeData?>()) {
+      return (data != null ? _i15.DoctorHomeData.fromJson(data) : null) as T;
+    }
+    if (t == _i1.getType<_i16.DoctorHomeRecentItem?>()) {
+      return (data != null ? _i16.DoctorHomeRecentItem.fromJson(data) : null)
+          as T;
+    }
+    if (t == _i1.getType<_i17.DoctorHomeReviewedReport?>()) {
+      return (data != null
+              ? _i17.DoctorHomeReviewedReport.fromJson(data)
+              : null)
+          as T;
+    }
+    if (t == _i1.getType<_i18.DoctorProfile?>()) {
+      return (data != null ? _i18.DoctorProfile.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i16.ExternalReportFile?>()) {
-      return (data != null ? _i16.ExternalReportFile.fromJson(data) : null)
+    if (t == _i1.getType<_i19.ExternalReportFile?>()) {
+      return (data != null ? _i19.ExternalReportFile.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i17.Greeting?>()) {
-      return (data != null ? _i17.Greeting.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i20.Greeting?>()) {
+      return (data != null ? _i20.Greeting.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i18.InventoryAuditLog?>()) {
-      return (data != null ? _i18.InventoryAuditLog.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i21.InventoryAuditLog?>()) {
+      return (data != null ? _i21.InventoryAuditLog.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i19.InventoryTransactionInfo?>()) {
+    if (t == _i1.getType<_i22.InventoryTransactionInfo?>()) {
       return (data != null
-              ? _i19.InventoryTransactionInfo.fromJson(data)
+              ? _i22.InventoryTransactionInfo.fromJson(data)
               : null)
           as T;
     }
-    if (t == _i1.getType<_i20.LabTenHistory?>()) {
-      return (data != null ? _i20.LabTenHistory.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i23.LabTenHistory?>()) {
+      return (data != null ? _i23.LabTenHistory.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i21.LabToday?>()) {
-      return (data != null ? _i21.LabToday.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i24.LabToday?>()) {
+      return (data != null ? _i24.LabToday.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i22.LoginResponse?>()) {
-      return (data != null ? _i22.LoginResponse.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i25.LoginResponse?>()) {
+      return (data != null ? _i25.LoginResponse.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i23.MedicineAlternative?>()) {
-      return (data != null ? _i23.MedicineAlternative.fromJson(data) : null)
+    if (t == _i1.getType<_i26.MedicineAlternative?>()) {
+      return (data != null ? _i26.MedicineAlternative.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i24.MedicineDetail?>()) {
-      return (data != null ? _i24.MedicineDetail.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i27.MedicineDetail?>()) {
+      return (data != null ? _i27.MedicineDetail.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i25.NotificationInfo?>()) {
-      return (data != null ? _i25.NotificationInfo.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i28.NotificationInfo?>()) {
+      return (data != null ? _i28.NotificationInfo.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i26.OndutyStaff?>()) {
-      return (data != null ? _i26.OndutyStaff.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i29.OndutyStaff?>()) {
+      return (data != null ? _i29.OndutyStaff.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i27.OtpChallengeResponse?>()) {
-      return (data != null ? _i27.OtpChallengeResponse.fromJson(data) : null)
+    if (t == _i1.getType<_i30.OtpChallengeResponse?>()) {
+      return (data != null ? _i30.OtpChallengeResponse.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i28.PatientExternalReport?>()) {
-      return (data != null ? _i28.PatientExternalReport.fromJson(data) : null)
+    if (t == _i1.getType<_i31.PatientExternalReport?>()) {
+      return (data != null ? _i31.PatientExternalReport.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i29.PatientPrescriptionListItem?>()) {
+    if (t == _i1.getType<_i32.PatientPrescriptionListItem?>()) {
       return (data != null
-              ? _i29.PatientPrescriptionListItem.fromJson(data)
+              ? _i32.PatientPrescriptionListItem.fromJson(data)
               : null)
           as T;
     }
-    if (t == _i1.getType<_i30.PatientPrescribedItem?>()) {
-      return (data != null ? _i30.PatientPrescribedItem.fromJson(data) : null)
+    if (t == _i1.getType<_i33.PatientPrescribedItem?>()) {
+      return (data != null ? _i33.PatientPrescribedItem.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i31.PatientPrescriptionDetails?>()) {
+    if (t == _i1.getType<_i34.PatientPrescriptionDetails?>()) {
       return (data != null
-              ? _i31.PatientPrescriptionDetails.fromJson(data)
+              ? _i34.PatientPrescriptionDetails.fromJson(data)
               : null)
           as T;
     }
-    if (t == _i1.getType<_i32.PatientProfile?>()) {
-      return (data != null ? _i32.PatientProfile.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i35.PatientProfile?>()) {
+      return (data != null ? _i35.PatientProfile.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i33.PatientReportDto?>()) {
-      return (data != null ? _i33.PatientReportDto.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i36.PatientReportDto?>()) {
+      return (data != null ? _i36.PatientReportDto.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i34.LabTests?>()) {
-      return (data != null ? _i34.LabTests.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i37.LabTests?>()) {
+      return (data != null ? _i37.LabTests.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i35.Prescription?>()) {
-      return (data != null ? _i35.Prescription.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i38.Prescription?>()) {
+      return (data != null ? _i38.Prescription.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i36.PrescriptionDetail?>()) {
-      return (data != null ? _i36.PrescriptionDetail.fromJson(data) : null)
+    if (t == _i1.getType<_i39.PrescriptionDetail?>()) {
+      return (data != null ? _i39.PrescriptionDetail.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i37.PrescriptionList?>()) {
-      return (data != null ? _i37.PrescriptionList.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i40.PrescriptionList?>()) {
+      return (data != null ? _i40.PrescriptionList.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i38.MonthlyBreakdown?>()) {
-      return (data != null ? _i38.MonthlyBreakdown.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i41.MonthlyBreakdown?>()) {
+      return (data != null ? _i41.MonthlyBreakdown.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i39.PrescriptionStats?>()) {
-      return (data != null ? _i39.PrescriptionStats.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i42.PrescriptionStats?>()) {
+      return (data != null ? _i42.PrescriptionStats.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i40.StockReport?>()) {
-      return (data != null ? _i40.StockReport.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i43.StockReport?>()) {
+      return (data != null ? _i43.StockReport.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i41.TopMedicine?>()) {
-      return (data != null ? _i41.TopMedicine.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i44.TopMedicine?>()) {
+      return (data != null ? _i44.TopMedicine.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i42.Roster?>()) {
-      return (data != null ? _i42.Roster.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i45.Roster?>()) {
+      return (data != null ? _i45.Roster.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i43.Rosterlists?>()) {
-      return (data != null ? _i43.Rosterlists.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i46.Rosterlists?>()) {
+      return (data != null ? _i46.Rosterlists.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i44.RosterUserRole?>()) {
-      return (data != null ? _i44.RosterUserRole.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i47.RosterUserRole?>()) {
+      return (data != null ? _i47.RosterUserRole.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i45.ShiftType?>()) {
-      return (data != null ? _i45.ShiftType.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i48.ShiftType?>()) {
+      return (data != null ? _i48.ShiftType.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i46.StaffProfileDto?>()) {
-      return (data != null ? _i46.StaffProfileDto.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i49.StaffProfileDto?>()) {
+      return (data != null ? _i49.StaffProfileDto.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i47.TestResult?>()) {
-      return (data != null ? _i47.TestResult.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i50.TestResult?>()) {
+      return (data != null ? _i50.TestResult.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i48.UserListItem?>()) {
-      return (data != null ? _i48.UserListItem.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i51.UserListItem?>()) {
+      return (data != null ? _i51.UserListItem.fromJson(data) : null) as T;
     }
-    if (t == List<_i38.MonthlyBreakdown>) {
+    if (t == List<_i41.MonthlyBreakdown>) {
       return (data as List)
-              .map((e) => deserialize<_i38.MonthlyBreakdown>(e))
+              .map((e) => deserialize<_i41.MonthlyBreakdown>(e))
               .toList()
           as T;
     }
-    if (t == List<_i41.TopMedicine>) {
+    if (t == List<_i44.TopMedicine>) {
       return (data as List)
-              .map((e) => deserialize<_i41.TopMedicine>(e))
+              .map((e) => deserialize<_i44.TopMedicine>(e))
               .toList()
           as T;
     }
-    if (t == List<_i40.StockReport>) {
+    if (t == List<_i43.StockReport>) {
       return (data as List)
-              .map((e) => deserialize<_i40.StockReport>(e))
+              .map((e) => deserialize<_i43.StockReport>(e))
               .toList()
           as T;
     }
-    if (t == List<_i30.PatientPrescribedItem>) {
+    if (t == List<_i16.DoctorHomeRecentItem>) {
       return (data as List)
-              .map((e) => deserialize<_i30.PatientPrescribedItem>(e))
+              .map((e) => deserialize<_i16.DoctorHomeRecentItem>(e))
+              .toList()
+          as T;
+    }
+    if (t == List<_i17.DoctorHomeReviewedReport>) {
+      return (data as List)
+              .map((e) => deserialize<_i17.DoctorHomeReviewedReport>(e))
+              .toList()
+          as T;
+    }
+    if (t == List<_i33.PatientPrescribedItem>) {
+      return (data as List)
+              .map((e) => deserialize<_i33.PatientPrescribedItem>(e))
               .toList()
           as T;
     }
@@ -494,59 +534,59 @@ class Protocol extends _i1.SerializationManagerServer {
               .toList()
           as T;
     }
-    if (t == List<_i49.UserListItem>) {
+    if (t == List<_i52.UserListItem>) {
       return (data as List)
-              .map((e) => deserialize<_i49.UserListItem>(e))
+              .map((e) => deserialize<_i52.UserListItem>(e))
               .toList()
           as T;
     }
-    if (t == List<_i50.Roster>) {
-      return (data as List).map((e) => deserialize<_i50.Roster>(e)).toList()
+    if (t == List<_i53.Roster>) {
+      return (data as List).map((e) => deserialize<_i53.Roster>(e)).toList()
           as T;
     }
-    if (t == List<_i51.Rosterlists>) {
+    if (t == List<_i54.Rosterlists>) {
       return (data as List)
-              .map((e) => deserialize<_i51.Rosterlists>(e))
+              .map((e) => deserialize<_i54.Rosterlists>(e))
               .toList()
           as T;
     }
-    if (t == List<_i52.AuditEntry>) {
-      return (data as List).map((e) => deserialize<_i52.AuditEntry>(e)).toList()
+    if (t == List<_i55.AuditEntry>) {
+      return (data as List).map((e) => deserialize<_i55.AuditEntry>(e)).toList()
           as T;
     }
-    if (t == List<_i53.InventoryCategory>) {
+    if (t == List<_i56.InventoryCategory>) {
       return (data as List)
-              .map((e) => deserialize<_i53.InventoryCategory>(e))
+              .map((e) => deserialize<_i56.InventoryCategory>(e))
               .toList()
           as T;
     }
-    if (t == List<_i54.InventoryItemInfo>) {
+    if (t == List<_i57.InventoryItemInfo>) {
       return (data as List)
-              .map((e) => deserialize<_i54.InventoryItemInfo>(e))
+              .map((e) => deserialize<_i57.InventoryItemInfo>(e))
               .toList()
           as T;
     }
-    if (t == List<_i55.InventoryTransactionInfo>) {
+    if (t == List<_i58.InventoryTransactionInfo>) {
       return (data as List)
-              .map((e) => deserialize<_i55.InventoryTransactionInfo>(e))
+              .map((e) => deserialize<_i58.InventoryTransactionInfo>(e))
               .toList()
           as T;
     }
-    if (t == List<_i56.InventoryAuditLog>) {
+    if (t == List<_i59.InventoryAuditLog>) {
       return (data as List)
-              .map((e) => deserialize<_i56.InventoryAuditLog>(e))
+              .map((e) => deserialize<_i59.InventoryAuditLog>(e))
               .toList()
           as T;
     }
-    if (t == List<_i57.Prescription>) {
+    if (t == List<_i60.Prescription>) {
       return (data as List)
-              .map((e) => deserialize<_i57.Prescription>(e))
+              .map((e) => deserialize<_i60.Prescription>(e))
               .toList()
           as T;
     }
-    if (t == List<_i58.DispenseItemRequest>) {
+    if (t == List<_i61.DispenseItemRequest>) {
       return (data as List)
-              .map((e) => deserialize<_i58.DispenseItemRequest>(e))
+              .map((e) => deserialize<_i61.DispenseItemRequest>(e))
               .toList()
           as T;
     }
@@ -556,41 +596,41 @@ class Protocol extends _i1.SerializationManagerServer {
           )
           as T;
     }
-    if (t == List<_i59.PrescribedItem>) {
+    if (t == List<_i62.PrescribedItem>) {
       return (data as List)
-              .map((e) => deserialize<_i59.PrescribedItem>(e))
+              .map((e) => deserialize<_i62.PrescribedItem>(e))
               .toList()
           as T;
     }
-    if (t == List<_i60.PatientExternalReport>) {
+    if (t == List<_i63.PatientExternalReport>) {
       return (data as List)
-              .map((e) => deserialize<_i60.PatientExternalReport>(e))
+              .map((e) => deserialize<_i63.PatientExternalReport>(e))
               .toList()
           as T;
     }
-    if (t == List<_i61.PatientPrescriptionListItem>) {
+    if (t == List<_i64.PatientPrescriptionListItem>) {
       return (data as List)
-              .map((e) => deserialize<_i61.PatientPrescriptionListItem>(e))
+              .map((e) => deserialize<_i64.PatientPrescriptionListItem>(e))
               .toList()
           as T;
     }
-    if (t == List<_i62.LabTests>) {
-      return (data as List).map((e) => deserialize<_i62.LabTests>(e)).toList()
+    if (t == List<_i65.LabTests>) {
+      return (data as List).map((e) => deserialize<_i65.LabTests>(e)).toList()
           as T;
     }
-    if (t == List<_i63.TestResult>) {
-      return (data as List).map((e) => deserialize<_i63.TestResult>(e)).toList()
+    if (t == List<_i66.TestResult>) {
+      return (data as List).map((e) => deserialize<_i66.TestResult>(e)).toList()
           as T;
     }
-    if (t == List<_i64.LabTenHistory>) {
+    if (t == List<_i67.LabTenHistory>) {
       return (data as List)
-              .map((e) => deserialize<_i64.LabTenHistory>(e))
+              .map((e) => deserialize<_i67.LabTenHistory>(e))
               .toList()
           as T;
     }
-    if (t == List<_i65.NotificationInfo>) {
+    if (t == List<_i68.NotificationInfo>) {
       return (data as List)
-              .map((e) => deserialize<_i65.NotificationInfo>(e))
+              .map((e) => deserialize<_i68.NotificationInfo>(e))
               .toList()
           as T;
     }
@@ -600,31 +640,31 @@ class Protocol extends _i1.SerializationManagerServer {
           )
           as T;
     }
-    if (t == List<_i66.PatientReportDto>) {
+    if (t == List<_i69.PatientReportDto>) {
       return (data as List)
-              .map((e) => deserialize<_i66.PatientReportDto>(e))
+              .map((e) => deserialize<_i69.PatientReportDto>(e))
               .toList()
           as T;
     }
-    if (t == List<_i67.PrescriptionList>) {
+    if (t == List<_i70.PrescriptionList>) {
       return (data as List)
-              .map((e) => deserialize<_i67.PrescriptionList>(e))
+              .map((e) => deserialize<_i70.PrescriptionList>(e))
               .toList()
           as T;
     }
-    if (t == List<_i68.StaffInfo>) {
-      return (data as List).map((e) => deserialize<_i68.StaffInfo>(e)).toList()
+    if (t == List<_i71.StaffInfo>) {
+      return (data as List).map((e) => deserialize<_i71.StaffInfo>(e)).toList()
           as T;
     }
-    if (t == List<_i69.AmbulanceContact>) {
+    if (t == List<_i72.AmbulanceContact>) {
       return (data as List)
-              .map((e) => deserialize<_i69.AmbulanceContact>(e))
+              .map((e) => deserialize<_i72.AmbulanceContact>(e))
               .toList()
           as T;
     }
-    if (t == List<_i70.OndutyStaff>) {
+    if (t == List<_i73.OndutyStaff>) {
       return (data as List)
-              .map((e) => deserialize<_i70.OndutyStaff>(e))
+              .map((e) => deserialize<_i73.OndutyStaff>(e))
               .toList()
           as T;
     }
@@ -648,40 +688,43 @@ class Protocol extends _i1.SerializationManagerServer {
       _i12.DispenseItemRequest => 'DispenseItemRequest',
       _i13.DispensedItemInput => 'DispensedItemInput',
       _i14.DispenserProfileR => 'DispenserProfileR',
-      _i15.DoctorProfile => 'DoctorProfile',
-      _i16.ExternalReportFile => 'ExternalReportFile',
-      _i17.Greeting => 'Greeting',
-      _i18.InventoryAuditLog => 'InventoryAuditLog',
-      _i19.InventoryTransactionInfo => 'InventoryTransactionInfo',
-      _i20.LabTenHistory => 'LabTenHistory',
-      _i21.LabToday => 'LabToday',
-      _i22.LoginResponse => 'LoginResponse',
-      _i23.MedicineAlternative => 'MedicineAlternative',
-      _i24.MedicineDetail => 'MedicineDetail',
-      _i25.NotificationInfo => 'NotificationInfo',
-      _i26.OndutyStaff => 'OndutyStaff',
-      _i27.OtpChallengeResponse => 'OtpChallengeResponse',
-      _i28.PatientExternalReport => 'PatientExternalReport',
-      _i29.PatientPrescriptionListItem => 'PatientPrescriptionListItem',
-      _i30.PatientPrescribedItem => 'PatientPrescribedItem',
-      _i31.PatientPrescriptionDetails => 'PatientPrescriptionDetails',
-      _i32.PatientProfile => 'PatientProfile',
-      _i33.PatientReportDto => 'PatientReportDto',
-      _i34.LabTests => 'LabTests',
-      _i35.Prescription => 'Prescription',
-      _i36.PrescriptionDetail => 'PrescriptionDetail',
-      _i37.PrescriptionList => 'PrescriptionList',
-      _i38.MonthlyBreakdown => 'MonthlyBreakdown',
-      _i39.PrescriptionStats => 'PrescriptionStats',
-      _i40.StockReport => 'StockReport',
-      _i41.TopMedicine => 'TopMedicine',
-      _i42.Roster => 'Roster',
-      _i43.Rosterlists => 'Rosterlists',
-      _i44.RosterUserRole => 'RosterUserRole',
-      _i45.ShiftType => 'ShiftType',
-      _i46.StaffProfileDto => 'StaffProfileDto',
-      _i47.TestResult => 'TestResult',
-      _i48.UserListItem => 'UserListItem',
+      _i15.DoctorHomeData => 'DoctorHomeData',
+      _i16.DoctorHomeRecentItem => 'DoctorHomeRecentItem',
+      _i17.DoctorHomeReviewedReport => 'DoctorHomeReviewedReport',
+      _i18.DoctorProfile => 'DoctorProfile',
+      _i19.ExternalReportFile => 'ExternalReportFile',
+      _i20.Greeting => 'Greeting',
+      _i21.InventoryAuditLog => 'InventoryAuditLog',
+      _i22.InventoryTransactionInfo => 'InventoryTransactionInfo',
+      _i23.LabTenHistory => 'LabTenHistory',
+      _i24.LabToday => 'LabToday',
+      _i25.LoginResponse => 'LoginResponse',
+      _i26.MedicineAlternative => 'MedicineAlternative',
+      _i27.MedicineDetail => 'MedicineDetail',
+      _i28.NotificationInfo => 'NotificationInfo',
+      _i29.OndutyStaff => 'OndutyStaff',
+      _i30.OtpChallengeResponse => 'OtpChallengeResponse',
+      _i31.PatientExternalReport => 'PatientExternalReport',
+      _i32.PatientPrescriptionListItem => 'PatientPrescriptionListItem',
+      _i33.PatientPrescribedItem => 'PatientPrescribedItem',
+      _i34.PatientPrescriptionDetails => 'PatientPrescriptionDetails',
+      _i35.PatientProfile => 'PatientProfile',
+      _i36.PatientReportDto => 'PatientReportDto',
+      _i37.LabTests => 'LabTests',
+      _i38.Prescription => 'Prescription',
+      _i39.PrescriptionDetail => 'PrescriptionDetail',
+      _i40.PrescriptionList => 'PrescriptionList',
+      _i41.MonthlyBreakdown => 'MonthlyBreakdown',
+      _i42.PrescriptionStats => 'PrescriptionStats',
+      _i43.StockReport => 'StockReport',
+      _i44.TopMedicine => 'TopMedicine',
+      _i45.Roster => 'Roster',
+      _i46.Rosterlists => 'Rosterlists',
+      _i47.RosterUserRole => 'RosterUserRole',
+      _i48.ShiftType => 'ShiftType',
+      _i49.StaffProfileDto => 'StaffProfileDto',
+      _i50.TestResult => 'TestResult',
+      _i51.UserListItem => 'UserListItem',
       _ => null,
     };
   }
@@ -720,73 +763,79 @@ class Protocol extends _i1.SerializationManagerServer {
         return 'DispensedItemInput';
       case _i14.DispenserProfileR():
         return 'DispenserProfileR';
-      case _i15.DoctorProfile():
+      case _i15.DoctorHomeData():
+        return 'DoctorHomeData';
+      case _i16.DoctorHomeRecentItem():
+        return 'DoctorHomeRecentItem';
+      case _i17.DoctorHomeReviewedReport():
+        return 'DoctorHomeReviewedReport';
+      case _i18.DoctorProfile():
         return 'DoctorProfile';
-      case _i16.ExternalReportFile():
+      case _i19.ExternalReportFile():
         return 'ExternalReportFile';
-      case _i17.Greeting():
+      case _i20.Greeting():
         return 'Greeting';
-      case _i18.InventoryAuditLog():
+      case _i21.InventoryAuditLog():
         return 'InventoryAuditLog';
-      case _i19.InventoryTransactionInfo():
+      case _i22.InventoryTransactionInfo():
         return 'InventoryTransactionInfo';
-      case _i20.LabTenHistory():
+      case _i23.LabTenHistory():
         return 'LabTenHistory';
-      case _i21.LabToday():
+      case _i24.LabToday():
         return 'LabToday';
-      case _i22.LoginResponse():
+      case _i25.LoginResponse():
         return 'LoginResponse';
-      case _i23.MedicineAlternative():
+      case _i26.MedicineAlternative():
         return 'MedicineAlternative';
-      case _i24.MedicineDetail():
+      case _i27.MedicineDetail():
         return 'MedicineDetail';
-      case _i25.NotificationInfo():
+      case _i28.NotificationInfo():
         return 'NotificationInfo';
-      case _i26.OndutyStaff():
+      case _i29.OndutyStaff():
         return 'OndutyStaff';
-      case _i27.OtpChallengeResponse():
+      case _i30.OtpChallengeResponse():
         return 'OtpChallengeResponse';
-      case _i28.PatientExternalReport():
+      case _i31.PatientExternalReport():
         return 'PatientExternalReport';
-      case _i29.PatientPrescriptionListItem():
+      case _i32.PatientPrescriptionListItem():
         return 'PatientPrescriptionListItem';
-      case _i30.PatientPrescribedItem():
+      case _i33.PatientPrescribedItem():
         return 'PatientPrescribedItem';
-      case _i31.PatientPrescriptionDetails():
+      case _i34.PatientPrescriptionDetails():
         return 'PatientPrescriptionDetails';
-      case _i32.PatientProfile():
+      case _i35.PatientProfile():
         return 'PatientProfile';
-      case _i33.PatientReportDto():
+      case _i36.PatientReportDto():
         return 'PatientReportDto';
-      case _i34.LabTests():
+      case _i37.LabTests():
         return 'LabTests';
-      case _i35.Prescription():
+      case _i38.Prescription():
         return 'Prescription';
-      case _i36.PrescriptionDetail():
+      case _i39.PrescriptionDetail():
         return 'PrescriptionDetail';
-      case _i37.PrescriptionList():
+      case _i40.PrescriptionList():
         return 'PrescriptionList';
-      case _i38.MonthlyBreakdown():
+      case _i41.MonthlyBreakdown():
         return 'MonthlyBreakdown';
-      case _i39.PrescriptionStats():
+      case _i42.PrescriptionStats():
         return 'PrescriptionStats';
-      case _i40.StockReport():
+      case _i43.StockReport():
         return 'StockReport';
-      case _i41.TopMedicine():
+      case _i44.TopMedicine():
         return 'TopMedicine';
-      case _i42.Roster():
+      case _i45.Roster():
         return 'Roster';
-      case _i43.Rosterlists():
+      case _i46.Rosterlists():
         return 'Rosterlists';
-      case _i44.RosterUserRole():
+      case _i47.RosterUserRole():
         return 'RosterUserRole';
-      case _i45.ShiftType():
+      case _i48.ShiftType():
         return 'ShiftType';
-      case _i46.StaffProfileDto():
+      case _i49.StaffProfileDto():
         return 'StaffProfileDto';
-      case _i47.TestResult():
+      case _i50.TestResult():
         return 'TestResult';
-      case _i48.UserListItem():
+      case _i51.UserListItem():
         return 'UserListItem';
     }
     className = _i2.Protocol().getClassNameForObject(data);
@@ -838,107 +887,116 @@ class Protocol extends _i1.SerializationManagerServer {
     if (dataClassName == 'DispenserProfileR') {
       return deserialize<_i14.DispenserProfileR>(data['data']);
     }
+    if (dataClassName == 'DoctorHomeData') {
+      return deserialize<_i15.DoctorHomeData>(data['data']);
+    }
+    if (dataClassName == 'DoctorHomeRecentItem') {
+      return deserialize<_i16.DoctorHomeRecentItem>(data['data']);
+    }
+    if (dataClassName == 'DoctorHomeReviewedReport') {
+      return deserialize<_i17.DoctorHomeReviewedReport>(data['data']);
+    }
     if (dataClassName == 'DoctorProfile') {
-      return deserialize<_i15.DoctorProfile>(data['data']);
+      return deserialize<_i18.DoctorProfile>(data['data']);
     }
     if (dataClassName == 'ExternalReportFile') {
-      return deserialize<_i16.ExternalReportFile>(data['data']);
+      return deserialize<_i19.ExternalReportFile>(data['data']);
     }
     if (dataClassName == 'Greeting') {
-      return deserialize<_i17.Greeting>(data['data']);
+      return deserialize<_i20.Greeting>(data['data']);
     }
     if (dataClassName == 'InventoryAuditLog') {
-      return deserialize<_i18.InventoryAuditLog>(data['data']);
+      return deserialize<_i21.InventoryAuditLog>(data['data']);
     }
     if (dataClassName == 'InventoryTransactionInfo') {
-      return deserialize<_i19.InventoryTransactionInfo>(data['data']);
+      return deserialize<_i22.InventoryTransactionInfo>(data['data']);
     }
     if (dataClassName == 'LabTenHistory') {
-      return deserialize<_i20.LabTenHistory>(data['data']);
+      return deserialize<_i23.LabTenHistory>(data['data']);
     }
     if (dataClassName == 'LabToday') {
-      return deserialize<_i21.LabToday>(data['data']);
+      return deserialize<_i24.LabToday>(data['data']);
     }
     if (dataClassName == 'LoginResponse') {
-      return deserialize<_i22.LoginResponse>(data['data']);
+      return deserialize<_i25.LoginResponse>(data['data']);
     }
     if (dataClassName == 'MedicineAlternative') {
-      return deserialize<_i23.MedicineAlternative>(data['data']);
+      return deserialize<_i26.MedicineAlternative>(data['data']);
     }
     if (dataClassName == 'MedicineDetail') {
-      return deserialize<_i24.MedicineDetail>(data['data']);
+      return deserialize<_i27.MedicineDetail>(data['data']);
     }
     if (dataClassName == 'NotificationInfo') {
-      return deserialize<_i25.NotificationInfo>(data['data']);
+      return deserialize<_i28.NotificationInfo>(data['data']);
     }
     if (dataClassName == 'OndutyStaff') {
-      return deserialize<_i26.OndutyStaff>(data['data']);
+      return deserialize<_i29.OndutyStaff>(data['data']);
     }
     if (dataClassName == 'OtpChallengeResponse') {
-      return deserialize<_i27.OtpChallengeResponse>(data['data']);
+      return deserialize<_i30.OtpChallengeResponse>(data['data']);
     }
     if (dataClassName == 'PatientExternalReport') {
-      return deserialize<_i28.PatientExternalReport>(data['data']);
+      return deserialize<_i31.PatientExternalReport>(data['data']);
     }
     if (dataClassName == 'PatientPrescriptionListItem') {
-      return deserialize<_i29.PatientPrescriptionListItem>(data['data']);
+      return deserialize<_i32.PatientPrescriptionListItem>(data['data']);
     }
     if (dataClassName == 'PatientPrescribedItem') {
-      return deserialize<_i30.PatientPrescribedItem>(data['data']);
+      return deserialize<_i33.PatientPrescribedItem>(data['data']);
     }
     if (dataClassName == 'PatientPrescriptionDetails') {
-      return deserialize<_i31.PatientPrescriptionDetails>(data['data']);
+      return deserialize<_i34.PatientPrescriptionDetails>(data['data']);
     }
     if (dataClassName == 'PatientProfile') {
-      return deserialize<_i32.PatientProfile>(data['data']);
+      return deserialize<_i35.PatientProfile>(data['data']);
     }
     if (dataClassName == 'PatientReportDto') {
-      return deserialize<_i33.PatientReportDto>(data['data']);
+      return deserialize<_i36.PatientReportDto>(data['data']);
     }
     if (dataClassName == 'LabTests') {
-      return deserialize<_i34.LabTests>(data['data']);
+      return deserialize<_i37.LabTests>(data['data']);
     }
     if (dataClassName == 'Prescription') {
-      return deserialize<_i35.Prescription>(data['data']);
+      return deserialize<_i38.Prescription>(data['data']);
     }
     if (dataClassName == 'PrescriptionDetail') {
-      return deserialize<_i36.PrescriptionDetail>(data['data']);
+      return deserialize<_i39.PrescriptionDetail>(data['data']);
     }
     if (dataClassName == 'PrescriptionList') {
-      return deserialize<_i37.PrescriptionList>(data['data']);
+      return deserialize<_i40.PrescriptionList>(data['data']);
     }
     if (dataClassName == 'MonthlyBreakdown') {
-      return deserialize<_i38.MonthlyBreakdown>(data['data']);
+      return deserialize<_i41.MonthlyBreakdown>(data['data']);
     }
     if (dataClassName == 'PrescriptionStats') {
-      return deserialize<_i39.PrescriptionStats>(data['data']);
+      return deserialize<_i42.PrescriptionStats>(data['data']);
     }
     if (dataClassName == 'StockReport') {
-      return deserialize<_i40.StockReport>(data['data']);
+      return deserialize<_i43.StockReport>(data['data']);
     }
     if (dataClassName == 'TopMedicine') {
-      return deserialize<_i41.TopMedicine>(data['data']);
+      return deserialize<_i44.TopMedicine>(data['data']);
     }
     if (dataClassName == 'Roster') {
-      return deserialize<_i42.Roster>(data['data']);
+      return deserialize<_i45.Roster>(data['data']);
     }
     if (dataClassName == 'Rosterlists') {
-      return deserialize<_i43.Rosterlists>(data['data']);
+      return deserialize<_i46.Rosterlists>(data['data']);
     }
     if (dataClassName == 'RosterUserRole') {
-      return deserialize<_i44.RosterUserRole>(data['data']);
+      return deserialize<_i47.RosterUserRole>(data['data']);
     }
     if (dataClassName == 'ShiftType') {
-      return deserialize<_i45.ShiftType>(data['data']);
+      return deserialize<_i48.ShiftType>(data['data']);
     }
     if (dataClassName == 'StaffProfileDto') {
-      return deserialize<_i46.StaffProfileDto>(data['data']);
+      return deserialize<_i49.StaffProfileDto>(data['data']);
     }
     if (dataClassName == 'TestResult') {
-      return deserialize<_i47.TestResult>(data['data']);
+      return deserialize<_i50.TestResult>(data['data']);
     }
     if (dataClassName == 'UserListItem') {
-      return deserialize<_i48.UserListItem>(data['data']);
+      return deserialize<_i51.UserListItem>(data['data']);
     }
     if (dataClassName.startsWith('serverpod.')) {
       data['className'] = dataClassName.substring(10);
diff --git a/backend/backend_server/lib/src/generated/protocol.yaml b/backend/backend_server/lib/src/generated/protocol.yaml
index 2219fc2..d194cbc 100644
--- a/backend/backend_server/lib/src/generated/protocol.yaml
+++ b/backend/backend_server/lib/src/generated/protocol.yaml
@@ -53,6 +53,7 @@ dispenser:
   - searchInventoryItems:
   - dispensePrescription:
 doctor:
+  - getDoctorHomeData:
   - getDoctorInfo:
   - getDoctorProfile:
   - updateDoctorProfile:
@@ -67,14 +68,12 @@ lab:
   - createTestResult:
   - createLabTest:
   - updateLabTest:
-  - attachResultFileCloudinary:
   - sendDummySms:
   - submitResult:
-  - submitResultWithFile:
+  - submitResultWithUrl:
   - getAllTestResults:
   - getStaffProfile:
   - updateStaffProfile:
-  - uploadProfileImage:
   - getLabHomeTwoDaySummary:
   - getLast10TestHistory:
 notification:
@@ -85,7 +84,7 @@ notification:
   - markAsRead:
   - markAllAsRead:
 password:
-  - changePasswordByUserIdEmail:
+  - changePassword:
 patient:
   - getPatientProfile:
   - listTests:
diff --git a/backend/backend_server/lib/src/protocol/doctor_home_data.yaml b/backend/backend_server/lib/src/protocol/doctor_home_data.yaml
new file mode 100644
index 0000000..bdf8da0
--- /dev/null
+++ b/backend/backend_server/lib/src/protocol/doctor_home_data.yaml
@@ -0,0 +1,10 @@
+class: DoctorHomeData
+fields:
+  doctorName: String
+  doctorDesignation: String
+  doctorProfilePictureUrl: String?
+  today: DateTime
+  lastMonthPrescriptions: int
+  lastWeekPrescriptions: int
+  recent: List<DoctorHomeRecentItem>
+  reviewedReports: List<DoctorHomeReviewedReport>
diff --git a/backend/backend_server/lib/src/protocol/doctor_home_recent_item.yaml b/backend/backend_server/lib/src/protocol/doctor_home_recent_item.yaml
new file mode 100644
index 0000000..8dfa114
--- /dev/null
+++ b/backend/backend_server/lib/src/protocol/doctor_home_recent_item.yaml
@@ -0,0 +1,7 @@
+class: DoctorHomeRecentItem
+fields:
+  title: String
+  subtitle: String
+  timeAgo: String
+  type: String
+  prescriptionId: int?
diff --git a/backend/backend_server/lib/src/protocol/doctor_home_reviewed_report.yaml b/backend/backend_server/lib/src/protocol/doctor_home_reviewed_report.yaml
new file mode 100644
index 0000000..6b196f3
--- /dev/null
+++ b/backend/backend_server/lib/src/protocol/doctor_home_reviewed_report.yaml
@@ -0,0 +1,7 @@
+class: DoctorHomeReviewedReport
+fields:
+  reportId: int?
+  type: String
+  uploadedByName: String
+  prescriptionId: int?
+  timeAgo: String
diff --git a/backend/backend_server/test/integration/test_tools/serverpod_test_tools.dart b/backend/backend_server/test/integration/test_tools/serverpod_test_tools.dart
index d8e6e96..d3f9687 100644
--- a/backend/backend_server/test/integration/test_tools/serverpod_test_tools.dart
+++ b/backend/backend_server/test/integration/test_tools/serverpod_test_tools.dart
@@ -33,27 +33,28 @@ import 'package:backend_server/src/generated/dispenser_profile_r.dart' as _i16;
 import 'package:backend_server/src/generated/prescription.dart' as _i17;
 import 'package:backend_server/src/generated/prescription_detail.dart' as _i18;
 import 'package:backend_server/src/generated/dispense_request.dart' as _i19;
-import 'package:backend_server/src/generated/doctor_profile.dart' as _i20;
-import 'package:backend_server/src/generated/PrescribedItem.dart' as _i21;
+import 'package:backend_server/src/generated/doctor_home_data.dart' as _i20;
+import 'package:backend_server/src/generated/doctor_profile.dart' as _i21;
+import 'package:backend_server/src/generated/PrescribedItem.dart' as _i22;
 import 'package:backend_server/src/generated/patient_external_report.dart'
-    as _i22;
-import 'package:backend_server/src/generated/patient_record_list.dart' as _i23;
+    as _i23;
+import 'package:backend_server/src/generated/patient_record_list.dart' as _i24;
 import 'package:backend_server/src/generated/patient_record_prescription_details.dart'
-    as _i24;
-import 'package:backend_server/src/generated/patient_return_tests.dart' as _i25;
+    as _i25;
+import 'package:backend_server/src/generated/patient_return_tests.dart' as _i26;
 import 'package:backend_server/src/generated/test_result_create_upload.dart'
-    as _i26;
-import 'package:backend_server/src/generated/staff_profile.dart' as _i27;
-import 'package:backend_server/src/generated/lab_today.dart' as _i28;
-import 'package:backend_server/src/generated/lab_ten_history.dart' as _i29;
-import 'package:backend_server/src/generated/notification.dart' as _i30;
-import 'package:backend_server/src/generated/patient_reponse.dart' as _i31;
-import 'package:backend_server/src/generated/patient_report.dart' as _i32;
-import 'package:backend_server/src/generated/prescription_list.dart' as _i33;
-import 'package:backend_server/src/generated/StaffInfo.dart' as _i34;
-import 'package:backend_server/src/generated/ambulance_contact.dart' as _i35;
-import 'package:backend_server/src/generated/onduty_staff.dart' as _i36;
-import 'package:backend_server/src/generated/greeting.dart' as _i37;
+    as _i27;
+import 'package:backend_server/src/generated/staff_profile.dart' as _i28;
+import 'package:backend_server/src/generated/lab_today.dart' as _i29;
+import 'package:backend_server/src/generated/lab_ten_history.dart' as _i30;
+import 'package:backend_server/src/generated/notification.dart' as _i31;
+import 'package:backend_server/src/generated/patient_reponse.dart' as _i32;
+import 'package:backend_server/src/generated/patient_report.dart' as _i33;
+import 'package:backend_server/src/generated/prescription_list.dart' as _i34;
+import 'package:backend_server/src/generated/StaffInfo.dart' as _i35;
+import 'package:backend_server/src/generated/ambulance_contact.dart' as _i36;
+import 'package:backend_server/src/generated/onduty_staff.dart' as _i37;
+import 'package:backend_server/src/generated/greeting.dart' as _i38;
 import 'package:backend_server/src/generated/protocol.dart';
 import 'package:backend_server/src/generated/endpoints.dart';
 export 'package:serverpod_test/serverpod_test_public_exports.dart';
@@ -1762,7 +1763,7 @@ class _DispenserEndpoint {
     required String phone,
     required String qualification,
     required String designation,
-    String? base64Image,
+    String? profilePictureUrl,
   }) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
       var _localUniqueSession =
@@ -1781,7 +1782,7 @@ class _DispenserEndpoint {
             'phone': phone,
             'qualification': qualification,
             'designation': designation,
-            'base64Image': base64Image,
+            'profilePictureUrl': profilePictureUrl,
           }),
           serializationManager: _serializationManager,
         );
@@ -2067,9 +2068,38 @@ class _DoctorEndpoint {
 
   final _i2.SerializationManager _serializationManager;
 
+  _i3.Future<_i20.DoctorHomeData> getDoctorHomeData(
+    _i1.TestSessionBuilder sessionBuilder,
+  ) async {
+    return _i1.callAwaitableFunctionAndHandleExceptions(() async {
+      var _localUniqueSession =
+          (sessionBuilder as _i1.InternalTestSessionBuilder).internalBuild(
+            endpoint: 'doctor',
+            method: 'getDoctorHomeData',
+          );
+      try {
+        var _localCallContext = await _endpointDispatch.getMethodCallContext(
+          createSessionCallback: (_) => _localUniqueSession,
+          endpointPath: 'doctor',
+          methodName: 'getDoctorHomeData',
+          parameters: _i1.testObjectToJson({}),
+          serializationManager: _serializationManager,
+        );
+        var _localReturnValue =
+            await (_localCallContext.method.call(
+                  _localUniqueSession,
+                  _localCallContext.arguments,
+                )
+                as _i3.Future<_i20.DoctorHomeData>);
+        return _localReturnValue;
+      } finally {
+        await _localUniqueSession.close();
+      }
+    });
+  }
+
   _i3.Future<Map<String, String?>> getDoctorInfo(
     _i1.TestSessionBuilder sessionBuilder,
-    int doctorId,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
       var _localUniqueSession =
@@ -2082,7 +2112,7 @@ class _DoctorEndpoint {
           createSessionCallback: (_) => _localUniqueSession,
           endpointPath: 'doctor',
           methodName: 'getDoctorInfo',
-          parameters: _i1.testObjectToJson({'doctorId': doctorId}),
+          parameters: _i1.testObjectToJson({}),
           serializationManager: _serializationManager,
         );
         var _localReturnValue =
@@ -2098,7 +2128,7 @@ class _DoctorEndpoint {
     });
   }
 
-  _i3.Future<_i20.DoctorProfile?> getDoctorProfile(
+  _i3.Future<_i21.DoctorProfile?> getDoctorProfile(
     _i1.TestSessionBuilder sessionBuilder,
     int doctorId,
   ) async {
@@ -2121,7 +2151,7 @@ class _DoctorEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<_i20.DoctorProfile?>);
+                as _i3.Future<_i21.DoctorProfile?>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -2210,7 +2240,7 @@ class _DoctorEndpoint {
   _i3.Future<int> createPrescription(
     _i1.TestSessionBuilder sessionBuilder,
     _i17.Prescription prescription,
-    List<_i21.PrescribedItem> items,
+    List<_i22.PrescribedItem> items,
     String patientPhone,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
@@ -2244,7 +2274,7 @@ class _DoctorEndpoint {
     });
   }
 
-  _i3.Future<List<_i22.PatientExternalReport>> getReportsForDoctor(
+  _i3.Future<List<_i23.PatientExternalReport>> getReportsForDoctor(
     _i1.TestSessionBuilder sessionBuilder,
     int doctorId,
   ) async {
@@ -2267,7 +2297,7 @@ class _DoctorEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i22.PatientExternalReport>>);
+                as _i3.Future<List<_i23.PatientExternalReport>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -2279,7 +2309,7 @@ class _DoctorEndpoint {
     _i1.TestSessionBuilder sessionBuilder, {
     required int originalPrescriptionId,
     required String newAdvice,
-    required List<_i21.PrescribedItem> newItems,
+    required List<_i22.PrescribedItem> newItems,
   }) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
       var _localUniqueSession =
@@ -2312,7 +2342,7 @@ class _DoctorEndpoint {
     });
   }
 
-  _i3.Future<List<_i23.PatientPrescriptionListItem>> getPatientPrescriptionList(
+  _i3.Future<List<_i24.PatientPrescriptionListItem>> getPatientPrescriptionList(
     _i1.TestSessionBuilder sessionBuilder, {
     String? query,
     required int limit,
@@ -2341,7 +2371,7 @@ class _DoctorEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i23.PatientPrescriptionListItem>>);
+                as _i3.Future<List<_i24.PatientPrescriptionListItem>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -2349,7 +2379,7 @@ class _DoctorEndpoint {
     });
   }
 
-  _i3.Future<_i24.PatientPrescriptionDetails?> getPrescriptionDetails(
+  _i3.Future<_i25.PatientPrescriptionDetails?> getPrescriptionDetails(
     _i1.TestSessionBuilder sessionBuilder, {
     required int prescriptionId,
   }) async {
@@ -2372,7 +2402,7 @@ class _DoctorEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<_i24.PatientPrescriptionDetails?>);
+                as _i3.Future<_i25.PatientPrescriptionDetails?>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -2391,7 +2421,7 @@ class _LabEndpoint {
 
   final _i2.SerializationManager _serializationManager;
 
-  _i3.Future<List<_i25.LabTests>> getAllLabTests(
+  _i3.Future<List<_i26.LabTests>> getAllLabTests(
     _i1.TestSessionBuilder sessionBuilder,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
@@ -2413,7 +2443,7 @@ class _LabEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i25.LabTests>>);
+                as _i3.Future<List<_i26.LabTests>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -2462,7 +2492,7 @@ class _LabEndpoint {
 
   _i3.Future<bool> createLabTest(
     _i1.TestSessionBuilder sessionBuilder,
-    _i25.LabTests test,
+    _i26.LabTests test,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
       var _localUniqueSession =
@@ -2493,7 +2523,7 @@ class _LabEndpoint {
 
   _i3.Future<bool> updateLabTest(
     _i1.TestSessionBuilder sessionBuilder,
-    _i25.LabTests test,
+    _i26.LabTests test,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
       var _localUniqueSession =
@@ -2522,43 +2552,6 @@ class _LabEndpoint {
     });
   }
 
-  _i3.Future<String?> attachResultFileCloudinary(
-    _i1.TestSessionBuilder sessionBuilder, {
-    required int resultId,
-    required String base64Data,
-    required String fileName,
-  }) async {
-    return _i1.callAwaitableFunctionAndHandleExceptions(() async {
-      var _localUniqueSession =
-          (sessionBuilder as _i1.InternalTestSessionBuilder).internalBuild(
-            endpoint: 'lab',
-            method: 'attachResultFileCloudinary',
-          );
-      try {
-        var _localCallContext = await _endpointDispatch.getMethodCallContext(
-          createSessionCallback: (_) => _localUniqueSession,
-          endpointPath: 'lab',
-          methodName: 'attachResultFileCloudinary',
-          parameters: _i1.testObjectToJson({
-            'resultId': resultId,
-            'base64Data': base64Data,
-            'fileName': fileName,
-          }),
-          serializationManager: _serializationManager,
-        );
-        var _localReturnValue =
-            await (_localCallContext.method.call(
-                  _localUniqueSession,
-                  _localCallContext.arguments,
-                )
-                as _i3.Future<String?>);
-        return _localReturnValue;
-      } finally {
-        await _localUniqueSession.close();
-      }
-    });
-  }
-
   _i3.Future<bool> sendDummySms(
     _i1.TestSessionBuilder sessionBuilder, {
     required String mobileNumber,
@@ -2625,27 +2618,25 @@ class _LabEndpoint {
     });
   }
 
-  _i3.Future<bool> submitResultWithFile(
+  _i3.Future<bool> submitResultWithUrl(
     _i1.TestSessionBuilder sessionBuilder, {
     required int resultId,
-    required String base64Data,
-    required String fileName,
+    required String attachmentUrl,
   }) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
       var _localUniqueSession =
           (sessionBuilder as _i1.InternalTestSessionBuilder).internalBuild(
             endpoint: 'lab',
-            method: 'submitResultWithFile',
+            method: 'submitResultWithUrl',
           );
       try {
         var _localCallContext = await _endpointDispatch.getMethodCallContext(
           createSessionCallback: (_) => _localUniqueSession,
           endpointPath: 'lab',
-          methodName: 'submitResultWithFile',
+          methodName: 'submitResultWithUrl',
           parameters: _i1.testObjectToJson({
             'resultId': resultId,
-            'base64Data': base64Data,
-            'fileName': fileName,
+            'attachmentUrl': attachmentUrl,
           }),
           serializationManager: _serializationManager,
         );
@@ -2662,7 +2653,7 @@ class _LabEndpoint {
     });
   }
 
-  _i3.Future<List<_i26.TestResult>> getAllTestResults(
+  _i3.Future<List<_i27.TestResult>> getAllTestResults(
     _i1.TestSessionBuilder sessionBuilder,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
@@ -2684,7 +2675,7 @@ class _LabEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i26.TestResult>>);
+                as _i3.Future<List<_i27.TestResult>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -2692,7 +2683,7 @@ class _LabEndpoint {
     });
   }
 
-  _i3.Future<_i27.StaffProfileDto?> getStaffProfile(
+  _i3.Future<_i28.StaffProfileDto?> getStaffProfile(
     _i1.TestSessionBuilder sessionBuilder,
     int userId,
   ) async {
@@ -2715,7 +2706,7 @@ class _LabEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<_i27.StaffProfileDto?>);
+                as _i3.Future<_i28.StaffProfileDto?>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -2768,38 +2759,7 @@ class _LabEndpoint {
     });
   }
 
-  _i3.Future<String?> uploadProfileImage(
-    _i1.TestSessionBuilder sessionBuilder,
-    String base64Data,
-  ) async {
-    return _i1.callAwaitableFunctionAndHandleExceptions(() async {
-      var _localUniqueSession =
-          (sessionBuilder as _i1.InternalTestSessionBuilder).internalBuild(
-            endpoint: 'lab',
-            method: 'uploadProfileImage',
-          );
-      try {
-        var _localCallContext = await _endpointDispatch.getMethodCallContext(
-          createSessionCallback: (_) => _localUniqueSession,
-          endpointPath: 'lab',
-          methodName: 'uploadProfileImage',
-          parameters: _i1.testObjectToJson({'base64Data': base64Data}),
-          serializationManager: _serializationManager,
-        );
-        var _localReturnValue =
-            await (_localCallContext.method.call(
-                  _localUniqueSession,
-                  _localCallContext.arguments,
-                )
-                as _i3.Future<String?>);
-        return _localReturnValue;
-      } finally {
-        await _localUniqueSession.close();
-      }
-    });
-  }
-
-  _i3.Future<_i28.LabToday> getLabHomeTwoDaySummary(
+  _i3.Future<_i29.LabToday> getLabHomeTwoDaySummary(
     _i1.TestSessionBuilder sessionBuilder,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
@@ -2821,7 +2781,7 @@ class _LabEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<_i28.LabToday>);
+                as _i3.Future<_i29.LabToday>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -2829,7 +2789,7 @@ class _LabEndpoint {
     });
   }
 
-  _i3.Future<List<_i29.LabTenHistory>> getLast10TestHistory(
+  _i3.Future<List<_i30.LabTenHistory>> getLast10TestHistory(
     _i1.TestSessionBuilder sessionBuilder,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
@@ -2851,7 +2811,7 @@ class _LabEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i29.LabTenHistory>>);
+                as _i3.Future<List<_i30.LabTenHistory>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -2907,7 +2867,7 @@ class _NotificationEndpoint {
     });
   }
 
-  _i3.Future<List<_i30.NotificationInfo>> getMyNotifications(
+  _i3.Future<List<_i31.NotificationInfo>> getMyNotifications(
     _i1.TestSessionBuilder sessionBuilder, {
     required int limit,
     required int userId,
@@ -2934,7 +2894,7 @@ class _NotificationEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i30.NotificationInfo>>);
+                as _i3.Future<List<_i31.NotificationInfo>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -2973,7 +2933,7 @@ class _NotificationEndpoint {
     });
   }
 
-  _i3.Future<_i30.NotificationInfo?> getNotificationById(
+  _i3.Future<_i31.NotificationInfo?> getNotificationById(
     _i1.TestSessionBuilder sessionBuilder, {
     required int notificationId,
     required int userId,
@@ -3000,7 +2960,7 @@ class _NotificationEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<_i30.NotificationInfo?>);
+                as _i3.Future<_i31.NotificationInfo?>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -3085,10 +3045,8 @@ class _PasswordEndpoint {
 
   final _i2.SerializationManager _serializationManager;
 
-  _i3.Future<String> changePasswordByUserIdEmail(
+  _i3.Future<String> changePassword(
     _i1.TestSessionBuilder sessionBuilder, {
-    required int userId,
-    required String email,
     required String currentPassword,
     required String newPassword,
   }) async {
@@ -3096,16 +3054,14 @@ class _PasswordEndpoint {
       var _localUniqueSession =
           (sessionBuilder as _i1.InternalTestSessionBuilder).internalBuild(
             endpoint: 'password',
-            method: 'changePasswordByUserIdEmail',
+            method: 'changePassword',
           );
       try {
         var _localCallContext = await _endpointDispatch.getMethodCallContext(
           createSessionCallback: (_) => _localUniqueSession,
           endpointPath: 'password',
-          methodName: 'changePasswordByUserIdEmail',
+          methodName: 'changePassword',
           parameters: _i1.testObjectToJson({
-            'userId': userId,
-            'email': email,
             'currentPassword': currentPassword,
             'newPassword': newPassword,
           }),
@@ -3135,9 +3091,8 @@ class _PatientEndpoint {
 
   final _i2.SerializationManager _serializationManager;
 
-  _i3.Future<_i31.PatientProfile?> getPatientProfile(
+  _i3.Future<_i32.PatientProfile?> getPatientProfile(
     _i1.TestSessionBuilder sessionBuilder,
-    int userId,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
       var _localUniqueSession =
@@ -3150,7 +3105,7 @@ class _PatientEndpoint {
           createSessionCallback: (_) => _localUniqueSession,
           endpointPath: 'patient',
           methodName: 'getPatientProfile',
-          parameters: _i1.testObjectToJson({'userId': userId}),
+          parameters: _i1.testObjectToJson({}),
           serializationManager: _serializationManager,
         );
         var _localReturnValue =
@@ -3158,7 +3113,7 @@ class _PatientEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<_i31.PatientProfile?>);
+                as _i3.Future<_i32.PatientProfile?>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -3166,7 +3121,7 @@ class _PatientEndpoint {
     });
   }
 
-  _i3.Future<List<_i25.LabTests>> listTests(
+  _i3.Future<List<_i26.LabTests>> listTests(
     _i1.TestSessionBuilder sessionBuilder,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
@@ -3188,7 +3143,7 @@ class _PatientEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i25.LabTests>>);
+                as _i3.Future<List<_i26.LabTests>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -3270,7 +3225,7 @@ class _PatientEndpoint {
     });
   }
 
-  _i3.Future<List<_i32.PatientReportDto>> getMyLabReports(
+  _i3.Future<List<_i33.PatientReportDto>> getMyLabReports(
     _i1.TestSessionBuilder sessionBuilder,
     int userId,
   ) async {
@@ -3293,7 +3248,7 @@ class _PatientEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i32.PatientReportDto>>);
+                as _i3.Future<List<_i33.PatientReportDto>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -3301,7 +3256,7 @@ class _PatientEndpoint {
     });
   }
 
-  _i3.Future<List<_i33.PrescriptionList>> getMyPrescriptionList(
+  _i3.Future<List<_i34.PrescriptionList>> getMyPrescriptionList(
     _i1.TestSessionBuilder sessionBuilder,
     int userId,
   ) async {
@@ -3324,7 +3279,7 @@ class _PatientEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i33.PrescriptionList>>);
+                as _i3.Future<List<_i34.PrescriptionList>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -3337,8 +3292,7 @@ class _PatientEndpoint {
     required int patientId,
     required int prescriptionId,
     required String reportType,
-    required String base64Data,
-    required String fileName,
+    required String fileUrl,
   }) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
       var _localUniqueSession =
@@ -3355,8 +3309,7 @@ class _PatientEndpoint {
             'patientId': patientId,
             'prescriptionId': prescriptionId,
             'reportType': reportType,
-            'base64Data': base64Data,
-            'fileName': fileName,
+            'fileUrl': fileUrl,
           }),
           serializationManager: _serializationManager,
         );
@@ -3373,7 +3326,7 @@ class _PatientEndpoint {
     });
   }
 
-  _i3.Future<List<_i22.PatientExternalReport>> getMyExternalReports(
+  _i3.Future<List<_i23.PatientExternalReport>> getMyExternalReports(
     _i1.TestSessionBuilder sessionBuilder,
     int userId,
   ) async {
@@ -3396,7 +3349,7 @@ class _PatientEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i22.PatientExternalReport>>);
+                as _i3.Future<List<_i23.PatientExternalReport>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -3404,7 +3357,7 @@ class _PatientEndpoint {
     });
   }
 
-  _i3.Future<List<_i33.PrescriptionList>> getPrescriptionList(
+  _i3.Future<List<_i34.PrescriptionList>> getPrescriptionList(
     _i1.TestSessionBuilder sessionBuilder,
     int patientId,
   ) async {
@@ -3427,7 +3380,7 @@ class _PatientEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i33.PrescriptionList>>);
+                as _i3.Future<List<_i34.PrescriptionList>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -3435,7 +3388,7 @@ class _PatientEndpoint {
     });
   }
 
-  _i3.Future<List<_i33.PrescriptionList>> getPrescriptionsByPatientId(
+  _i3.Future<List<_i34.PrescriptionList>> getPrescriptionsByPatientId(
     _i1.TestSessionBuilder sessionBuilder,
     int patientId,
   ) async {
@@ -3458,7 +3411,7 @@ class _PatientEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i33.PrescriptionList>>);
+                as _i3.Future<List<_i34.PrescriptionList>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -3497,7 +3450,7 @@ class _PatientEndpoint {
     });
   }
 
-  _i3.Future<List<_i34.StaffInfo>> getMedicalStaff(
+  _i3.Future<List<_i35.StaffInfo>> getMedicalStaff(
     _i1.TestSessionBuilder sessionBuilder,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
@@ -3519,7 +3472,7 @@ class _PatientEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i34.StaffInfo>>);
+                as _i3.Future<List<_i35.StaffInfo>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -3527,7 +3480,7 @@ class _PatientEndpoint {
     });
   }
 
-  _i3.Future<List<_i35.AmbulanceContact>> getAmbulanceContacts(
+  _i3.Future<List<_i36.AmbulanceContact>> getAmbulanceContacts(
     _i1.TestSessionBuilder sessionBuilder,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
@@ -3549,7 +3502,7 @@ class _PatientEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i35.AmbulanceContact>>);
+                as _i3.Future<List<_i36.AmbulanceContact>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -3557,7 +3510,7 @@ class _PatientEndpoint {
     });
   }
 
-  _i3.Future<List<_i36.OndutyStaff>> getOndutyStaff(
+  _i3.Future<List<_i37.OndutyStaff>> getOndutyStaff(
     _i1.TestSessionBuilder sessionBuilder,
   ) async {
     return _i1.callAwaitableFunctionAndHandleExceptions(() async {
@@ -3579,7 +3532,7 @@ class _PatientEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<List<_i36.OndutyStaff>>);
+                as _i3.Future<List<_i37.OndutyStaff>>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
@@ -3598,7 +3551,7 @@ class _GreetingEndpoint {
 
   final _i2.SerializationManager _serializationManager;
 
-  _i3.Future<_i37.Greeting> hello(
+  _i3.Future<_i38.Greeting> hello(
     _i1.TestSessionBuilder sessionBuilder,
     String name,
   ) async {
@@ -3621,7 +3574,7 @@ class _GreetingEndpoint {
                   _localUniqueSession,
                   _localCallContext.arguments,
                 )
-                as _i3.Future<_i37.Greeting>);
+                as _i3.Future<_i38.Greeting>);
         return _localReturnValue;
       } finally {
         await _localUniqueSession.close();
diff --git a/lib/src/admin/admin_profile.dart b/lib/src/admin/admin_profile.dart
index e4418dd..64849cb 100644
--- a/lib/src/admin/admin_profile.dart
+++ b/lib/src/admin/admin_profile.dart
@@ -1,11 +1,12 @@
 import 'package:flutter/material.dart';
 import 'package:image_picker/image_picker.dart';
 import 'dart:typed_data';
-import 'dart:convert';
 import 'package:shared_preferences/shared_preferences.dart';
 import 'package:backend_client/backend_client.dart';
 import 'package:flutter/services.dart';
 
+import '../cloudinary_upload.dart';
+
 class AdminProfile extends StatefulWidget {
   const AdminProfile({super.key});
 
@@ -194,7 +195,25 @@ class _AdminProfileState extends State<AdminProfile> {
 
       String? profileData;
       if (_imageBytes != null) {
-        profileData = 'data:image/jpeg;base64,' + base64Encode(_imageBytes!);
+        final uploadedUrl = await CloudinaryUpload.uploadBytes(
+          bytes: _imageBytes!,
+          folder: 'admin_profiles',
+          fileName:
+              'admin_profile_${DateTime.now().millisecondsSinceEpoch}.jpg',
+          isPdf: false,
+        );
+        if (uploadedUrl == null) {
+          if (!mounted) return;
+          ScaffoldMessenger.of(context).showSnackBar(
+            const SnackBar(
+              content: Text('Failed to upload profile image'),
+              backgroundColor: Colors.red,
+            ),
+          );
+          setState(() => _isSaving = false);
+          return;
+        }
+        profileData = uploadedUrl;
       }
 
       // Call backend update using generated client endpoint
diff --git a/lib/src/admin/inventory_management.dart b/lib/src/admin/inventory_management.dart
index 0525bb8..8d35b50 100644
--- a/lib/src/admin/inventory_management.dart
+++ b/lib/src/admin/inventory_management.dart
@@ -31,7 +31,6 @@ class _InventoryManagementState extends State<InventoryManagement> {
       );
     }
   }
-
   List<Map<String, dynamic>> products = [];
   bool loading = true;
 
@@ -47,8 +46,8 @@ class _InventoryManagementState extends State<InventoryManagement> {
         products = result
             .map(
               (item) => {
-                'id': item.itemId, // Corrected: dot notation
-                'name': item.itemName, // Corrected: dot notation
+                'id': item.itemId,
+                'name': item.itemName,
                 'unit': item.unit,
                 'minThreshold': item.minimumStock,
                 'stock': item.currentQuantity,
@@ -195,7 +194,7 @@ class _InventoryManagementState extends State<InventoryManagement> {
       builder: (context) {
         return StatefulBuilder(
           builder: (context, setStateDialog) {
-            Future<void> _fetchTransactions() async {
+            Future<void> fetchTransactions() async {
               final data = await _loadTransactions(product['id']);
               setStateDialog(() {
                 product['transactions'] = data;
@@ -205,7 +204,7 @@ class _InventoryManagementState extends State<InventoryManagement> {
 
             // üëâ dialog build ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ call
             if (txLoading) {
-              _fetchTransactions();
+              fetchTransactions();
             }
 
             final status = _getStockStatus(product);
diff --git a/lib/src/change_password.dart b/lib/src/change_password.dart
index a49505a..93fb8ab 100644
--- a/lib/src/change_password.dart
+++ b/lib/src/change_password.dart
@@ -1,6 +1,5 @@
 import 'package:flutter/material.dart';
 import 'package:backend_client/backend_client.dart';
-import 'package:shared_preferences/shared_preferences.dart';
 
 class ChangePasswordPage extends StatefulWidget {
   const ChangePasswordPage({super.key});
@@ -112,30 +111,7 @@ class _ChangePasswordSheetState extends State<_ChangePasswordSheet> {
     setState(() => _loading = true);
 
     try {
-      final prefs = await SharedPreferences.getInstance();
-
-      final rawId = prefs.getString('user_id');
-      final email =
-          prefs.getString('email') ?? prefs.getString('user_email') ?? '';
-
-      debugPrint('üß™ RAW user_id from prefs: $rawId');
-      debugPrint('üß™ RAW email from prefs: $email');
-
-      final userId = int.tryParse(rawId ?? '') ?? 0;
-
-      debugPrint('üß™ PARSED userId: $userId');
-
-      if (userId == 0 || email.trim().isEmpty) {
-        _show(
-          'Session Error',
-          'Invalid user session.\nID: $userId\nEmail: $email',
-        );
-        return;
-      }
-
-      final res = await client.password.changePasswordByUserIdEmail(
-        userId: 0,
-        email: email.trim(),
+      final res = await client.password.changePassword(
         currentPassword: current,
         newPassword: newPass,
       );
diff --git a/lib/src/cloudinary_upload.dart b/lib/src/cloudinary_upload.dart
new file mode 100644
index 0000000..e6afeae
--- /dev/null
+++ b/lib/src/cloudinary_upload.dart
@@ -0,0 +1,117 @@
+import 'dart:convert';
+import 'dart:typed_data';
+
+import 'package:http/http.dart' as http;
+import 'package:http_parser/http_parser.dart';
+
+class CloudinaryUpload {
+  /// Cloudinary cloud name (public).
+  static const String cloudName = 'dfrzizwb1';
+
+  /// Unsigned upload preset (public).
+  /// Configure this preset in Cloudinary to allow unsigned uploads.
+  static const String uploadPreset = 'sabbir';
+
+  static Uri _uploadUri() =>
+      Uri.parse('https://api.cloudinary.com/v1_1/$cloudName/auto/upload');
+
+  static bool _isPdfName(String fileName) =>
+      fileName.toLowerCase().trim().endsWith('.pdf');
+
+  static MediaType _contentTypeForName(String fileName, {required bool isPdf}) {
+    if (isPdf) return MediaType('application', 'pdf');
+    final name = fileName.toLowerCase().trim();
+    if (name.endsWith('.png')) return MediaType('image', 'png');
+    if (name.endsWith('.jpg') || name.endsWith('.jpeg')) {
+      return MediaType('image', 'jpeg');
+    }
+    // Cloudinary can still detect, but default to jpeg for images.
+    return MediaType('image', 'jpeg');
+  }
+
+  static String _sanitizeFileName(String fileName) {
+    final trimmed = fileName.trim();
+    if (trimmed.isEmpty) {
+      return 'upload_${DateTime.now().millisecondsSinceEpoch}';
+    }
+    return trimmed.replaceAll(RegExp(r'[^a-zA-Z0-9._-]'), '_');
+  }
+
+  /// Convenience: infer `isPdf` + content-type from `fileName`.
+  static Future<String?> uploadAuto({
+    required Uint8List bytes,
+    required String folder,
+    required String fileName,
+  }) {
+    final safeName = _sanitizeFileName(fileName);
+    return uploadBytes(
+      bytes: bytes,
+      folder: folder,
+      fileName: safeName,
+      isPdf: _isPdfName(safeName),
+    );
+  }
+
+  /// Universal uploader for image/PDF bytes.
+  /// Upload happens from the frontend (no apiSecret in app).
+  static Future<String?> uploadBytes({
+    required Uint8List bytes,
+    required String folder,
+    required String fileName,
+    bool isPdf = false,
+  }) async {
+    try {
+      final safeName = _sanitizeFileName(fileName);
+      final inferredIsPdf = isPdf || _isPdfName(safeName);
+      final request = http.MultipartRequest('POST', _uploadUri())
+        ..fields['upload_preset'] = uploadPreset
+        ..fields['folder'] = folder
+        ..files.add(
+          http.MultipartFile.fromBytes(
+            'file',
+            bytes,
+            filename: safeName,
+            contentType: _contentTypeForName(safeName, isPdf: inferredIsPdf),
+          ),
+        );
+
+      final streamed = await request.send();
+      final resp = await http.Response.fromStream(streamed);
+
+      if (resp.statusCode >= 200 && resp.statusCode < 300) {
+        final data = jsonDecode(resp.body);
+        final secureUrl = data['secure_url'];
+        return secureUrl?.toString();
+      }
+      return null;
+    } catch (_) {
+      return null;
+    }
+  }
+
+  /// Convenience: upload base64 string (with or without data-url prefix).
+  static Future<String?> uploadBase64({
+    required String base64Data,
+    required String folder,
+    required String fileName,
+    bool isPdf = false,
+  }) async {
+    var s = base64Data.trim();
+    if (s.isEmpty) return null;
+    if (s.contains(',')) {
+      s = s.split(',').last;
+    }
+    s = s.replaceAll(RegExp(r'\s+'), '');
+    try {
+      final bytes = base64Decode(s);
+      return uploadBytes(
+        bytes: bytes,
+        folder: folder,
+        fileName: fileName,
+        isPdf: isPdf,
+      );
+    } catch (_) {
+      return null;
+    }
+  }
+}
diff --git a/lib/src/dispenser/dispenser_profile.dart b/lib/src/dispenser/dispenser_profile.dart
index 3a5a1e6..756c9e3 100644
--- a/lib/src/dispenser/dispenser_profile.dart
+++ b/lib/src/dispenser/dispenser_profile.dart
@@ -1,10 +1,11 @@
-import 'dart:convert';
 import 'dart:typed_data';
 import 'package:backend_client/backend_client.dart';
 import 'package:flutter/material.dart';
 import 'package:image_picker/image_picker.dart';
 import 'package:shared_preferences/shared_preferences.dart';
 
+import '../cloudinary_upload.dart';
+
 class DispenserProfile extends StatefulWidget {
   const DispenserProfile({super.key});
 
@@ -143,8 +144,25 @@ class _DispenserProfileState extends State<DispenserProfile> {
     if (!_isChanged) return;
     setState(() => _isSaving = true);
 
-    String? base64Image;
-    if (_imageBytes != null) base64Image = base64Encode(_imageBytes!);
+    String? profileUrl = profileImageUrl.isEmpty ? null : profileImageUrl;
+    if (_imageBytes != null) {
+      final uploadedUrl = await CloudinaryUpload.uploadBytes(
+        bytes: _imageBytes!,
+        folder: 'dispenser_profiles',
+        fileName:
+            'dispenser_profile_${DateTime.now().millisecondsSinceEpoch}.jpg',
+        isPdf: false,
+      );
+      if (uploadedUrl == null) {
+        if (!mounted) return;
+        ScaffoldMessenger.of(context).showSnackBar(
+          const SnackBar(content: Text('Failed to upload profile image')),
+        );
+        setState(() => _isSaving = false);
+        return;
+      }
+      profileUrl = uploadedUrl;
+    }
 
     try {
       final prefs = await SharedPreferences.getInstance();
@@ -157,7 +175,7 @@ class _DispenserProfileState extends State<DispenserProfile> {
         phone: _phoneCtrl.text.trim(),
         qualification: _qualificationCtrl.text.trim(),
         designation: _designationCtrl.text.trim(), // ‚úÖ Pass designation
-        base64Image: base64Image,
+        profilePictureUrl: profileUrl,
       );
 
       await _loadProfile();
diff --git a/lib/src/doctor/doctor_dashboard.dart b/lib/src/doctor/doctor_dashboard.dart
index d9d6081..835604b 100644
--- a/lib/src/doctor/doctor_dashboard.dart
+++ b/lib/src/doctor/doctor_dashboard.dart
@@ -1,5 +1,5 @@
-import 'package:dishari/src/doctor/prescription_page.dart';
 import 'package:flutter/material.dart';
+import 'package:dishari/src/doctor/doctor_home.dart';
 import 'doctor_profile.dart';
 import 'patient_records.dart';
 import 'test_reports_view.dart';
@@ -19,10 +19,10 @@ class _DoctorDashboardState extends State<DoctorDashboard> {
   // keep track of visited page history
   final List<int> _navigationHistory = [];
 
-  // Reordered pages: Patients -> Create Prescription -> Review Reports -> Profile
-  late final List<Widget> _pages = [
+  // Pages are generated dynamically so we always pass the latest doctorId.
+  List<Widget> get _pages => [
+    DoctorHomePage(doctorId: _doctorId),
     const PatientRecordsPage(),
-    const PrescriptionPage(),
     TestReportsView(doctorId: _doctorId),
     const ProfilePage(),
   ];
@@ -154,12 +154,12 @@ class _DoctorDashboardState extends State<DoctorDashboard> {
           },
           items: const [
             BottomNavigationBarItem(
-              icon: Icon(Icons.people),
-              label: "Patients",
+              icon: Icon(Icons.home_rounded),
+              label: "Home",
             ),
             BottomNavigationBarItem(
-              icon: Icon(Icons.emergency),
-              label: "Create Prescription",
+              icon: Icon(Icons.people),
+              label: "Patients",
             ),
             BottomNavigationBarItem(
               icon: Icon(Icons.upload_file),
diff --git a/lib/src/doctor/doctor_home.dart b/lib/src/doctor/doctor_home.dart
new file mode 100644
index 0000000..69d1a77
--- /dev/null
+++ b/lib/src/doctor/doctor_home.dart
@@ -0,0 +1,757 @@
+import 'package:flutter/material.dart';
+import 'package:backend_client/backend_client.dart';
+
+import 'test_reports_view.dart';
+
+class DoctorHomePage extends StatefulWidget {
+  const DoctorHomePage({super.key, required this.doctorId});
+  final int doctorId;
+
+  @override
+  State<DoctorHomePage> createState() => _DoctorHomePageState();
+}
+
+class _DoctorHomePageState extends State<DoctorHomePage> {
+  DoctorHomeData? _homeData;
+  bool _loading = false;
+
+  @override
+  void initState() {
+    super.initState();
+    _fetchHomeData();
+  }
+
+  Future<void> _fetchHomeData() async {
+    setState(() => _loading = true);
+    try {
+      // Backend resolves doctor from auth user; doctorId not needed.
+      final data = await client.doctor.getDoctorHomeData();
+
+      if (!mounted) return;
+      setState(() {
+        _homeData = data;
+        _loading = false;
+      });
+    } catch (_) {
+      if (!mounted) return;
+      setState(() {
+        _homeData = null;
+        _loading = false;
+      });
+    }
+  }
+
+  @override
+  Widget build(BuildContext context) {
+    final theme = Theme.of(context);
+
+    final resolvedDoctorName = (_homeData?.doctorName ?? '').trim();
+
+    final designation = (_homeData?.doctorDesignation ?? '').trim();
+    final today = (_homeData?.today ?? DateTime.now()).toLocal();
+
+    final lastMonthCount = _homeData?.lastMonthPrescriptions ?? 0;
+    final lastWeekCount = _homeData?.lastWeekPrescriptions ?? 0;
+
+    final profilePictureUrl = _homeData?.doctorProfilePictureUrl;
+
+    final recent = _homeData?.recent ?? <DoctorHomeRecentItem>[];
+    final reports = _homeData?.reviewedReports ?? <DoctorHomeReviewedReport>[];
+
+    return SafeArea(
+      child: RefreshIndicator(
+        onRefresh: _fetchHomeData,
+        child: SingleChildScrollView(
+          physics: const AlwaysScrollableScrollPhysics(),
+          padding: const EdgeInsets.all(16),
+          child: Column(
+            crossAxisAlignment: CrossAxisAlignment.stretch,
+            children: [
+              HeaderCard(
+                doctorName: resolvedDoctorName,
+                designation: designation,
+                today: today,
+                profilePictureUrl: profilePictureUrl,
+                lastMonthPrescriptions: lastMonthCount,
+                lastWeekPrescriptions: lastWeekCount,
+                loading: _loading,
+              ),
+              const SizedBox(height: 14),
+              RecentActivityCard(
+                items: recent,
+                titleStyle: theme.textTheme.titleMedium,
+                onTapItem: _handleRecentTap,
+              ),
+              const SizedBox(height: 14),
+              ReviewedReportsCard(items: reports),
+              const SizedBox(height: 16),
+            ],
+          ),
+        ),
+      ),
+    );
+  }
+
+  Future<void> _handleRecentTap(DoctorHomeRecentItem item) async {
+    if (item.type == 'prescription' && item.prescriptionId != null) {
+      try {
+        final details = await client.doctor.getPrescriptionDetails(
+          prescriptionId: item.prescriptionId!,
+        );
+
+        if (!mounted) return;
+
+        if (details == null) {
+          ScaffoldMessenger.of(context).showSnackBar(
+            const SnackBar(content: Text('Prescription not found.')),
+          );
+          return;
+        }
+
+        await showDialog<void>(
+          context: context,
+          builder: (_) => PrescriptionDetailsDialog(details: details),
+        );
+      } catch (e) {
+        if (!mounted) return;
+        ScaffoldMessenger.of(
+          context,
+        ).showSnackBar(SnackBar(content: Text('Failed: $e')));
+      }
+      return;
+    }
+
+    if (!mounted) return;
+    Navigator.of(context).push(
+      MaterialPageRoute(
+        builder: (_) => TestReportsView(doctorId: widget.doctorId),
+      ),
+    );
+  }
+}
+
+/* ---------------- UI Widgets ---------------- */
+
+class HeaderCard extends StatelessWidget {
+  const HeaderCard({
+    super.key,
+    required this.doctorName,
+    required this.designation,
+    required this.today,
+    required this.profilePictureUrl,
+    required this.lastMonthPrescriptions,
+    required this.lastWeekPrescriptions,
+    required this.loading,
+  });
+
+  final String doctorName;
+  final String designation;
+  final DateTime today;
+  final String? profilePictureUrl;
+  final int lastMonthPrescriptions;
+  final int lastWeekPrescriptions;
+  final bool loading;
+
+  @override
+  Widget build(BuildContext context) {
+    final dateStr = '${today.day}/${today.month}/${today.year}';
+    final maxWidth = MediaQuery.of(context).size.width;
+    final bool isNarrow = maxWidth < 560;
+
+    return Container(
+      decoration: BoxDecoration(
+        color: Colors.white,
+        borderRadius: BorderRadius.circular(14),
+        boxShadow: [
+          BoxShadow(
+            color: Colors.black.withOpacity(0.06),
+            blurRadius: 18,
+            offset: const Offset(0, 10),
+          ),
+        ],
+        border: Border.all(color: Colors.grey.shade200),
+      ),
+      padding: const EdgeInsets.all(16),
+      child: Column(
+        crossAxisAlignment: CrossAxisAlignment.start,
+        children: [
+          ClipRRect(
+            borderRadius: BorderRadius.circular(14),
+            child: Container(
+              width: double.infinity,
+              padding: const EdgeInsets.all(18),
+              decoration: const BoxDecoration(color: Color(0xFF38B6FF)),
+              child: Row(
+                crossAxisAlignment: CrossAxisAlignment.center,
+                children: [
+                  Container(
+                    width: 76,
+                    height: 76,
+                    decoration: const BoxDecoration(
+                      shape: BoxShape.circle,
+                      color: Color(0xFF6EC9FF),
+                    ),
+                    child: ClipOval(
+                      child: (profilePictureUrl ?? '').trim().isEmpty
+                          ? const Icon(
+                              Icons.person,
+                              size: 40,
+                              color: Colors.white,
+                            )
+                          : Image.network(
+                              profilePictureUrl!,
+                              fit: BoxFit.cover,
+                              errorBuilder: (_, __, ___) => const Icon(
+                                Icons.person,
+                                size: 40,
+                                color: Colors.white,
+                              ),
+                            ),
+                    ),
+                  ),
+                  const SizedBox(width: 16),
+                  Expanded(
+                    child: Column(
+                      crossAxisAlignment: CrossAxisAlignment.start,
+                      mainAxisSize: MainAxisSize.min,
+                      children: [
+                        Text(
+                          doctorName.trim().isEmpty ? '‚Äî' : doctorName.trim(),
+                          style: const TextStyle(
+                            fontSize: 22,
+                            fontWeight: FontWeight.w800,
+                            color: Colors.white,
+                          ),
+                          maxLines: 1,
+                          overflow: TextOverflow.ellipsis,
+                        ),
+                        const SizedBox(height: 4),
+                        Text(
+                          designation.trim().isEmpty ? ' ' : designation.trim(),
+                          style: const TextStyle(
+                            fontSize: 14,
+                            fontWeight: FontWeight.w600,
+                            color: Colors.white,
+                          ),
+                          maxLines: 1,
+                          overflow: TextOverflow.ellipsis,
+                        ),
+                        const SizedBox(height: 10),
+                        Container(
+                          padding: const EdgeInsets.symmetric(
+                            horizontal: 14,
+                            vertical: 8,
+                          ),
+                          decoration: BoxDecoration(
+                            color: const Color(0xFF6B4B3A),
+                            borderRadius: BorderRadius.circular(10),
+                          ),
+                          child: Text(
+                            'Today: $dateStr',
+                            style: const TextStyle(
+                              color: Colors.white,
+                              fontWeight: FontWeight.w700,
+                            ),
+                          ),
+                        ),
+                      ],
+                    ),
+                  ),
+                  if (loading)
+                    const Padding(
+                      padding: EdgeInsets.only(left: 12),
+                      child: SizedBox(
+                        width: 18,
+                        height: 18,
+                        child: CircularProgressIndicator(
+                          strokeWidth: 2,
+                          color: Colors.white,
+                        ),
+                      ),
+                    ),
+                ],
+              ),
+            ),
+          ),
+          const SizedBox(height: 14),
+          if (isNarrow)
+            Column(
+              children: [
+                StatTile(
+                  title: 'Last Month',
+                  subtitle: 'Prescriptions',
+                  value: '$lastMonthPrescriptions',
+                  icon: Icons.description_rounded,
+                  accent: const Color(0xFF2563EB),
+                ),
+                const SizedBox(height: 12),
+                StatTile(
+                  title: 'Last Week',
+                  subtitle: 'Prescriptions (7 days)',
+                  value: '$lastWeekPrescriptions',
+                  icon: Icons.calendar_today_rounded,
+                  accent: const Color(0xFF0EA5A5),
+                ),
+              ],
+            )
+          else
+            Row(
+              children: [
+                Expanded(
+                  child: StatTile(
+                    title: 'Last Month',
+                    subtitle: 'Prescriptions',
+                    value: '$lastMonthPrescriptions',
+                    icon: Icons.description_rounded,
+                    accent: const Color(0xFF2563EB),
+                  ),
+                ),
+                const SizedBox(width: 12),
+                Expanded(
+                  child: StatTile(
+                    title: 'Last Week',
+                    subtitle: 'Prescriptions (7 days)',
+                    value: '$lastWeekPrescriptions',
+                    icon: Icons.calendar_today_rounded,
+                    accent: const Color(0xFF0EA5A5),
+                  ),
+                ),
+              ],
+            ),
+        ],
+      ),
+    );
+  }
+}
+
+/// Beginner-friendly reusable widget:
+/// shows a small label on top and the value below it.
+class LabeledValue extends StatelessWidget {
+  const LabeledValue({
+    super.key,
+    required this.label,
+    required this.value,
+    this.placeholder = '',
+    this.labelStyle,
+    this.valueStyle,
+  });
+
+  final String label;
+  final String value;
+  final String placeholder;
+  final TextStyle? labelStyle;
+  final TextStyle? valueStyle;
+
+  @override
+  Widget build(BuildContext context) {
+    final effectiveValue = value.trim().isEmpty ? placeholder : value.trim();
+
+    return Column(
+      crossAxisAlignment: CrossAxisAlignment.start,
+      children: [
+        Text(
+          label,
+          style:
+              labelStyle ??
+              TextStyle(color: Colors.grey.shade600, fontSize: 12),
+        ),
+        const SizedBox(height: 3),
+        Text(
+          effectiveValue,
+          style: valueStyle,
+          overflow: TextOverflow.ellipsis,
+        ),
+      ],
+    );
+  }
+}
+
+class StatTile extends StatelessWidget {
+  const StatTile({
+    super.key,
+    required this.title,
+    required this.subtitle,
+    required this.value,
+    required this.icon,
+    required this.accent,
+  });
+
+  final String title;
+  final String subtitle;
+  final String value;
+  final IconData icon;
+  final Color accent;
+
+  @override
+  Widget build(BuildContext context) {
+    return Container(
+      padding: const EdgeInsets.all(14),
+      decoration: BoxDecoration(
+        color: Colors.grey.shade50,
+        borderRadius: BorderRadius.circular(12),
+        border: Border.all(color: Colors.grey.shade200),
+      ),
+      child: Row(
+        children: [
+          Container(
+            height: 34,
+            width: 34,
+            decoration: BoxDecoration(
+              color: accent.withOpacity(0.10),
+              borderRadius: BorderRadius.circular(10),
+            ),
+            child: Icon(icon, color: accent, size: 18),
+          ),
+          const SizedBox(width: 12),
+          Expanded(
+            child: Column(
+              crossAxisAlignment: CrossAxisAlignment.start,
+              children: [
+                Text(
+                  title,
+                  style: TextStyle(
+                    color: Colors.grey.shade600,
+                    fontWeight: FontWeight.w600,
+                  ),
+                ),
+                const SizedBox(height: 4),
+                Text(
+                  subtitle,
+                  style: TextStyle(
+                    color: Colors.grey.shade500,
+                    fontWeight: FontWeight.w600,
+                    fontSize: 12,
+                  ),
+                ),
+                const SizedBox(height: 6),
+                Text(
+                  value,
+                  style: const TextStyle(
+                    fontSize: 18,
+                    fontWeight: FontWeight.w900,
+                    color: Colors.black87,
+                  ),
+                ),
+              ],
+            ),
+          ),
+        ],
+      ),
+    );
+  }
+}
+
+class RecentActivityCard extends StatelessWidget {
+  const RecentActivityCard({
+    super.key,
+    required this.items,
+    required this.titleStyle,
+    required this.onTapItem,
+  });
+
+  final List<DoctorHomeRecentItem> items;
+  final TextStyle? titleStyle;
+  final Future<void> Function(DoctorHomeRecentItem item) onTapItem;
+
+  @override
+  Widget build(BuildContext context) {
+    return DashboardCard(
+      title: 'Recent Activity',
+      subtitle: '', //subtaitel thakbe na
+      trailing: Icon(Icons.show_chart_rounded, color: Colors.grey.shade600),
+      child: items.isEmpty
+          ? Padding(
+              padding: const EdgeInsets.all(6),
+              child: Text(
+                'No activity found',
+                style: TextStyle(
+                  color: Colors.grey.shade600,
+                  fontWeight: FontWeight.w600,
+                ),
+              ),
+            )
+          : Column(
+              children: [
+                for (int i = 0; i < items.length; i++) ...[
+                  InkWell(
+                    borderRadius: BorderRadius.circular(12),
+                    onTap: () => onTapItem(items[i]),
+                    child: Padding(
+                      padding: const EdgeInsets.symmetric(vertical: 6),
+                      child: _RecentActivityRow(item: items[i]),
+                    ),
+                  ),
+                  if (i != items.length - 1)
+                    Divider(height: 18, color: Colors.grey.shade200),
+                ],
+              ],
+            ),
+    );
+  }
+}
+
+class _RecentActivityRow extends StatelessWidget {
+  const _RecentActivityRow({required this.item});
+  final DoctorHomeRecentItem item;
+
+  @override
+  Widget build(BuildContext context) {
+    return Row(
+      crossAxisAlignment: CrossAxisAlignment.start,
+      children: [
+        Container(
+          margin: const EdgeInsets.only(top: 4),
+          height: 10,
+          width: 10,
+          decoration: const BoxDecoration(
+            color: Color(0xFF10B981),
+            shape: BoxShape.circle,
+          ),
+        ),
+        const SizedBox(width: 12),
+        Expanded(
+          child: Column(
+            crossAxisAlignment: CrossAxisAlignment.start,
+            children: [
+              Text(
+                item.title,
+                style: const TextStyle(
+                  fontWeight: FontWeight.w800,
+                  color: Colors.black87,
+                ),
+              ),
+              const SizedBox(height: 3),
+              Text(
+                item.subtitle,
+                style: TextStyle(
+                  color: Colors.grey.shade600,
+                  fontWeight: FontWeight.w600,
+                ),
+              ),
+            ],
+          ),
+        ),
+        const SizedBox(width: 10),
+        Text(
+          item.timeAgo,
+          style: TextStyle(
+            color: Colors.grey.shade600,
+            fontWeight: FontWeight.w600,
+          ),
+        ),
+      ],
+    );
+  }
+}
+
+class ReviewedReportsCard extends StatelessWidget {
+  const ReviewedReportsCard({super.key, required this.items});
+
+  final List<DoctorHomeReviewedReport> items;
+
+  @override
+  Widget build(BuildContext context) {
+    return DashboardCard(
+      title: 'Reviewed Reports',
+      subtitle: 'Last 10',
+      trailing: Icon(Icons.fact_check_rounded, color: Colors.purple.shade700),
+      child: items.isEmpty
+          ? Text(
+              'No reports found',
+              style: TextStyle(
+                color: Colors.grey.shade600,
+                fontWeight: FontWeight.w600,
+              ),
+            )
+          : Column(
+              children: [
+                for (int i = 0; i < items.length; i++) ...[
+                  _ReviewedReportRow(item: items[i]),
+                  if (i != items.length - 1)
+                    Divider(height: 18, color: Colors.grey.shade200),
+                ],
+              ],
+            ),
+    );
+  }
+}
+
+class _ReviewedReportRow extends StatelessWidget {
+  const _ReviewedReportRow({required this.item});
+  final DoctorHomeReviewedReport item;
+
+  @override
+  Widget build(BuildContext context) {
+    final iconColor = Colors.purple.shade700;
+
+    return Row(
+      crossAxisAlignment: CrossAxisAlignment.start,
+      children: [
+        Container(
+          height: 34,
+          width: 34,
+          decoration: BoxDecoration(
+            color: iconColor.withOpacity(0.12),
+            borderRadius: BorderRadius.circular(10),
+          ),
+          child: Icon(Icons.fact_check, color: iconColor, size: 18),
+        ),
+        const SizedBox(width: 12),
+        Expanded(
+          child: Column(
+            crossAxisAlignment: CrossAxisAlignment.start,
+            children: [
+              Text(
+                item.type.isEmpty ? 'Report' : item.type,
+                style: const TextStyle(
+                  fontWeight: FontWeight.w800,
+                  color: Colors.black87,
+                ),
+              ),
+              const SizedBox(height: 3),
+              Text(
+                (item.uploadedByName).trim().isEmpty
+                    ? 'Uploaded by: Unknown'
+                    : 'Uploaded by: ${item.uploadedByName}',
+                maxLines: 1,
+                overflow: TextOverflow.ellipsis,
+                style: TextStyle(
+                  color: Colors.grey.shade600,
+                  fontWeight: FontWeight.w600,
+                ),
+              ),
+            ],
+          ),
+        ),
+        const SizedBox(width: 10),
+        Text(
+          item.timeAgo,
+          style: TextStyle(
+            color: Colors.grey.shade600,
+            fontWeight: FontWeight.w600,
+          ),
+        ),
+      ],
+    );
+  }
+}
+
+class DashboardCard extends StatelessWidget {
+  const DashboardCard({
+    super.key,
+    required this.title,
+    required this.subtitle,
+    required this.child,
+    required this.trailing,
+  });
+
+  final String title;
+  final String? subtitle;
+  final Widget child;
+  final Widget trailing;
+
+  @override
+  Widget build(BuildContext context) {
+    return Container(
+      decoration: BoxDecoration(
+        color: Colors.white,
+        borderRadius: BorderRadius.circular(14),
+        boxShadow: [
+          BoxShadow(
+            color: Colors.black.withOpacity(0.06),
+            blurRadius: 18,
+            offset: const Offset(0, 10),
+          ),
+        ],
+        border: Border.all(color: Colors.grey.shade200),
+      ),
+      padding: const EdgeInsets.all(16),
+      child: Column(
+        crossAxisAlignment: CrossAxisAlignment.start,
+        children: [
+          Row(
+            children: [
+              Expanded(
+                child: Column(
+                  crossAxisAlignment: CrossAxisAlignment.start,
+                  children: [
+                    Text(
+                      title,
+                      style: const TextStyle(
+                        fontSize: 18,
+                        fontWeight: FontWeight.w900,
+                        color: Colors.black87,
+                      ),
+                    ),
+                    if (subtitle != null) ...[
+                      const SizedBox(height: 4),
+                      Text(
+                        subtitle!,
+                        style: TextStyle(
+                          color: Colors.grey.shade600,
+                          fontWeight: FontWeight.w600,
+                        ),
+                      ),
+                    ],
+                  ],
+                ),
+              ),
+              trailing,
+            ],
+          ),
+          const SizedBox(height: 12),
+          child,
+        ],
+      ),
+    );
+  }
+}
+
+class PrescriptionDetailsDialog extends StatelessWidget {
+  const PrescriptionDetailsDialog({super.key, required this.details});
+  final PatientPrescriptionDetails details;
+
+  @override
+  Widget build(BuildContext context) {
+    return AlertDialog(
+      title: Text('Prescription #${details.prescriptionId}'),
+      content: SizedBox(
+        width: double.maxFinite,
+        child: SingleChildScrollView(
+          child: Column(
+            crossAxisAlignment: CrossAxisAlignment.start,
+            children: [
+              Text('Patient: ${details.name}'),
+              const SizedBox(height: 6),
+              Text('Mobile: ${details.mobileNumber ?? ''}'),
+              const SizedBox(height: 6),
+              Text('Advice: ${details.advice ?? ''}'),
+              const SizedBox(height: 10),
+              const Text(
+                'Medicines:',
+                style: TextStyle(fontWeight: FontWeight.w800),
+              ),
+              const SizedBox(height: 6),
+              if (details.items.isEmpty)
+                const Text('No items')
+              else
+                for (final it in details.items)
+                  Padding(
+                    padding: const EdgeInsets.only(bottom: 6),
+                    child: Text(
+                      '- ${it.medicineName} | ${it.dosageTimes ?? ''} | ${it.mealTiming ?? ''} | ${it.duration ?? ''}',
+                    ),
+                  ),
+            ],
+          ),
+        ),
+      ),
+      actions: [
+        TextButton(
+          onPressed: () => Navigator.of(context).pop(),
+          child: const Text('Close'),
+        ),
+      ],
+    );
+  }
+}
diff --git a/lib/src/doctor/doctor_profile.dart b/lib/src/doctor/doctor_profile.dart
index 3bf998b..9a202e4 100644
--- a/lib/src/doctor/doctor_profile.dart
+++ b/lib/src/doctor/doctor_profile.dart
@@ -1,14 +1,13 @@
 import 'dart:io';
-import 'dart:convert';
 import 'package:flutter/foundation.dart' show kIsWeb;
 import 'package:flutter/material.dart';
 import 'package:image_picker/image_picker.dart';
-import 'package:http/http.dart' as http;
-import 'package:http_parser/http_parser.dart';
 import 'package:shared_preferences/shared_preferences.dart';
 import 'package:flutter/services.dart';
 import 'package:backend_client/backend_client.dart';
 
+import '../cloudinary_upload.dart';
+
 class ProfilePage extends StatefulWidget {
   const ProfilePage({super.key});
 
@@ -165,7 +164,8 @@ class _ProfilePageState extends State<ProfilePage> {
 
       _doctorId = id;
 
-      final DoctorProfile? profile = await client.doctor.getDoctorProfile(id);
+      // Backend resolves doctorId from authenticated session
+      final DoctorProfile? profile = await client.doctor.getDoctorProfile(0);
       if (profile != null) {
         initialName = profile.name ?? '';
         initialEmail = profile.email ?? '';
@@ -204,33 +204,19 @@ class _ProfilePageState extends State<ProfilePage> {
     }
   }
 
-  Future<String?> _uploadToCloudinary(Uint8List bytes) async {
-    const String cloudName = 'dfrzizwb1';
-    const String uploadPreset = 'sabbir';
-
-    final uri = Uri.parse('https://api.cloudinary.com/v1_1/$cloudName/upload');
-    final request = http.MultipartRequest('POST', uri)
-      ..fields['upload_preset'] = uploadPreset
-      ..files.add(
-        http.MultipartFile.fromBytes(
-          'file',
-          bytes,
-          filename: 'upload_${DateTime.now().millisecondsSinceEpoch}.jpg',
-          contentType: MediaType('image', 'jpeg'),
-        ),
-      );
-
-    try {
-      final streamed = await request.send();
-      final resp = await http.Response.fromStream(streamed);
-      if (resp.statusCode >= 200 && resp.statusCode < 300) {
-        final json = jsonDecode(resp.body);
-        return json['secure_url'] as String?;
-      }
-    } catch (e) {
-      // ignore - caller will show snackbar
-    }
-    return null;
+  Future<String?> _uploadDoctorImageToCloudinary({
+    required Uint8List bytes,
+    required String folder,
+    required String filePrefix,
+  }) {
+    final fileName =
+        '${filePrefix}_${DateTime.now().millisecondsSinceEpoch}.jpg';
+    return CloudinaryUpload.uploadBytes(
+      bytes: bytes,
+      folder: folder,
+      fileName: fileName,
+      isPdf: false,
+    );
   }
 
   Future<void> _pickImage() async {
@@ -348,7 +334,11 @@ class _ProfilePageState extends State<ProfilePage> {
       // Profile upload
       if (_profileImage != null) {
         final bytes = await _profileImage!.readAsBytes();
-        profileUrl = await _uploadToCloudinary(bytes);
+        profileUrl = await _uploadDoctorImageToCloudinary(
+          bytes: bytes,
+          folder: 'doctor_profiles',
+          filePrefix: 'doctor_profile',
+        );
         if (profileUrl == null) {
           if (!mounted) return;
           ScaffoldMessenger.of(context).showSnackBar(
@@ -360,7 +350,11 @@ class _ProfilePageState extends State<ProfilePage> {
           return;
         }
       } else if (_webProfileImageBytes != null) {
-        profileUrl = await _uploadToCloudinary(_webProfileImageBytes!);
+        profileUrl = await _uploadDoctorImageToCloudinary(
+          bytes: _webProfileImageBytes!,
+          folder: 'doctor_profiles',
+          filePrefix: 'doctor_profile',
+        );
         if (profileUrl == null) {
           if (!mounted) return;
           ScaffoldMessenger.of(context).showSnackBar(
@@ -376,7 +370,11 @@ class _ProfilePageState extends State<ProfilePage> {
       // Signature upload
       if (_signatureImage != null) {
         final bytes = await _signatureImage!.readAsBytes();
-        signatureUrl = await _uploadToCloudinary(bytes);
+        signatureUrl = await _uploadDoctorImageToCloudinary(
+          bytes: bytes,
+          folder: 'doctor_signatures',
+          filePrefix: 'doctor_signature',
+        );
         if (signatureUrl == null) {
           if (!mounted) return;
           ScaffoldMessenger.of(context).showSnackBar(
@@ -388,7 +386,11 @@ class _ProfilePageState extends State<ProfilePage> {
           return;
         }
       } else if (_webSignatureImageBytes != null) {
-        signatureUrl = await _uploadToCloudinary(_webSignatureImageBytes!);
+        signatureUrl = await _uploadDoctorImageToCloudinary(
+          bytes: _webSignatureImageBytes!,
+          folder: 'doctor_signatures',
+          filePrefix: 'doctor_signature',
+        );
         if (signatureUrl == null) {
           if (!mounted) return;
           ScaffoldMessenger.of(context).showSnackBar(
@@ -553,18 +555,12 @@ class _ProfilePageState extends State<ProfilePage> {
           "Doctor Profile",
           style: TextStyle(fontWeight: FontWeight.w800),
         ),
-        centerTitle: true,
+
         elevation: 0,
         backgroundColor: Colors.white,
         foregroundColor: Colors.blue,
-        actions: [
-          IconButton(
-            icon: const Icon(Icons.notifications),
-            onPressed: () async {
-              await Navigator.pushNamed(context, '/notifications');
-            },
-          ),
-        ],
+        automaticallyImplyLeading: false,
+        centerTitle: true,
       ),
       body: SafeArea(
         child: SingleChildScrollView(
diff --git a/lib/src/doctor/patient_records.dart b/lib/src/doctor/patient_records.dart
index 14cb4f9..7a92e88 100644
--- a/lib/src/doctor/patient_records.dart
+++ b/lib/src/doctor/patient_records.dart
@@ -1,5 +1,9 @@
+import 'dart:async';
+
 import 'package:flutter/material.dart';
+import 'package:flutter/services.dart';
 import 'package:backend_client/backend_client.dart';
+import 'package:dishari/src/doctor/prescription_page.dart';
 
 class PatientRecordsPage extends StatefulWidget {
   const PatientRecordsPage({super.key});
@@ -11,74 +15,146 @@ class PatientRecordsPage extends StatefulWidget {
 class _PatientRecordsPageState extends State<PatientRecordsPage> {
   final TextEditingController _searchController = TextEditingController();
 
+  Timer? _searchDebounce;
+  int _fetchToken = 0;
+  bool _searching = false;
+
   bool _loading = false;
   String? _error;
 
   List<PatientPrescriptionListItem> _patients = [];
   List<PatientPrescriptionListItem> _filteredPatients = [];
 
+  final TextEditingController _newPatientPhoneController =
+      TextEditingController();
+
   @override
   void initState() {
     super.initState();
-    _searchController.addListener(_filterPatients);
-    _fetchPatients();
+    _searchController.addListener(_onSearchChanged);
+    // Don't show any records until user searches.
+    _patients = [];
+    _filteredPatients = [];
   }
 
   @override
   void dispose() {
-    _searchController.removeListener(_filterPatients);
-    _searchController.dispose();
+    try {
+      _searchController.removeListener(_onSearchChanged);
+    } catch (_) {}
+    try {
+      _searchController.dispose();
+    } catch (_) {}
+    try {
+      _searchDebounce?.cancel();
+    } catch (_) {}
+    try {
+      _newPatientPhoneController.dispose();
+    } catch (_) {}
     super.dispose();
   }
 
-  Future<void> _fetchPatients() async {
-    setState(() {
-      _loading = true;
-      _error = null;
-    });
+  String _digitsOnly(String input) => input.replaceAll(RegExp(r'[^0-9]'), '');
+
+  bool _phonesMatchByLast11(String? a, String? b) {
+    final da = _digitsOnly(a ?? '');
+    final db = _digitsOnly(b ?? '');
+    if (da.isEmpty || db.isEmpty) return false;
+    final lastA = da.length >= 11 ? da.substring(da.length - 11) : da;
+    final lastB = db.length >= 11 ? db.substring(db.length - 11) : db;
+    return lastA == lastB;
+  }
+
+  int _calculateAgeFromDob(DateTime dob, DateTime now) {
+    var age = now.year - dob.year;
+    final hasHadBirthdayThisYear =
+        (now.month > dob.month) ||
+        (now.month == dob.month && now.day >= dob.day);
+    if (!hasHadBirthdayThisYear) age -= 1;
+    if (age < 0) return 0;
+    return age;
+  }
+
+  Future<void> _fetchPatients({
+    String? queryOverride,
+    bool showSpinner = true,
+  }) async {
+    final token = ++_fetchToken;
+
+    if (showSpinner) {
+      setState(() {
+        _loading = true;
+        _error = null;
+      });
+    } else {
+      setState(() {
+        _searching = true;
+        _error = null;
+      });
+    }
 
     try {
       final data = await client.doctor.getPatientPrescriptionList(
-        query: _searchController.text.trim(),
+        query: (queryOverride ?? _searchController.text).trim(),
         limit: 200,
         offset: 0,
       );
 
       if (!mounted) return;
+      if (token != _fetchToken) return; // ignore stale responses
 
       setState(() {
         _patients = data;
-        _filteredPatients = data; // initial
+        _filterPatients();
         _loading = false;
+        _searching = false;
       });
     } catch (e) {
       if (!mounted) return;
+      if (token != _fetchToken) return;
       setState(() {
         _error = e.toString();
         _loading = false;
+        _searching = false;
       });
     }
   }
 
+  void _onSearchChanged() {
+    if (!mounted) return;
+    _filterPatients();
+
+    _searchDebounce?.cancel();
+    _searchDebounce = Timer(const Duration(milliseconds: 350), () {
+      if (!mounted) return;
+      // Live server-side search so number-based search works beyond initial 200.
+      _fetchPatients(
+        queryOverride: _searchController.text.trim(),
+        showSpinner: false,
+      );
+    });
+  }
+
   void _filterPatients() {
     if (!mounted) return;
     final query = _searchController.text.toLowerCase().trim();
 
+    final queryDigits = _digitsOnly(query);
+
     // backend search already supported, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ UI instant filter ‡¶∞‡¶æ‡¶ñ‡¶≤‡¶æ‡¶Æ
     setState(() {
       if (query.isEmpty) {
-        _filteredPatients = _patients;
+        _filteredPatients = [];
       } else {
         _filteredPatients = _patients.where((p) {
-          final name = p.name.toLowerCase();
-          final mobile = (p.mobileNumber ?? '').toLowerCase();
-          return name.contains(query) || mobile.contains(query);
+          final mobileDigits = _digitsOnly(p.mobileNumber ?? '');
+          if (queryDigits.isEmpty) return false;
+          return mobileDigits.contains(queryDigits);
         }).toList();
       }
     });
   }
 
-
   Future<void> _viewPatientDetails(PatientPrescriptionListItem patient) async {
     try {
       final details = await client.doctor.getPrescriptionDetails(
@@ -100,6 +176,74 @@ class _PatientRecordsPageState extends State<PatientRecordsPage> {
     }
   }
 
+  Future<void> _continueFromSearchNumber() async {
+    final raw = _searchController.text.trim();
+    if (raw.isEmpty) {
+      ScaffoldMessenger.of(context).showSnackBar(
+        const SnackBar(content: Text('Enter a phone number first')),
+      );
+      return;
+    }
+
+    try {
+      final res = await client.doctor.getPatientByPhone(raw);
+      final nameFromAccount = (res['name'] ?? '').trim();
+
+      // Backend returns these keys when patient exists:
+      // - age: computed integer age (string)
+      // - dateOfBirth: ISO date string (optional)
+      final ageStr = (res['age'] ?? '').trim();
+      final dobStr = (res['dateOfBirth'] ?? '').trim();
+
+      int? ageFromBackend;
+      if (ageStr.isNotEmpty) {
+        ageFromBackend = int.tryParse(ageStr);
+      }
+
+      int? ageFromDob;
+      if (ageFromBackend == null && dobStr.isNotEmpty) {
+        final dob = DateTime.tryParse(dobStr);
+        if (dob != null) {
+          ageFromDob = _calculateAgeFromDob(dob, DateTime.now());
+        }
+      }
+
+      // Try to auto-fill gender/age from the most recent record (if any)
+      PatientPrescriptionListItem? bestRecord;
+      for (final r in _patients) {
+        if (_phonesMatchByLast11(r.mobileNumber, raw)) {
+          bestRecord = r;
+          break;
+        }
+      }
+
+      if (!mounted) return;
+
+      await Navigator.of(context).push(
+        MaterialPageRoute(
+          builder: (_) => PrescriptionPage(
+            initialPatientName: nameFromAccount.isNotEmpty
+                ? nameFromAccount
+                : (bestRecord?.name.isNotEmpty == true
+                      ? bestRecord!.name
+                      : null),
+            initialPatientNumber: raw,
+            initialPatientGender: bestRecord?.gender,
+            initialPatientAge: ageFromBackend ?? ageFromDob,
+          ),
+        ),
+      );
+
+      if (!mounted) return;
+      await _fetchPatients();
+    } catch (e) {
+      if (!mounted) return;
+      ScaffoldMessenger.of(
+        context,
+      ).showSnackBar(SnackBar(content: Text('Failed: $e')));
+    }
+  }
+
   @override
   Widget build(BuildContext context) {
     final query = _searchController.text.trim();
@@ -120,13 +264,8 @@ class _PatientRecordsPageState extends State<PatientRecordsPage> {
               await Navigator.pushNamed(context, '/notifications');
             },
           ),
-          IconButton(
-            tooltip: 'Refresh',
-            icon: const Icon(Icons.refresh),
-            onPressed: _fetchPatients,
-          ),
         ],
-        centerTitle: true,
+        automaticallyImplyLeading: false,
         backgroundColor: Colors.white,
         iconTheme: const IconThemeData(color: Colors.blueAccent),
       ),
@@ -136,16 +275,39 @@ class _PatientRecordsPageState extends State<PatientRecordsPage> {
             padding: const EdgeInsets.all(16.0),
             child: TextField(
               controller: _searchController,
+              keyboardType: TextInputType.phone,
+              inputFormatters: [
+                FilteringTextInputFormatter.allow(RegExp(r'[0-9+ -]')),
+              ],
               decoration: InputDecoration(
-                hintText: 'Search by Patient Name or Number...',
+                hintText: 'Search by phone number...',
                 prefixIcon: const Icon(Icons.search),
+                suffixIcon: Row(
+                  mainAxisSize: MainAxisSize.min,
+                  children: [
+                    if (_searching)
+                      const Padding(
+                        padding: EdgeInsets.only(right: 4),
+                        child: SizedBox(
+                          width: 18,
+                          height: 18,
+                          child: CircularProgressIndicator(strokeWidth: 2),
+                        ),
+                      ),
+                    IconButton(
+                      tooltip: 'Next',
+                      icon: const Icon(Icons.keyboard_return),
+                      onPressed: _continueFromSearchNumber,
+                    ),
+                  ],
+                ),
                 border: OutlineInputBorder(
                   borderRadius: BorderRadius.circular(12),
                 ),
                 filled: true,
                 fillColor: Colors.grey[50],
               ),
-              onSubmitted: (_) => _fetchPatients(), // server-side search
+              onSubmitted: (_) => _continueFromSearchNumber(),
             ),
           ),
 
@@ -157,6 +319,15 @@ class _PatientRecordsPageState extends State<PatientRecordsPage> {
                 child: Text(_error!, style: const TextStyle(color: Colors.red)),
               ),
             )
+          else if (query.isEmpty)
+            const Expanded(
+              child: Center(
+                child: Text(
+                  'Search by phone number to see records',
+                  style: TextStyle(fontSize: 14, color: Colors.grey),
+                ),
+              ),
+            )
           else if (_filteredPatients.isEmpty && query.isNotEmpty)
             Padding(
               padding: const EdgeInsets.all(20),
@@ -200,7 +371,12 @@ class _PatientRecordsPageState extends State<PatientRecordsPage> {
                           ),
                         ],
                       ),
-                      trailing: const Icon(Icons.arrow_forward_ios, size: 16),
+                      trailing: Row(
+                        mainAxisSize: MainAxisSize.min,
+                        children: [
+                          const Icon(Icons.arrow_forward_ios, size: 16),
+                        ],
+                      ),
                       onTap: () => _viewPatientDetails(patient),
                     ),
                   );
@@ -209,12 +385,11 @@ class _PatientRecordsPageState extends State<PatientRecordsPage> {
             ),
         ],
       ),
+      floatingActionButton: null,
     );
   }
 }
 
-
-
 class PatientDetailsSheet extends StatelessWidget {
   final PatientPrescriptionDetails details;
 
@@ -283,7 +458,11 @@ class PatientDetailsSheet extends StatelessWidget {
                           CircleAvatar(
                             radius: 30,
                             backgroundColor: Colors.blue.shade100,
-                            child: const Icon(Icons.person, size: 30, color: Colors.blue),
+                            child: const Icon(
+                              Icons.person,
+                              size: 30,
+                              color: Colors.blue,
+                            ),
                           ),
                           const SizedBox(width: 16),
                           Expanded(
@@ -292,12 +471,19 @@ class PatientDetailsSheet extends StatelessWidget {
                               children: [
                                 Text(
                                   details.name,
-                                  style: const TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
+                                  style: const TextStyle(
+                                    fontSize: 20,
+                                    fontWeight: FontWeight.bold,
+                                  ),
+                                ),
+                                Text(
+                                  'Number: ${details.mobileNumber ?? '-'}',
+                                  style: const TextStyle(color: Colors.grey),
+                                ),
+                                Text(
+                                  'Gender: ${details.gender ?? '-'} ‚Ä¢ Age: ${details.age ?? '-'}',
+                                  style: const TextStyle(color: Colors.grey),
                                 ),
-                                Text('Number: ${details.mobileNumber ?? '-'}',
-                                    style: const TextStyle(color: Colors.grey)),
-                                Text('Gender: ${details.gender ?? '-'} ‚Ä¢ Age: ${details.age ?? '-'}',
-                                    style: const TextStyle(color: Colors.grey)),
                               ],
                             ),
                           ),
@@ -315,7 +501,10 @@ class PatientDetailsSheet extends StatelessWidget {
                       const SizedBox(height: 12),
                       const Text(
                         'Medicine',
-                        style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
+                        style: TextStyle(
+                          fontSize: 18,
+                          fontWeight: FontWeight.bold,
+                        ),
                       ),
                       const SizedBox(height: 8),
 
@@ -335,14 +524,18 @@ class PatientDetailsSheet extends StatelessWidget {
                               child: ListTile(
                                 title: Text(
                                   m.medicineName,
-                                  style: const TextStyle(fontWeight: FontWeight.w700),
+                                  style: const TextStyle(
+                                    fontWeight: FontWeight.w700,
+                                  ),
                                 ),
                                 subtitle: Column(
                                   crossAxisAlignment: CrossAxisAlignment.start,
                                   children: [
                                     Text('Dosage: ${m.dosageTimes ?? '-'}'),
                                     Text('Meal: ${m.mealTiming ?? '-'}'),
-                                    Text('Duration: ${m.duration?.toString() ?? '-'}'),
+                                    Text(
+                                      'Duration: ${m.duration?.toString() ?? '-'}',
+                                    ),
                                   ],
                                 ),
                               ),
diff --git a/lib/src/doctor/prescription_page.dart b/lib/src/doctor/prescription_page.dart
index a5b43e0..3e5fec3 100644
--- a/lib/src/doctor/prescription_page.dart
+++ b/lib/src/doctor/prescription_page.dart
@@ -1,7 +1,10 @@
 import 'package:flutter/material.dart';
 import 'package:flutter/services.dart';
-import 'package:shared_preferences/shared_preferences.dart';
 import 'package:backend_client/backend_client.dart';
+import 'package:bangla_pdf_fixer/bangla_pdf_fixer.dart';
+import 'package:pdf/pdf.dart';
+import 'package:pdf/widgets.dart' as pw;
+import 'package:printing/printing.dart';
 
 // DESIGN: central theme colors and typography for this page
 const Color _accent = Color(0xFF0EA5A5); // teal-ish
@@ -46,9 +49,21 @@ class Medicine {
   String durationUnit = '‡¶¶‡¶ø‡¶®';
 }
 
-
 class PrescriptionPage extends StatefulWidget {
-  const PrescriptionPage({super.key});
+  final String? initialPatientName;
+  final String? initialPatientNumber;
+  final String? initialPatientGender;
+  final int? initialPatientAge;
+  final List<PatientPrescribedItem>? initialPrescribedItems;
+
+  const PrescriptionPage({
+    super.key,
+    this.initialPatientName,
+    this.initialPatientNumber,
+    this.initialPatientGender,
+    this.initialPatientAge,
+    this.initialPrescribedItems,
+  });
 
   @override
   State<PrescriptionPage> createState() => _PrescriptionPageState();
@@ -95,10 +110,51 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
   bool _isOutside = false;
   DateTime selectedDate = DateTime.now();
 
+  // PDF assets/cache (used by print)
+  Uint8List? _pdfLogoBytes;
+  pw.Font? _pdfEnglishFont;
+  bool _pdfAssetsReady = false;
+
   @override
   void initState() {
     super.initState();
-    _addMedicineRow();
+
+    // Build medicine rows first (either from existing record, or at least one empty row)
+    if (widget.initialPrescribedItems != null &&
+        widget.initialPrescribedItems!.isNotEmpty) {
+      _seedMedicinesFromExisting(widget.initialPrescribedItems!);
+    } else {
+      _addMedicineRow();
+    }
+
+    // Optional prefill (used when creating prescription from patient records)
+    final name = widget.initialPatientName?.trim();
+    if (name != null && name.isNotEmpty) {
+      _nameController.text = name;
+    }
+
+    final number = widget.initialPatientNumber?.trim();
+    if (number != null && number.isNotEmpty) {
+      _rollController.text = number;
+    }
+
+    final age = widget.initialPatientAge;
+    if (age != null) {
+      _ageController.text = age.toString();
+    }
+
+    final genderRaw = widget.initialPatientGender?.trim();
+    if (genderRaw != null && genderRaw.isNotEmpty) {
+      final g = genderRaw.toLowerCase();
+      if (g == 'male' || g == 'm' || g.startsWith('male')) {
+        _selectedGender = 'Male';
+        _genderController.text = 'Male';
+      } else if (g == 'female' || g == 'f' || g.startsWith('female')) {
+        _selectedGender = 'Female';
+        _genderController.text = 'Female';
+      }
+    }
+
     // mark unsaved when any main field changes
     _nameController.addListener(_markUnsaved);
     _rollController.addListener(_markUnsaved);
@@ -115,16 +171,76 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
     });
   }
 
+  void _seedMedicinesFromExisting(List<PatientPrescribedItem> items) {
+    // Avoid setState inside initState; just initialize lists.
+    _medicineRows.clear();
+    _medicineNameErrors.clear();
+    _medicineDurationErrors.clear();
+    _medicineMealErrors.clear();
+
+    for (final it in items) {
+      final m = Medicine();
+      m.nameController.text = it.medicineName;
+      if (it.duration != null) {
+        m.durationController.text = it.duration.toString();
+      }
+
+      final dosageRaw = (it.dosageTimes ?? '').toString();
+      if (dosageRaw.isNotEmpty) {
+        final normalized = dosageRaw.toLowerCase();
+        m.times = {
+          '‡¶∏‡¶ï‡¶æ‡¶≤': normalized.contains('‡¶∏‡¶ï‡¶æ‡¶≤') || normalized.contains('morning'),
+          '‡¶¶‡ßÅ‡¶™‡ßÅ‡¶∞': normalized.contains('‡¶¶‡ßÅ‡¶™‡ßÅ‡¶∞') || normalized.contains('noon'),
+          '‡¶∞‡¶æ‡¶§': normalized.contains('‡¶∞‡¶æ‡¶§') || normalized.contains('night'),
+        };
+        // If nothing matched, keep defaults
+        if (!m.times.values.any((v) => v)) {
+          m.times = {'‡¶∏‡¶ï‡¶æ‡¶≤': true, '‡¶¶‡ßÅ‡¶™‡ßÅ‡¶∞': true, '‡¶∞‡¶æ‡¶§': true};
+        }
+      }
+
+      final mealRaw = (it.mealTiming ?? '').toString().trim();
+      if (mealRaw.isNotEmpty) {
+        final lower = mealRaw.toLowerCase();
+        if (lower.contains('before') || mealRaw.contains('‡¶Ü‡¶ó‡ßá')) {
+          m.mealTiming = '‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá';
+        } else if (lower.contains('after') || mealRaw.contains('‡¶™‡¶∞‡ßá')) {
+          m.mealTiming = '‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶™‡¶∞‡ßá';
+        }
+
+        // Best-effort: keep any time portion in the UI field
+        var timePart = mealRaw
+            .replaceAll('before', '')
+            .replaceAll('after', '')
+            .replaceAll('‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá', '')
+            .replaceAll('‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶™‡¶∞‡ßá', '')
+            .replaceAll('‡¶Ü‡¶ó‡ßá', '')
+            .replaceAll('‡¶™‡¶∞‡ßá', '')
+            .trim();
+        if (timePart.isNotEmpty) {
+          m.mealTimeController.text = timePart;
+        }
+      }
+
+      _medicineRows.add(m);
+      _medicineNameErrors.add(null);
+      _medicineDurationErrors.add(null);
+      _medicineMealErrors.add(null);
+
+      m.nameController.addListener(_markUnsaved);
+      m.durationController.addListener(_markUnsaved);
+      m.mealTimeController.addListener(_markUnsaved);
+    }
+
+    if (_medicineRows.isEmpty) {
+      _addMedicineRow();
+    }
+  }
+
   Future<void> _loadDoctorInfo() async {
     try {
-      final prefs = await SharedPreferences.getInstance();
-      final stored = prefs.getString('user_id');
-      final id = int.tryParse(stored ?? '');
-      if (id == null) {
-        setState(() => _loadingDoctorInfo = false);
-        return;
-      }
-      final info = await client.doctor.getDoctorInfo(id);
+      // Backend resolves doctorId from authenticated session
+      final info = await client.doctor.getDoctorInfo();
       setState(() {
         _doctorName = info['name'] ?? '';
         // server returns signature under key 'signature' (prescription_page.dart uses this)
@@ -212,6 +328,421 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
     });
   }
 
+  bool _hasBangla(String? s) =>
+      s != null && RegExp(r'[\u0980-\u09FF]').hasMatch(s);
+
+  Future<void> _ensurePdfAssetsReady() async {
+    if (_pdfAssetsReady) return;
+    await BanglaFontManager().initialize();
+
+    try {
+      final logo = await rootBundle.load('assets/images/nstu_logo.jpg');
+      _pdfLogoBytes = logo.buffer.asUint8List();
+    } catch (_) {
+      _pdfLogoBytes = null;
+    }
+
+    try {
+      final fontData = await rootBundle.load(
+        'assets/fonts/OpenSans-VariableFont.ttf',
+      );
+      _pdfEnglishFont = pw.Font.ttf(fontData);
+    } catch (_) {
+      _pdfEnglishFont = null;
+    }
+
+    _pdfAssetsReady = true;
+  }
+
+  pw.Widget _pdfSectionTitle(String title, pw.TextStyle style) =>
+      pw.Text(title, style: style.copyWith(fontWeight: pw.FontWeight.bold));
+
+  pw.Widget _pdfContentBox(String? text, pw.TextStyle style) {
+    if (text == null || text.trim().isEmpty) return pw.SizedBox(height: 10);
+    if (_hasBangla(text)) {
+      return pw.Padding(
+        padding: const pw.EdgeInsets.only(bottom: 10, left: 4),
+        child: BanglaText(text, fontSize: 11),
+      );
+    }
+    return pw.Padding(
+      padding: const pw.EdgeInsets.only(bottom: 10, left: 4),
+      child: pw.Text(text, style: style.copyWith(fontSize: 11)),
+    );
+  }
+
+  pw.Widget _pdfHeader(pw.TextStyle style) {
+    return pw.Row(
+      mainAxisAlignment: pw.MainAxisAlignment.center,
+      children: [
+        if (_pdfLogoBytes != null)
+          pw.Image(pw.MemoryImage(_pdfLogoBytes!), width: 70, height: 70),
+        pw.SizedBox(width: 10),
+        pw.Column(
+          children: [
+            BanglaText('‡¶Æ‡ßá‡¶°‡¶ø‡¶ï‡ßá‡¶≤ ‡¶∏‡ßá‡¶®‡ßç‡¶ü‡¶æ‡¶∞', fontSize: 12),
+            BanglaText(
+              '‡¶®‡ßã‡¶Ø‡¶º‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶ì ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º',
+              fontSize: 14,
+            ),
+            pw.Text(
+              'Noakhali Science and Technology University',
+              style: style.copyWith(
+                fontWeight: pw.FontWeight.bold,
+                fontSize: 16,
+              ),
+            ),
+          ],
+        ),
+      ],
+    );
+  }
+
+  pw.Widget _pdfPatientInfo(pw.TextStyle style) {
+    final dateStr =
+        '${selectedDate.day}/${selectedDate.month}/${selectedDate.year}';
+
+    final name = _nameController.text.trim();
+    final age = _ageController.text.trim();
+    final gender = _selectedGender ?? '';
+    final mobile = _rollController.text.trim();
+
+    return pw.Column(
+      crossAxisAlignment: pw.CrossAxisAlignment.start,
+      children: [
+        pw.Row(
+          mainAxisAlignment: pw.MainAxisAlignment.spaceBetween,
+          children: [
+            pw.Text(
+              'Name: $name',
+              style: style.copyWith(fontWeight: pw.FontWeight.bold),
+            ),
+            pw.Text('Date: $dateStr', style: style),
+          ],
+        ),
+        pw.SizedBox(height: 4),
+        pw.Row(
+          mainAxisAlignment: pw.MainAxisAlignment.spaceBetween,
+          children: [
+            pw.Text(
+              'Mobile: +88$mobile',
+              style: style.copyWith(fontWeight: pw.FontWeight.bold),
+            ),
+            pw.Text('Age: $age', style: style),
+            pw.Text('Gender: $gender', style: style),
+          ],
+        ),
+      ],
+    );
+  }
+
+  pw.Widget _pdfLeftSection(pw.TextStyle style) {
+    final sections = <pw.Widget>[];
+
+    void addSection(String title, String? value) {
+      if (value != null && value.trim().isNotEmpty) {
+        sections.add(_pdfSectionTitle(title, style));
+        sections.add(_pdfContentBox(value, style));
+      }
+    }
+
+    addSection('C/C:', _complainController.text.trim());
+    addSection('O/E:', _examinationController.text.trim());
+    addSection('Advice:', _adviceController.text.trim());
+    addSection('Inv:', _testsController.text.trim());
+
+    return pw.Expanded(
+      flex: 2,
+      child: pw.Column(
+        crossAxisAlignment: pw.CrossAxisAlignment.start,
+        children: sections,
+      ),
+    );
+  }
+
+  pw.Widget _pdfRxSection(pw.TextStyle style) {
+    String mealTimingToDisplay(String? mealTiming) {
+      final raw = (mealTiming ?? '').trim();
+      if (raw.isEmpty) return '';
+      if (raw == 'before') return '‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá';
+      if (raw == 'after') return '‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶™‡¶∞‡ßá';
+      return raw;
+    }
+
+    return pw.Expanded(
+      flex: 5,
+      child: pw.Padding(
+        padding: const pw.EdgeInsets.only(left: 10),
+        child: pw.Column(
+          crossAxisAlignment: pw.CrossAxisAlignment.start,
+          children: [
+            pw.Text(
+              'Rx:',
+              style: style.copyWith(
+                fontSize: 18,
+                fontWeight: pw.FontWeight.bold,
+              ),
+            ),
+            pw.SizedBox(height: 10),
+            ..._medicineRows.asMap().entries.map((entry) {
+              final m = entry.value;
+              final medName = m.nameController.text.trim();
+              final dosageRaw = m.times.entries
+                  .where((e) => e.value)
+                  .map((e) => e.key)
+                  .join(', ');
+              final dosage = dosageRaw.isNotEmpty
+                  ? dosageRaw
+                  : '${m.timesPerDay} times daily';
+
+              final timePart = m.mealTimeController.text.trim();
+              final timing = mealTimingToDisplay(m.mealTiming);
+              final meal = [
+                if (timePart.isNotEmpty) timePart,
+                if (timing.isNotEmpty) timing,
+              ].join(' ');
+
+              final durationVal = m.durationController.text.trim();
+              final durationDays = durationVal.isEmpty
+                  ? ''
+                  : durationVal; // keep same as patient format => show as Days
+
+              pw.Widget t(String value) {
+                if (value.trim().isEmpty) return pw.SizedBox();
+                if (_hasBangla(value)) return BanglaText(value, fontSize: 11);
+                return pw.Text(value, style: style.copyWith(fontSize: 11));
+              }
+
+              return pw.Padding(
+                padding: const pw.EdgeInsets.only(bottom: 8),
+                child: pw.Row(
+                  children: [
+                    pw.Expanded(child: t(medName)),
+                    pw.Expanded(child: t(dosage)),
+                    pw.Expanded(child: t(meal)),
+                    pw.Expanded(
+                      child: () {
+                        if (durationDays.isEmpty) return pw.SizedBox();
+                        final display = '$durationDays Days';
+                        return t(display);
+                      }(),
+                    ),
+                  ],
+                ),
+              );
+            }),
+          ],
+        ),
+      ),
+    );
+  }
+
+  Future<Uint8List> _buildPrescriptionPdfBytesLikePatient() async {
+    await _ensurePdfAssetsReady();
+
+    Uint8List? signatureBytes;
+    final sig = _doctorSignatureUrl;
+    if (sig != null && sig.startsWith('http')) {
+      try {
+        signatureBytes = (await networkImage(sig)) as Uint8List?;
+      } catch (_) {
+        signatureBytes = null;
+      }
+    }
+
+    final pdf = pw.Document();
+    final baseTextStyle = pw.TextStyle(
+      fontSize: 12,
+      font: _pdfEnglishFont ?? pw.Font.helvetica(),
+    );
+
+    final nextVisit = _nextVisitController.text.trim();
+
+    pdf.addPage(
+      pw.Page(
+        pageFormat: PdfPageFormat.a4,
+        build: (pw.Context context) {
+          return pw.Column(
+            crossAxisAlignment: pw.CrossAxisAlignment.start,
+            children: [
+              _pdfHeader(baseTextStyle),
+              pw.Divider(thickness: 1, color: PdfColors.grey400),
+              _pdfPatientInfo(baseTextStyle),
+              pw.Divider(thickness: 1, color: PdfColors.grey400),
+              pw.Row(
+                crossAxisAlignment: pw.CrossAxisAlignment.start,
+                children: [
+                  _pdfLeftSection(baseTextStyle),
+                  pw.VerticalDivider(thickness: 1, color: PdfColors.black),
+                  _pdfRxSection(baseTextStyle),
+                ],
+              ),
+              pw.Spacer(),
+              pw.Padding(
+                padding: const pw.EdgeInsets.only(top: 20),
+                child: pw.Row(
+                  mainAxisAlignment: pw.MainAxisAlignment.spaceBetween,
+                  crossAxisAlignment: pw.CrossAxisAlignment.end,
+                  children: [
+                    if (nextVisit.isNotEmpty)
+                      pw.Container(
+                        padding: const pw.EdgeInsets.symmetric(
+                          horizontal: 8,
+                          vertical: 6,
+                        ),
+                        decoration: pw.BoxDecoration(
+                          color: PdfColors.lightBlue100,
+                          borderRadius: pw.BorderRadius.circular(4),
+                        ),
+                        child: _hasBangla(nextVisit)
+                            ? BanglaText(
+                                '‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶∏‡¶æ‡¶ï‡ßç‡¶∑‡¶æ‡ßé: $nextVisit',
+                                fontSize: 11,
+                                color: PdfColors.blue900,
+                              )
+                            : pw.Text(
+                                'Next Visit: $nextVisit',
+                                style: baseTextStyle.copyWith(
+                                  fontSize: 11,
+                                  fontWeight: pw.FontWeight.bold,
+                                  color: PdfColors.blue900,
+                                ),
+                              ),
+                      ),
+                    pw.Column(
+                      crossAxisAlignment: pw.CrossAxisAlignment.center,
+                      children: [
+                        if (signatureBytes != null)
+                          pw.Image(
+                            pw.MemoryImage(signatureBytes),
+                            width: 120,
+                            height: 50,
+                          ),
+                        pw.SizedBox(height: 4),
+                        pw.Container(
+                          width: 120,
+                          height: 1,
+                          color: PdfColors.grey700,
+                        ),
+                        pw.SizedBox(height: 4),
+                        pw.Text(
+                          'Doctor Name: ${_doctorName ?? ''}',
+                          style: baseTextStyle.copyWith(
+                            fontWeight: pw.FontWeight.bold,
+                          ),
+                        ),
+                      ],
+                    ),
+                  ],
+                ),
+              ),
+            ],
+          );
+        },
+      ),
+    );
+
+    return pdf.save();
+  }
+
+  Future<int> _submitPrescriptionToServer() async {
+    if (!_validateForm()) return 0;
+
+    // 1. Process Next Visit Text
+    final rawNext = _nextVisitController.text.trim();
+    String? formattedNextVisit = rawNext.isEmpty ? null : rawNext;
+
+    // 2. Create Prescription Object
+    final prescription = Prescription(
+      // Backend takes doctor id from authenticated session
+      doctorId: 0,
+      name: _nameController.text.trim(),
+      age: int.tryParse(_ageController.text.trim()),
+      mobileNumber: '+88${_rollController.text.trim()}',
+      gender: _selectedGender,
+      prescriptionDate: DateTime.now(),
+      cc: _complainController.text.trim(),
+      oe: _examinationController.text.trim(),
+      advice: _adviceController.text.trim(),
+      test: _testsController.text.trim(),
+      nextVisit: formattedNextVisit,
+      isOutside: _isOutside,
+    );
+
+    // 3. Process Medicine Items
+    final items = <PrescribedItem>[];
+    for (var m in _medicineRows) {
+      if (m.nameController.text.trim().isEmpty) continue;
+
+      // Combine time and timing (e.g., "30 min before")
+      String? mealTiming;
+      if (m.mealTiming != null) {
+        final timeVal = m.mealTimeController.text.trim();
+        mealTiming = timeVal.isEmpty
+            ? m.mealTiming
+            : '$timeVal ${m.mealTiming}';
+      }
+
+      // Calculate duration in days (DB expects INTEGER)
+      int? durationInDays = int.tryParse(m.durationController.text.trim());
+      if (durationInDays != null && m.durationUnit == '‡¶Æ‡¶æ‡¶∏') {
+        durationInDays = durationInDays * 30;
+      }
+
+      // Format Dosage
+      String dosage = m.times.entries
+          .where((e) => e.value)
+          .map((e) => e.key)
+          .join(', ');
+      if (dosage.isEmpty) dosage = '${m.timesPerDay} times daily';
+
+      items.add(
+        PrescribedItem(
+          prescriptionId: 0,
+          medicineName: m.nameController.text.trim(),
+          dosageTimes: dosage,
+          mealTiming: mealTiming,
+          duration: durationInDays,
+        ),
+      );
+    }
+
+    // 4. Send to Backend
+    return client.doctor.createPrescription(
+      prescription,
+      items,
+      _rollController.text.trim(),
+    );
+  }
+
+  Future<void> _handlePrint() async {
+    try {
+      // 1) Save first
+      final resultId = await _submitPrescriptionToServer();
+      if (resultId <= 0) return;
+
+      // ignore: use_build_context_synchronously
+      ScaffoldMessenger.of(
+        context,
+      ).showSnackBar(const SnackBar(content: Text('Saved. Opening print...')));
+
+      // 2) Build PDF (patient_prescriptions.dart format)
+      final bytes = await _buildPrescriptionPdfBytesLikePatient();
+      await Printing.layoutPdf(
+        onLayout: (_) async => bytes,
+        name: 'Prescription_$resultId.pdf',
+      );
+
+      // 3) Clear after print
+      _clearForm();
+    } catch (e) {
+      if (!mounted) return;
+      ScaffoldMessenger.of(
+        context,
+      ).showSnackBar(SnackBar(content: Text('Print failed: $e')));
+    }
+  }
+
   void _markUnsaved() {
     if (_isSaved) {
       setState(() {
@@ -220,13 +751,6 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
     }
   }
 
-  void _markSaved() {
-    if (!_isSaved) {
-      setState(() {
-        _isSaved = true;
-      });
-    }
-  }
 
   /// Validate the form. Returns true if valid, otherwise sets error messages and returns false.
   bool _validateForm() {
@@ -311,89 +835,26 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
   }
 
   void _savePrescription() async {
-    if (!_validateForm()) {
-      ScaffoldMessenger.of(context).showSnackBar(
-        const SnackBar(content: Text('Please fill in all required fields')),
-      );
-      return;
-    }
-
     try {
-      final prefs = await SharedPreferences.getInstance();
-      final doctorId = int.tryParse(prefs.getString('user_id') ?? '');
-
-      if (doctorId == null) {
-        // ignore: use_build_context_synchronously
-        ScaffoldMessenger.of(context).showSnackBar(const SnackBar(content: Text('Doctor ID not found')));
-        return;
-      }
-
-      // 1. Process Next Visit Text
-      final rawNext = _nextVisitController.text.trim();
-      String? formattedNextVisit = rawNext.isEmpty ? null : rawNext;
-
-      // 2. Create Prescription Object
-      final prescription = Prescription(
-        doctorId: doctorId,
-        name: _nameController.text.trim(),
-        age: int.tryParse(_ageController.text.trim()),
-        mobileNumber: "+88${_rollController.text.trim()}",
-        gender: _selectedGender,
-        prescriptionDate: DateTime.now(),
-        cc: _complainController.text.trim(),
-        oe: _examinationController.text.trim(),
-        advice: _adviceController.text.trim(),
-        test: _testsController.text.trim(),
-        nextVisit: formattedNextVisit,
-        isOutside: _isOutside,
-      );
-
-      // 3. Process Medicine Items
-      final items = <PrescribedItem>[];
-      for (var m in _medicineRows) {
-        if (m.nameController.text.trim().isEmpty) continue;
-
-        // Combine time and timing (e.g., "30 min before")
-        String? mealTiming;
-        if (m.mealTiming != null) {
-          final timeVal = m.mealTimeController.text.trim();
-          mealTiming = timeVal.isEmpty ? m.mealTiming : "$timeVal ${m.mealTiming}";
-        }
-
-        // Calculate duration in days (DB expects INTEGER)
-        int? durationInDays = int.tryParse(m.durationController.text.trim());
-        if (durationInDays != null && m.durationUnit == '‡¶Æ‡¶æ‡¶∏') {
-          durationInDays = durationInDays * 30; // Convert months to days for DB int
-        }
-
-        // Format Dosage
-        String dosage = m.times.entries.where((e) => e.value).map((e) => e.key).join(', ');
-        if (dosage.isEmpty) dosage = '${m.timesPerDay} times daily';
-
-        items.add(PrescribedItem(
-          prescriptionId: 0, // Placeholder
-          medicineName: m.nameController.text.trim(),
-          dosageTimes: dosage, // Ensure this matches your generated model field name
-          mealTiming: mealTiming,
-          duration: durationInDays,
-        ));
-      }
-
-      // 4. Send to Backend
-      final resultId = await client.doctor.createPrescription(
-        prescription,
-        items,
-        _rollController.text.trim(), // Backend handles the +88 normalization
-      );
+      final resultId = await _submitPrescriptionToServer();
 
       if (resultId > 0) {
         // ignore: use_build_context_synchronously
-        ScaffoldMessenger.of(context).showSnackBar(const SnackBar(content: Text('Prescription saved successfully!')));
-        _markSaved();
+        ScaffoldMessenger.of(context).showSnackBar(
+          const SnackBar(content: Text('Prescription saved successfully!')),
+        );
+        _clearForm();
+      } else {
+        // ignore: use_build_context_synchronously
+        ScaffoldMessenger.of(context).showSnackBar(
+          const SnackBar(content: Text('Please fill in all required fields')),
+        );
       }
     } catch (e) {
       // ignore: use_build_context_synchronously
-      ScaffoldMessenger.of(context).showSnackBar(SnackBar(content: Text('Error: $e')));
+      ScaffoldMessenger.of(
+        context,
+      ).showSnackBar(SnackBar(content: Text('Error: $e')));
     }
   }
 
@@ -514,10 +975,10 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
                   items: List.generate(6, (i) => i + 3)
                       .map(
                         (n) => DropdownMenuItem(
-                      value: n,
-                      child: Text(n.toString()),
-                    ),
-                  )
+                          value: n,
+                          child: Text(n.toString()),
+                        ),
+                      )
                       .toList(),
                   onChanged: (v) => setState(() {
                     medicine.timesPerDay = v ?? 3;
@@ -569,7 +1030,10 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
                     hintText: 'time',
                     filled: true,
                     fillColor: Colors.grey.shade50,
-                    contentPadding: const EdgeInsets.symmetric(horizontal: 8, vertical: 8),
+                    contentPadding: const EdgeInsets.symmetric(
+                      horizontal: 8,
+                      vertical: 8,
+                    ),
                     enabledBorder: OutlineInputBorder(
                       borderRadius: BorderRadius.circular(8),
                       borderSide: BorderSide(color: Colors.grey.shade300),
@@ -704,14 +1168,9 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
         elevation: 1,
         actions: [
           IconButton(
-            onPressed: _addMedicineRow,
-            icon: Icon(Icons.add, color: _accent),
-            tooltip: 'Add medicine',
-          ),
-          IconButton(
-            onPressed: _clearForm,
-            icon: Icon(Icons.clear_all, color: Colors.red.shade400),
-            tooltip: 'Clear form',
+            onPressed: _handlePrint,
+            icon: const Icon(Icons.print),
+            tooltip: 'Print',
           ),
         ],
       ),
@@ -734,7 +1193,7 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
                     width: screenWidth * 0.098,
                     fit: BoxFit.contain,
                     errorBuilder: (context, error, stackTrace) =>
-                    const Icon(Icons.local_hospital, size: 40),
+                        const Icon(Icons.local_hospital, size: 40),
                   ),
                   const SizedBox(width: 8),
 
@@ -813,7 +1272,7 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
                         child: TextField(
                           controller: TextEditingController(
                             text:
-                            "${selectedDate.day}/${selectedDate.month}/${selectedDate.year}",
+                                "${selectedDate.day}/${selectedDate.month}/${selectedDate.year}",
                           ),
                           enabled: false, // make the date non-editable
                           decoration: const InputDecoration(
@@ -899,81 +1358,49 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
                           spacing: 12,
                           runSpacing: 6,
                           children: [
-                            GestureDetector(
-                              onTap: () {
-                                setState(() {
-                                  if (_selectedGender == 'Male') {
-                                    _selectedGender = null;
-                                    _genderController.text = '';
-                                  } else {
-                                    _selectedGender = 'Male';
-                                    _genderController.text = 'Male';
-                                  }
-                                });
-                              },
-                              child: Row(
-                                mainAxisSize: MainAxisSize.min,
-                                children: [
-                                  SizedBox(
-                                    width: 18,
-                                    height: 18,
-                                    child: Checkbox(
-                                      value: _selectedGender == 'Male',
-                                      onChanged: (v) {
-                                        setState(() {
-                                          if (v == true) {
-                                            _selectedGender = 'Male';
-                                            _genderController.text = 'Male';
-                                          } else {
-                                            _selectedGender = null;
-                                            _genderController.text = '';
-                                          }
-                                        });
-                                      },
-                                    ),
+                            Row(
+                              mainAxisSize: MainAxisSize.min,
+                              children: [
+                                SizedBox(
+                                  width: 18,
+                                  height: 18,
+                                  child: Radio<String>(
+                                    value: 'Male',
+                                    groupValue: _selectedGender,
+                                    onChanged: (v) {
+                                      setState(() {
+                                        _selectedGender = v;
+                                        _genderController.text = v ?? '';
+                                        _markUnsaved();
+                                      });
+                                    },
                                   ),
-                                  const SizedBox(width: 6),
-                                  const Text('M'),
-                                ],
-                              ),
+                                ),
+                                const SizedBox(width: 6),
+                                const Text('M'),
+                              ],
                             ),
-                            GestureDetector(
-                              onTap: () {
-                                setState(() {
-                                  if (_selectedGender == 'Female') {
-                                    _selectedGender = null;
-                                    _genderController.text = '';
-                                  } else {
-                                    _selectedGender = 'Female';
-                                    _genderController.text = 'Female';
-                                  }
-                                });
-                              },
-                              child: Row(
-                                mainAxisSize: MainAxisSize.min,
-                                children: [
-                                  SizedBox(
-                                    width: 18,
-                                    height: 18,
-                                    child: Checkbox(
-                                      value: _selectedGender == 'Female',
-                                      onChanged: (v) {
-                                        setState(() {
-                                          if (v == true) {
-                                            _selectedGender = 'Female';
-                                            _genderController.text = 'Female';
-                                          } else {
-                                            _selectedGender = null;
-                                            _genderController.text = '';
-                                          }
-                                        });
-                                      },
-                                    ),
+                            Row(
+                              mainAxisSize: MainAxisSize.min,
+                              children: [
+                                SizedBox(
+                                  width: 18,
+                                  height: 18,
+                                  child: Radio<String>(
+                                    value: 'Female',
+                                    groupValue: _selectedGender,
+                                    onChanged: (v) {
+                                      setState(() {
+                                        _selectedGender = v;
+                                        _genderController.text = v ?? '';
+                                        _markUnsaved();
+                                      });
+                                    },
                                   ),
-                                  const SizedBox(width: 6),
-                                  const Text('F'),
-                                ],
-                              ),
+                                ),
+                                const SizedBox(width: 6),
+                                const Text('F'),
+                              ],
                             ),
                           ],
                         ),
@@ -1095,7 +1522,7 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
                   ),
                   const SizedBox(height: 8),
                   Align(
-                    alignment: Alignment.centerRight,
+                    alignment: Alignment.centerLeft,
                     child: ElevatedButton.icon(
                       onPressed: _addMedicineRow,
                       icon: const Icon(Icons.add_circle_outline),
@@ -1170,24 +1597,24 @@ class _PrescriptionPageState extends State<PrescriptionPage> {
                       height: 60,
                       child: _loadingDoctorInfo
                           ? const Center(
-                        child: SizedBox(
-                          width: 18,
-                          height: 18,
-                          child: CircularProgressIndicator(
-                            strokeWidth: 2,
-                          ),
-                        ),
-                      )
+                              child: SizedBox(
+                                width: 18,
+                                height: 18,
+                                child: CircularProgressIndicator(
+                                  strokeWidth: 2,
+                                ),
+                              ),
+                            )
                           : (_doctorSignatureUrl != null &&
-                          _doctorSignatureUrl!.startsWith('http'))
+                                _doctorSignatureUrl!.startsWith('http'))
                           ? Image.network(
-                        _doctorSignatureUrl!,
-                        fit: BoxFit.contain,
-                        // ignore: unnecessary_underscores
-                        errorBuilder: (_, __, ___) => const Center(
-                          child: Text('Invalid signature'),
-                        ),
-                      )
+                              _doctorSignatureUrl!,
+                              fit: BoxFit.contain,
+                              // ignore: unnecessary_underscores
+                              errorBuilder: (_, __, ___) => const Center(
+                                child: Text('Invalid signature'),
+                              ),
+                            )
                           : const Center(child: Text('No signature uploaded')),
                     ),
                     const SizedBox(height: 6),
diff --git a/lib/src/doctor/test_reports_view.dart b/lib/src/doctor/test_reports_view.dart
index 9115ebe..591328d 100644
--- a/lib/src/doctor/test_reports_view.dart
+++ b/lib/src/doctor/test_reports_view.dart
@@ -1,13 +1,14 @@
-import 'dart:io';
 import 'package:flutter/foundation.dart'; // kIsWeb
 import 'package:flutter/material.dart';
 // Clipboard
 import 'package:backend_client/backend_client.dart'; // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶á‡¶Æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
 import 'package:flutter_pdfview/flutter_pdfview.dart';
-import 'package:path_provider/path_provider.dart';
 import 'package:http/http.dart' as http;
 import 'package:url_launcher/url_launcher.dart';
 
+import '../download_pdf_image_from_link.dart';
+import '../platform_temp_file.dart';
+
 class TestReportsView extends StatefulWidget {
   final int doctorId;
   const TestReportsView({super.key, required this.doctorId});
@@ -71,9 +72,10 @@ class _TestReportsViewState extends State<TestReportsView> {
         throw Exception('Failed to load PDF');
       }
 
-      final dir = await getTemporaryDirectory();
-      final file = File('${dir.path}/report.pdf');
-      await file.writeAsBytes(response.bodyBytes);
+      final filePath = await writeTempFile(
+        response.bodyBytes,
+        fileName: 'report.pdf',
+      );
 
       if (!mounted) return;
 
@@ -81,7 +83,7 @@ class _TestReportsViewState extends State<TestReportsView> {
         MaterialPageRoute(
           builder: (_) => Scaffold(
             appBar: AppBar(title: const Text('Report PDF')),
-            body: PDFView(filePath: file.path),
+            body: PDFView(filePath: filePath),
           ),
         ),
       );
@@ -100,7 +102,8 @@ class _TestReportsViewState extends State<TestReportsView> {
     });
 
     try {
-      final list = await client.doctor.getReportsForDoctor(widget.doctorId);
+      // Backend resolves doctorId from authenticated session
+      final list = await client.doctor.getReportsForDoctor(0);
       if (!mounted) return;
       setState(() {
         _reports = list;
@@ -221,30 +224,6 @@ class _TestReportsViewState extends State<TestReportsView> {
       return items;
     }
 
-    String buildCloudinaryDownloadUrl(String url) {
-      if (url.isEmpty) return url;
-
-      // image urls
-      if (url.contains('/image/upload/')) {
-        return url.replaceFirst(
-          '/image/upload/',
-          '/image/upload/fl_attachment/',
-        );
-      }
-
-      // raw urls (pdf usually)
-      if (url.contains('/raw/upload/')) {
-        return url.replaceFirst('/raw/upload/', '/raw/upload/fl_attachment/');
-      }
-
-      // fallback: general /upload/
-      if (url.contains('/upload/')) {
-        return url.replaceFirst('/upload/', '/upload/fl_attachment/');
-      }
-
-      return url;
-    }
-
     Future<void> prefillFromExisting(StateSetter setSheetState) async {
       try {
         debugPrint('Prefill prescriptionId=${report.prescriptionId}');
@@ -532,10 +511,28 @@ class _TestReportsViewState extends State<TestReportsView> {
                       alignment: Alignment.centerRight,
                       child: TextButton.icon(
                         onPressed: () async {
-                          final dl = buildCloudinaryDownloadUrl(previewUrl!);
-                          await launchUrl(
-                            Uri.parse(dl),
-                            mode: LaunchMode.externalApplication,
+                          final raw = previewUrl!;
+                          final suggestedName =
+                              Uri.tryParse(
+                                    raw,
+                                  )?.pathSegments.last.trim().isNotEmpty ==
+                                  true
+                              ? Uri.parse(raw).pathSegments.last
+                              : 'report_${DateTime.now().millisecondsSinceEpoch}';
+
+                          await downloadPdfImageFromLink(
+                            url: raw,
+                            fileName: suggestedName,
+                            context: context,
+                          );
+
+                          if (!mounted) return;
+                          ScaffoldMessenger.of(context).showSnackBar(
+                            const SnackBar(
+                              content: Text(
+                                'Saved to Downloads (or browser downloads).',
+                              ),
+                            ),
                           );
                         },
                         icon: const Icon(Icons.download),
@@ -1015,15 +1012,9 @@ class _TestReportsViewState extends State<TestReportsView> {
         ),
         backgroundColor: Colors.white,
         foregroundColor: Colors.blue,
-        centerTitle: true,
+        automaticallyImplyLeading: false,
         elevation: 0,
         actions: [
-          IconButton(
-            icon: const Icon(Icons.notifications),
-            onPressed: () async {
-              await Navigator.pushNamed(context, '/notifications');
-            },
-          ),
           IconButton(
             tooltip: 'Refresh',
             onPressed: _fetchReports,
diff --git a/lib/src/download_pdf_image_from_link.dart b/lib/src/download_pdf_image_from_link.dart
new file mode 100644
index 0000000..725f349
--- /dev/null
+++ b/lib/src/download_pdf_image_from_link.dart
@@ -0,0 +1,145 @@
+import 'dart:typed_data';
+
+import 'package:dio/dio.dart';
+import 'package:flutter/foundation.dart' show kIsWeb;
+import 'package:flutter/widgets.dart';
+import 'package:media_store_plus/media_store_plus.dart';
+import 'package:path/path.dart' as p;
+import 'package:path_provider/path_provider.dart';
+import 'package:universal_html/html.dart' as html;
+import 'package:universal_io/io.dart' as uio;
+
+/// Converts a Cloudinary URL into an attachment download URL.
+///
+/// Supports `/raw/upload/` and `/image/upload/` URLs.
+String buildCloudinaryAttachmentUrl(String url) {
+  if (url.isEmpty) return url;
+
+  if (url.contains('/raw/upload/fl_attachment/') ||
+      url.contains('/image/upload/fl_attachment/') ||
+      url.contains('/upload/fl_attachment/')) {
+    return url;
+  }
+
+  if (url.contains('/raw/upload/')) {
+    return url.replaceFirst('/raw/upload/', '/raw/upload/fl_attachment/');
+  }
+
+  if (url.contains('/image/upload/')) {
+    return url.replaceFirst('/image/upload/', '/image/upload/fl_attachment/');
+  }
+
+  if (url.contains('/upload/')) {
+    return url.replaceFirst('/upload/', '/upload/fl_attachment/');
+  }
+
+  return url;
+}
+
+String _inferFileNameFromUrl(String url) {
+  try {
+    final uri = Uri.parse(url);
+    if (uri.pathSegments.isNotEmpty) {
+      final last = uri.pathSegments.last.trim();
+      if (last.isNotEmpty && last.contains('.')) return last;
+    }
+  } catch (_) {
+    // ignore
+  }
+  return 'download_${DateTime.now().millisecondsSinceEpoch}';
+}
+
+String _sanitizeFileName(String name) {
+  final trimmed = name.trim();
+  if (trimmed.isEmpty) return _inferFileNameFromUrl(name);
+  final replaced = trimmed.replaceAll(RegExp(r'[\\/:*?"<>|]'), '_');
+  return replaced.isEmpty
+      ? 'download_${DateTime.now().millisecondsSinceEpoch}'
+      : replaced;
+}
+
+/// Downloads a Cloudinary-hosted PDF/image from a link.
+///
+/// Behavior:
+/// - Web: triggers browser download (via `<a download>`), returns the download URL.
+/// - Android: saves into device Downloads folder (using MediaStore), returns saved content URI string.
+/// - iOS/desktop: saves into app Documents folder, returns local file path.
+Future<Object?> downloadPdfImageFromLink({
+  required String url,
+  String? fileName,
+  BuildContext? context,
+}) async {
+  final dl = buildCloudinaryAttachmentUrl(url);
+  final safeName = _sanitizeFileName(
+    (fileName == null || fileName.trim().isEmpty)
+        ? _inferFileNameFromUrl(dl)
+        : fileName,
+  );
+
+  // Web: always use browser download, even on Android browsers.
+  if (kIsWeb) {
+    final a = html.AnchorElement(href: dl)
+      ..style.display = 'none'
+      ..target = '_blank'
+      ..setAttribute('download', safeName);
+
+    html.document.body?.append(a);
+    a.click();
+    a.remove();
+    return dl;
+  }
+
+  // Non-web: download to temp file first.
+  final tmpDir = await getTemporaryDirectory();
+  final tmpPath = p.join(tmpDir.path, safeName);
+
+  final dio = Dio(
+    BaseOptions(
+      followRedirects: true,
+      validateStatus: (code) => code != null && code >= 200 && code < 400,
+      receiveTimeout: const Duration(minutes: 2),
+      connectTimeout: const Duration(seconds: 30),
+    ),
+  );
+
+  await dio.download(dl, tmpPath);
+
+  // Android: write to public Downloads using MediaStore.
+  if (uio.Platform.isAndroid) {
+    await MediaStore.ensureInitialized();
+    MediaStore.appFolder = 'Dishari';
+
+    final info = await MediaStore().saveFile(
+      tempFilePath: tmpPath,
+      dirType: DirType.download,
+      dirName: DirName.download,
+    );
+
+    return info?.uri;
+  }
+
+  // iOS/desktop: best-effort save to app Documents (user can share/export).
+  final docs = await getApplicationDocumentsDirectory();
+  final outPath = p.join(docs.path, safeName);
+  await uio.File(tmpPath).copy(outPath);
+  return outPath;
+}
+
+/// Writes bytes into a temporary file and returns its file path.
+///
+/// Web is unsupported.
+Future<String> writeTempFileBytes(
+  Uint8List bytes, {
+  required String fileName,
+}) async {
+  if (kIsWeb) {
+    throw UnsupportedError('Temporary file writing is not supported on Web');
+  }
+
+  final dir = await getTemporaryDirectory();
+  final safe = fileName.trim().isEmpty ? 'temp.bin' : fileName.trim();
+  final path = p.join(dir.path, safe);
+  final file = uio.File(path);
+  await file.writeAsBytes(bytes, flush: true);
+  return file.path;
+}
diff --git a/lib/src/lab_test/lab_staff_profile.dart b/lib/src/lab_test/lab_staff_profile.dart
index 3e058d9..7afef4a 100644
--- a/lib/src/lab_test/lab_staff_profile.dart
+++ b/lib/src/lab_test/lab_staff_profile.dart
@@ -1,9 +1,8 @@
-import 'dart:convert';
-
 import 'package:flutter/material.dart';
 import 'package:image_picker/image_picker.dart';
 import 'package:backend_client/backend_client.dart';
 import 'package:shared_preferences/shared_preferences.dart';
+import '../cloudinary_upload.dart';
 import 'package:flutter/services.dart';
 
 class LabTesterProfile extends StatefulWidget {
@@ -184,9 +183,13 @@ class _LabTesterProfileState extends State<LabTesterProfile>
       // ‡ßß. ‡¶Ø‡¶¶‡¶ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶á‡¶Æ‡ßá‡¶ú ‡¶™‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶•‡¶æ‡¶ï‡ßá (‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶¨‡¶æ ‡¶ì‡ßü‡ßá‡¶¨ ‡¶Ø‡ßá‡¶ü‡¶æ‡¶á ‡¶π‡ßã‡¶ï)
       if (_imageBytes != null && _pickedFile != null) {
         try {
-          final String base64String = base64Encode(_imageBytes!);
-          final uploadedUrl = await client.lab.uploadProfileImage(base64String);
-
+          final uploadedUrl = await CloudinaryUpload.uploadBytes(
+            bytes: _imageBytes!,
+            folder: 'staff_profiles',
+            fileName:
+                'staff_profile_${DateTime.now().millisecondsSinceEpoch}.jpg',
+            isPdf: false,
+          );
           if (uploadedUrl == null || uploadedUrl.isEmpty) {
             throw Exception('Cloudinary upload failed');
           }
@@ -282,6 +285,37 @@ class _LabTesterProfileState extends State<LabTesterProfile>
     }
   }
 
+  Future<void> _performLogout() async {
+    try {
+      // 1. Server logout
+      try {
+        await client.auth.logout();
+      } catch (_) {}
+
+      // 2. Destroy session locally
+      await client.authenticationKeyManager?.remove();
+
+      // 3. Clear shared preferences
+      final prefs = await SharedPreferences.getInstance();
+      await prefs.clear();
+
+      if (!mounted) return;
+
+      // 4. Navigate to login/root
+      Navigator.pushNamedAndRemoveUntil(context, '/', (route) => false);
+
+      // 5. Feedback
+      ScaffoldMessenger.of(context).showSnackBar(
+        const SnackBar(
+          content: Text("Logged out successfully"),
+          duration: Duration(seconds: 2),
+        ),
+      );
+    } catch (e) {
+      debugPrint('Logout error: $e');
+    }
+  }
+
   void _logout() {
     showDialog(
       context: context,
@@ -294,40 +328,9 @@ class _LabTesterProfileState extends State<LabTesterProfile>
             child: const Text("Cancel"),
           ),
           TextButton(
-            onPressed: () {
-              Navigator.pop(context); // close dialog
-              () async {
-                try {
-                  try {
-                    await client.auth.logout();
-                  } catch (_) {}
-                  // ignore: deprecated_member_use
-                  await client.authenticationKeyManager?.remove();
-                } catch (_) {}
-
-                try {
-                  final prefs = await SharedPreferences.getInstance();
-                  await prefs.remove('user_id');
-                  await prefs.remove('user_email');
-                  await prefs.remove('user_role');
-                } catch (_) {}
-
-                if (!mounted) return;
-                // ignore: use_build_context_synchronously
-                ScaffoldMessenger.of(context).showSnackBar(
-                  const SnackBar(
-                    content: Text("Logged out successfully"),
-                    duration: Duration(seconds: 2),
-                  ),
-                );
-
-                Navigator.pushNamedAndRemoveUntil(
-                  // ignore: use_build_context_synchronously
-                  context,
-                  '/',
-                  (route) => false,
-                );
-              }();
+            onPressed: () async {
+              Navigator.pop(context); // close dialog first
+              await _performLogout();
             },
             child: const Text("Logout", style: TextStyle(color: Colors.red)),
           ),
diff --git a/lib/src/lab_test/lab_test_create_and_upload.dart b/lib/src/lab_test/lab_test_create_and_upload.dart
index 68acb33..8ce909c 100644
--- a/lib/src/lab_test/lab_test_create_and_upload.dart
+++ b/lib/src/lab_test/lab_test_create_and_upload.dart
@@ -4,10 +4,10 @@ import 'dart:typed_data';
 import 'package:flutter/material.dart';
 import 'package:backend_client/backend_client.dart';
 import 'package:file_picker/file_picker.dart';
-import 'dart:convert';
-
 import 'package:url_launcher/url_launcher.dart';
 
+import '../cloudinary_upload.dart';
+
 class LabTestCreateAndUpload extends StatefulWidget {
   const LabTestCreateAndUpload({super.key});
 
@@ -18,15 +18,13 @@ class LabTestCreateAndUpload extends StatefulWidget {
 class _LabTestCreateAndUploadState extends State<LabTestCreateAndUpload> {
   List<TestResult> results = [];
   bool loading = true;
-// key: resultId, value: picked file data
+  // key: resultId, value: picked file data
   Map<int, Uint8List> pickedFiles = {};
   Map<int, String> pickedFileNames = {};
 
-
   // List of available lab tests fetched from backend
   List<LabTests> availableTests = [];
 
-
   Future<void> fetchTests() async {
     try {
       availableTests = await client.lab.getAllLabTests();
@@ -74,15 +72,23 @@ class _LabTestCreateAndUploadState extends State<LabTestCreateAndUpload> {
     return Card(
       margin: const EdgeInsets.symmetric(vertical: 6),
       child: ListTile(
-        title: Text("${r.patientName} (${r.mobileNumber}) ‚Äî ${_displayType(r.patientType)}"),
+        title: Text(
+          "${r.patientName} (${r.mobileNumber}) ‚Äî ${_displayType(r.patientType)}",
+        ),
         subtitle: Column(
           crossAxisAlignment: CrossAxisAlignment.start,
           children: [
-            Text(r.submittedAt != null
-                ? "Result submitted"
-                : (r.isUploaded ? "File uploaded" : "No file selected")),
-            Text("Created: ${fmt(r.createdAt)}", style: const TextStyle(fontSize: 10)),
-            if (fileName != null) Text("Selected: $fileName", style: const TextStyle(fontSize: 12)),
+            Text(
+              r.submittedAt != null
+                  ? "Result submitted"
+                  : (r.isUploaded ? "File uploaded" : "No file selected"),
+            ),
+            Text(
+              "Created: ${fmt(r.createdAt)}",
+              style: const TextStyle(fontSize: 10),
+            ),
+            if (fileName != null)
+              Text("Selected: $fileName", style: const TextStyle(fontSize: 12)),
           ],
         ),
         trailing: Row(
@@ -102,7 +108,7 @@ class _LabTestCreateAndUploadState extends State<LabTestCreateAndUpload> {
                 onPressed: () async {
                   final res = await FilePicker.platform.pickFiles(
                     type: FileType.custom,
-                    allowedExtensions: ['jpg','jpeg','png','pdf'],
+                    allowedExtensions: ['jpg', 'jpeg', 'png', 'pdf'],
                     withData: true,
                   );
                   if (res != null && res.files.isNotEmpty) {
@@ -123,28 +129,47 @@ class _LabTestCreateAndUploadState extends State<LabTestCreateAndUpload> {
                   if (r.resultId == null) return;
                   setState(() => loading = true);
 
-                  final base64Data = base64Encode(bytes);
+                  final pickedName =
+                      fileName ??
+                      'lab_report_${DateTime.now().millisecondsSinceEpoch}';
+                  final isPdf = pickedName.toLowerCase().endsWith('.pdf');
+                  final uploadedUrl = await CloudinaryUpload.uploadBytes(
+                    bytes: bytes,
+                    folder: 'lab_reports',
+                    fileName: pickedName,
+                    isPdf: isPdf,
+                  );
 
-                  final ok = await client.lab.submitResultWithFile(
+                  if (uploadedUrl == null) {
+                    if (!mounted) return;
+                    ScaffoldMessenger.of(context).showSnackBar(
+                      const SnackBar(content: Text('Cloudinary upload failed')),
+                    );
+                    setState(() => loading = false);
+                    return;
+                  }
+
+                  final ok = await client.lab.submitResultWithUrl(
                     resultId: r.resultId!,
-                    base64Data: base64Data,
-                    fileName: fileName!,
+                    attachmentUrl: uploadedUrl,
                   );
 
                   if (ok) {
                     setState(() {
                       r.submittedAt = DateTime.now();
                       r.isUploaded = true;
-                      r.attachmentPath = fileName; // or Cloudinary URL if returned
+                      r.attachmentPath = uploadedUrl;
                       pickedFiles.remove(r.resultId);
                       pickedFileNames.remove(r.resultId);
                     });
                     // ignore: use_build_context_synchronously
-                    ScaffoldMessenger.of(context)
-                        .showSnackBar(const SnackBar(content: Text('Result submitted')));
+                    ScaffoldMessenger.of(context).showSnackBar(
+                      const SnackBar(content: Text('Result submitted')),
+                    );
                   } else {
-                    ScaffoldMessenger.of(context)
-                        .showSnackBar(const SnackBar(content: Text('Submit failed')));
+                    ScaffoldMessenger.of(context).showSnackBar(
+                      const SnackBar(content: Text('Submit failed')),
+                    );
                   }
 
                   setState(() => loading = false);
@@ -173,52 +198,55 @@ class _LabTestCreateAndUploadState extends State<LabTestCreateAndUpload> {
         insetPadding: const EdgeInsets.all(16), // screen margin
         child: isPdf
             ? Padding(
-          padding: const EdgeInsets.all(20),
-          child: Column(
-            mainAxisSize: MainAxisSize.min, // üî¥ no extra height
-            children: [
-              const Icon(Icons.picture_as_pdf,
-                  size: 80, color: Colors.red),
-              const SizedBox(height: 12),
-              const Text(
-                "PDF Document",
-                style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
-              ),
-              const SizedBox(height: 16),
-              ElevatedButton.icon(
-                icon: const Icon(Icons.open_in_new),
-                label: const Text("Open PDF"),
-                onPressed: () => _launchURL(url),
-              ),
-            ],
-          ),
-        )
+                padding: const EdgeInsets.all(20),
+                child: Column(
+                  mainAxisSize: MainAxisSize.min, // üî¥ no extra height
+                  children: [
+                    const Icon(
+                      Icons.picture_as_pdf,
+                      size: 80,
+                      color: Colors.red,
+                    ),
+                    const SizedBox(height: 12),
+                    const Text(
+                      "PDF Document",
+                      style: TextStyle(
+                        fontSize: 18,
+                        fontWeight: FontWeight.bold,
+                      ),
+                    ),
+                    const SizedBox(height: 16),
+                    ElevatedButton.icon(
+                      icon: const Icon(Icons.open_in_new),
+                      label: const Text("Open PDF"),
+                      onPressed: () => _launchURL(url),
+                    ),
+                  ],
+                ),
+              )
             : InteractiveViewer(
-          minScale: 0.5,
-          maxScale: 4,
-          child: Image.network(
-            url,
-            fit: BoxFit.contain, // üî• exact image size
-            loadingBuilder: (context, child, progress) {
-              if (progress == null) return child;
-              return const Padding(
-                padding: EdgeInsets.all(40),
-                child: CircularProgressIndicator(),
-              );
-            },
-            errorBuilder: (_, __, ___) =>
-            const Padding(
-              padding: EdgeInsets.all(40),
-              child: Text("Failed to load image"),
-            ),
-          ),
-        ),
-
+                minScale: 0.5,
+                maxScale: 4,
+                child: Image.network(
+                  url,
+                  fit: BoxFit.contain, // üî• exact image size
+                  loadingBuilder: (context, child, progress) {
+                    if (progress == null) return child;
+                    return const Padding(
+                      padding: EdgeInsets.all(40),
+                      child: CircularProgressIndicator(),
+                    );
+                  },
+                  errorBuilder: (_, __, ___) => const Padding(
+                    padding: EdgeInsets.all(40),
+                    child: Text("Failed to load image"),
+                  ),
+                ),
+              ),
       ),
     );
   }
 
-
   Future<void> _launchURL(String urlPath) async {
     final Uri url = Uri.parse(urlPath);
     try {
diff --git a/lib/src/lab_test/lab_tester_home.dart b/lib/src/lab_test/lab_tester_home.dart
index 19d5ca3..c7ad91e 100644
--- a/lib/src/lab_test/lab_tester_home.dart
+++ b/lib/src/lab_test/lab_tester_home.dart
@@ -649,14 +649,9 @@ class _LabTesterHomeState extends State<LabTesterHome> {
             backgroundColor: Colors.white,
             foregroundColor: Colors.blueAccent,
             centerTitle: true,
+            automaticallyImplyLeading: false,
             elevation: 0,
             actions: [
-              IconButton(
-                icon: const Icon(Icons.notifications),
-                onPressed: () async {
-                  await Navigator.pushNamed(context, '/notifications');
-                },
-              ),
 
               if (_selectedIndex == 2) ...[
                 IconButton(
diff --git a/lib/src/patient/patient_dashboard.dart b/lib/src/patient/patient_dashboard.dart
index a89608b..e6440af 100644
--- a/lib/src/patient/patient_dashboard.dart
+++ b/lib/src/patient/patient_dashboard.dart
@@ -143,7 +143,7 @@ class _PatientDashboardState extends State<PatientDashboard> {
         return;
       }
 
-      final profile = await client.patient.getPatientProfile(0);
+      final profile = await client.patient.getPatientProfile();
 
       if (profile != null) {
         setState(() {
@@ -573,7 +573,7 @@ class _PatientDashboardState extends State<PatientDashboard> {
                       ),
                       buildActionCard(
                         icon: Icons.local_hospital,
-                        label: "See Ambulance & Staff",
+                        label: "Ambulance & Staff",
                         onTap: () {
                           Navigator.pushNamed(context, '/patient/ambulance');
                         },
diff --git a/lib/src/patient/patient_profile.dart b/lib/src/patient/patient_profile.dart
index 5745211..64cd87f 100644
--- a/lib/src/patient/patient_profile.dart
+++ b/lib/src/patient/patient_profile.dart
@@ -1,13 +1,11 @@
-import 'dart:convert';
-import 'dart:typed_data';
 import 'package:flutter/material.dart';
-import 'package:http/http.dart' as http;
-import 'package:http_parser/http_parser.dart';
 import 'package:image_picker/image_picker.dart';
 import 'package:backend_client/backend_client.dart';
 import 'package:shared_preferences/shared_preferences.dart';
 import 'package:flutter/services.dart';
 
+import '../cloudinary_upload.dart';
+
 class PatientProfilePage extends StatefulWidget {
   final String? userId;
   const PatientProfilePage({super.key, this.userId});
@@ -64,7 +62,7 @@ class _PatientProfilePageState extends State<PatientProfilePage> {
   Future<void> _loadProfileData() async {
     setState(() => _isLoading = true);
     try {
-      final profile = await client.patient.getPatientProfile(0);
+      final profile = await client.patient.getPatientProfile();
       if (profile != null) {
         _initialName = profile.name;
         _initialPhone = profile.phone;
@@ -113,30 +111,13 @@ class _PatientProfilePageState extends State<PatientProfilePage> {
     _checkChanges();
   }
 
-  Future<String?> _uploadProfileToCloudinary(Uint8List bytes) async {
-    const cloudName = "dfrzizwb1";
-    const uploadPreset = "sabbir";
-    final request =
-        http.MultipartRequest(
-            'POST',
-            Uri.parse('https://api.cloudinary.com/v1_1/$cloudName/upload'),
-          )
-          ..fields['upload_preset'] = uploadPreset
-          ..files.add(
-            http.MultipartFile.fromBytes(
-              'file',
-              bytes,
-              filename: 'profile.jpg',
-              contentType: MediaType('image', 'jpeg'),
-            ),
-          );
-
-    final response = await request.send();
-    if (response.statusCode == 200) {
-      final body = await response.stream.bytesToString();
-      return jsonDecode(body)['secure_url'];
-    }
-    return null;
+  Future<String?> _uploadProfileToCloudinary(Uint8List bytes) {
+    return CloudinaryUpload.uploadBytes(
+      bytes: bytes,
+      folder: 'patient_profiles',
+      fileName: 'patient_profile_${DateTime.now().millisecondsSinceEpoch}.jpg',
+      isPdf: false,
+    );
   }
 
   Future<void> _saveProfile() async {
diff --git a/lib/src/patient/patient_report.dart b/lib/src/patient/patient_report.dart
index b003591..7341d7a 100644
--- a/lib/src/patient/patient_report.dart
+++ b/lib/src/patient/patient_report.dart
@@ -4,6 +4,8 @@ import 'package:url_launcher/url_launcher.dart';
 import 'package:backend_client/backend_client.dart';
 import 'package:shared_preferences/shared_preferences.dart';
 
+import '../download_pdf_image_from_link.dart';
+
 class PatientReports extends StatefulWidget {
   const PatientReports({super.key});
 
@@ -52,27 +54,54 @@ class _PatientReportsState extends State<PatientReports> {
     }
   }
 
-  Future<void> downloadReportFromLink(String url) async {
-    String downloadUrl = url;
+  String _inferExtensionFromUrl(String url) {
+    try {
+      final last = Uri.parse(url).pathSegments.isEmpty
+          ? ''
+          : Uri.parse(url).pathSegments.last;
+      final i = last.lastIndexOf('.');
+      if (i > 0 && i < last.length - 1) {
+        return last.substring(i + 1).toLowerCase();
+      }
+    } catch (_) {
+      // ignore
+    }
+    return 'pdf';
+  }
+
+  Future<void> downloadReportFromLink({
+    required String url,
+    required String suggestedBaseName,
+  }) async {
+    try {
+      final ext = _inferExtensionFromUrl(url);
+      final safeBase = suggestedBaseName.trim().isEmpty
+          ? 'report_${DateTime.now().millisecondsSinceEpoch}'
+          : suggestedBaseName.trim();
+      final fileName = safeBase.contains('.') ? safeBase : '$safeBase.$ext';
 
-    if (url.contains('/raw/upload/')) {
-      //  PDF / raw ‚Üí attachment allowed
-      downloadUrl = url.replaceFirst(
-        '/raw/upload/',
-        '/raw/upload/fl_attachment/',
+      await downloadPdfImageFromLink(
+        url: url,
+        fileName: fileName,
+        context: context,
       );
-    } else if (url.contains('/image/upload/')) {
-      //  image ‚Üí attachment
-      downloadUrl = url.replaceFirst(
-        '/image/upload/',
-        '/image/upload/fl_attachment/',
+
+      if (!mounted) return;
+      ScaffoldMessenger.of(context).showSnackBar(
+        const SnackBar(
+          content: Text('Saved to Downloads (or browser downloads).'),
+        ),
       );
-    }
+    } catch (e) {
+      // Fallback: open in external app/browser.
+      final dl = buildCloudinaryAttachmentUrl(url);
+      await launchUrl(Uri.parse(dl), mode: LaunchMode.externalApplication);
 
-    await launchUrl(
-      Uri.parse(downloadUrl),
-      mode: LaunchMode.externalApplication,
-    );
+      if (!mounted) return;
+      ScaffoldMessenger.of(
+        context,
+      ).showSnackBar(SnackBar(content: Text('Download fallback used: $e')));
+    }
   }
 
   @override
@@ -157,7 +186,9 @@ class _PatientReportsState extends State<PatientReports> {
                                 onPressed:
                                     report.isUploaded && report.fileUrl != null
                                     ? () => downloadReportFromLink(
-                                        report.fileUrl!,
+                                        url: report.fileUrl!,
+                                        suggestedBaseName:
+                                            'Report_${report.testName}_${DateFormat('yyyyMMdd').format(report.date)}',
                                       )
                                     : null,
                                 icon: const Icon(Icons.download, size: 18),
diff --git a/lib/src/patient/patient_report_upload.dart b/lib/src/patient/patient_report_upload.dart
index c681550..1bd0282 100644
--- a/lib/src/patient/patient_report_upload.dart
+++ b/lib/src/patient/patient_report_upload.dart
@@ -1,10 +1,11 @@
 import 'dart:io';
-import 'dart:convert';
 import 'dart:typed_data';
 import 'package:flutter/material.dart';
 import 'package:file_picker/file_picker.dart';
 import 'package:backend_client/backend_client.dart';
 
+import '../cloudinary_upload.dart';
+
 enum UploadStatus { idle, success, failure }
 
 class PatientReportUpload extends StatefulWidget {
@@ -149,8 +150,6 @@ class _PatientReportUploadState extends State<PatientReportUpload> {
         setState(() => _isUploading = false);
         return;
       }
-      String base64Data = base64Encode(bytes);
-
       // Determine file name: prefer picked filename (works on web), else file path
       String fileName;
       if (_selectedFileName != null && _selectedFileName!.isNotEmpty) {
@@ -165,6 +164,26 @@ class _PatientReportUploadState extends State<PatientReportUpload> {
       }
       fileName = fileName.replaceAll(RegExp(r'[^a-zA-Z0-9.]'), '_');
 
+      final isPdf = fileName.toLowerCase().endsWith('.pdf');
+      final uploadedUrl = await CloudinaryUpload.uploadBytes(
+        bytes: bytes,
+        folder: 'patient_external_reports',
+        fileName: fileName,
+        isPdf: isPdf,
+      );
+      if (uploadedUrl == null) {
+        setState(() => _uploadStatus = UploadStatus.failure);
+        // ignore: use_build_context_synchronously
+        ScaffoldMessenger.of(context).showSnackBar(
+          const SnackBar(
+            content: Text('Upload failed: Cloudinary upload error'),
+            backgroundColor: Colors.red,
+          ),
+        );
+        setState(() => _isUploading = false);
+        return;
+      }
+
       // ‡¶è‡¶™‡¶ø‡¶Ü‡¶á ‡¶ï‡¶≤
       dynamic success;
       try {
@@ -173,8 +192,7 @@ class _PatientReportUploadState extends State<PatientReportUpload> {
           patientId: 0,
           prescriptionId: replacePrescriptionId ?? _selectedPrescriptionId!,
           reportType: _selectedType ?? "Other",
-          base64Data: base64Data,
-          fileName: fileName,
+          fileUrl: uploadedUrl,
         );
       } catch (e) {
         // network/backend error
diff --git a/lib/src/patient/patient_signup.dart b/lib/src/patient/patient_signup.dart
index 4e9fcf6..1366abb 100644
--- a/lib/src/patient/patient_signup.dart
+++ b/lib/src/patient/patient_signup.dart
@@ -196,8 +196,8 @@ class _PatientSignupPageState extends State<PatientSignupPage> {
         phoneToSend,
       );
 
-      if (challenge == null || challenge.success != true) {
-        final msg = challenge?.error?.toString() ?? 'Unknown error';
+      if (challenge.success != true) {
+        final msg = challenge.error?.toString() ?? 'Unknown error';
         if (mounted) {
           ScaffoldMessenger.of(context).showSnackBar(
             SnackBar(content: Text('Failed to start phone OTP: $msg')),
@@ -268,10 +268,10 @@ class _PatientSignupPageState extends State<PatientSignupPage> {
           dob,
         );
 
-        if (res == null || res.success != true) {
+        if (res.success != true) {
           _showErrorDialog(
             'Signup Failed',
-            res?.error?.toString() ?? 'Unknown error',
+            res.error?.toString() ?? 'Unknown error',
           );
           return;
         }
diff --git a/lib/src/platform_temp_file.dart b/lib/src/platform_temp_file.dart
new file mode 100644
index 0000000..97edaf7
--- /dev/null
+++ b/lib/src/platform_temp_file.dart
@@ -0,0 +1,25 @@
+import 'dart:typed_data';
+
+import 'package:flutter/foundation.dart' show kIsWeb;
+import 'package:path/path.dart' as p;
+import 'package:path_provider/path_provider.dart';
+import 'package:universal_io/io.dart' as uio;
+
+/// Writes bytes into a temporary file and returns its file path.
+///
+/// On web this is unsupported; callers should open URL directly.
+Future<String> writeTempFile(
+  Uint8List bytes, {
+  required String fileName,
+}) async {
+  if (kIsWeb) {
+    throw UnsupportedError('Temporary file writing is not supported on Web');
+  }
+
+  final dir = await getTemporaryDirectory();
+  final safe = fileName.trim().isEmpty ? 'temp.bin' : fileName.trim();
+  final path = p.join(dir.path, safe);
+  final file = uio.File(path);
+  await file.writeAsBytes(bytes, flush: true);
+  return file.path;
+}
diff --git a/lib/src/universal_login.dart b/lib/src/universal_login.dart
index cd8eb11..68d254c 100644
--- a/lib/src/universal_login.dart
+++ b/lib/src/universal_login.dart
@@ -622,8 +622,9 @@ class _HomePageState extends State<HomePage> {
                 const SizedBox(height: 20),
 
                 // Forget Password Row
-                Row(
-                  mainAxisSize: MainAxisSize.min,
+                Wrap(
+                  alignment: WrapAlignment.center,
+                  crossAxisAlignment: WrapCrossAlignment.center,
                   children: [
                     const Text('Forget Password?'),
                     TextButton(
@@ -636,8 +637,9 @@ class _HomePageState extends State<HomePage> {
                 ),
 
                 // SignUp Row
-                Row(
-                  mainAxisSize: MainAxisSize.min,
+                Wrap(
+                  alignment: WrapAlignment.center,
+                  crossAxisAlignment: WrapCrossAlignment.center,
                   children: [
                     const Text('Not yet registered?'),
                     TextButton(
diff --git a/packages/backend_client/lib/src/protocol/client.dart b/packages/backend_client/lib/src/protocol/client.dart
index b4e9007..1c9544a 100644
--- a/packages/backend_client/lib/src/protocol/client.dart
+++ b/packages/backend_client/lib/src/protocol/client.dart
@@ -29,28 +29,29 @@ import 'package:backend_client/src/protocol/dispenser_profile_r.dart' as _i15;
 import 'package:backend_client/src/protocol/prescription.dart' as _i16;
 import 'package:backend_client/src/protocol/prescription_detail.dart' as _i17;
 import 'package:backend_client/src/protocol/dispense_request.dart' as _i18;
-import 'package:backend_client/src/protocol/doctor_profile.dart' as _i19;
-import 'package:backend_client/src/protocol/PrescribedItem.dart' as _i20;
+import 'package:backend_client/src/protocol/doctor_home_data.dart' as _i19;
+import 'package:backend_client/src/protocol/doctor_profile.dart' as _i20;
+import 'package:backend_client/src/protocol/PrescribedItem.dart' as _i21;
 import 'package:backend_client/src/protocol/patient_external_report.dart'
-    as _i21;
-import 'package:backend_client/src/protocol/patient_record_list.dart' as _i22;
+    as _i22;
+import 'package:backend_client/src/protocol/patient_record_list.dart' as _i23;
 import 'package:backend_client/src/protocol/patient_record_prescription_details.dart'
-    as _i23;
-import 'package:backend_client/src/protocol/patient_return_tests.dart' as _i24;
+    as _i24;
+import 'package:backend_client/src/protocol/patient_return_tests.dart' as _i25;
 import 'package:backend_client/src/protocol/test_result_create_upload.dart'
-    as _i25;
-import 'package:backend_client/src/protocol/staff_profile.dart' as _i26;
-import 'package:backend_client/src/protocol/lab_today.dart' as _i27;
-import 'package:backend_client/src/protocol/lab_ten_history.dart' as _i28;
-import 'package:backend_client/src/protocol/notification.dart' as _i29;
-import 'package:backend_client/src/protocol/patient_reponse.dart' as _i30;
-import 'package:backend_client/src/protocol/patient_report.dart' as _i31;
-import 'package:backend_client/src/protocol/prescription_list.dart' as _i32;
-import 'package:backend_client/src/protocol/StaffInfo.dart' as _i33;
-import 'package:backend_client/src/protocol/ambulance_contact.dart' as _i34;
-import 'package:backend_client/src/protocol/onduty_staff.dart' as _i35;
-import 'package:backend_client/src/protocol/greeting.dart' as _i36;
-import 'protocol.dart' as _i37;
+    as _i26;
+import 'package:backend_client/src/protocol/staff_profile.dart' as _i27;
+import 'package:backend_client/src/protocol/lab_today.dart' as _i28;
+import 'package:backend_client/src/protocol/lab_ten_history.dart' as _i29;
+import 'package:backend_client/src/protocol/notification.dart' as _i30;
+import 'package:backend_client/src/protocol/patient_reponse.dart' as _i31;
+import 'package:backend_client/src/protocol/patient_report.dart' as _i32;
+import 'package:backend_client/src/protocol/prescription_list.dart' as _i33;
+import 'package:backend_client/src/protocol/StaffInfo.dart' as _i34;
+import 'package:backend_client/src/protocol/ambulance_contact.dart' as _i35;
+import 'package:backend_client/src/protocol/onduty_staff.dart' as _i36;
+import 'package:backend_client/src/protocol/greeting.dart' as _i37;
+import 'protocol.dart' as _i38;
 
 /// AdminEndpoints: server-side methods used by the admin UI to manage users,
 /// inventory, rosters, audit logs and notifications.
@@ -669,7 +670,7 @@ class EndpointDispenser extends _i1.EndpointRef {
     required String phone,
     required String qualification,
     required String designation,
-    String? base64Image,
+    String? profilePictureUrl,
   }) => caller.callServerEndpoint<String>(
     'dispenser',
     'updateDispenserProfile',
@@ -679,7 +680,7 @@ class EndpointDispenser extends _i1.EndpointRef {
       'phone': phone,
       'qualification': qualification,
       'designation': designation,
-      'base64Image': base64Image,
+      'profilePictureUrl': profilePictureUrl,
     },
   );
 
@@ -766,24 +767,31 @@ class EndpointDoctor extends _i1.EndpointRef {
   @override
   String get name => 'doctor';
 
-  /// ‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶§‡¶æ‡¶∞ ‡¶∏‡¶á ‡¶è‡¶¨‡¶Ç ‡¶®‡¶æ‡¶Æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶æ
-  _i2.Future<Map<String, String?>> getDoctorInfo(int doctorId) =>
+  /// Doctor home dashboard data
+  _i2.Future<_i19.DoctorHomeData> getDoctorHomeData() =>
+      caller.callServerEndpoint<_i19.DoctorHomeData>(
+        'doctor',
+        'getDoctorHomeData',
+        {},
+      );
+
+  _i2.Future<Map<String, String?>> getDoctorInfo() =>
       caller.callServerEndpoint<Map<String, String?>>(
         'doctor',
         'getDoctorInfo',
-        {'doctorId': doctorId},
+        {},
       );
 
   /// ‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶§‡¶æ‡¶∞ ‡¶∏‡¶á ‡¶è‡¶¨‡¶Ç ‡¶®‡¶æ‡¶Æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶æ
-  _i2.Future<_i19.DoctorProfile?> getDoctorProfile(int doctorId) =>
-      caller.callServerEndpoint<_i19.DoctorProfile?>(
+  _i2.Future<_i20.DoctorProfile?> getDoctorProfile(int doctorId) =>
+      caller.callServerEndpoint<_i20.DoctorProfile?>(
         'doctor',
         'getDoctorProfile',
         {'doctorId': doctorId},
       );
 
   /// Update doctor's user and staff profile. If staff_profiles row doesn't exist, insert it.
-  /// Allows profilePictureUrl and signatureUrl to be either a remote URL or a base64/data URL.
+  /// Expects profilePictureUrl and signatureUrl to be remote URLs (uploads happen on frontend).
   _i2.Future<bool> updateDoctorProfile(
     int doctorId,
     String name,
@@ -818,7 +826,7 @@ class EndpointDoctor extends _i1.EndpointRef {
   /// ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡ßç‡¶∞‡ßá‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ
   _i2.Future<int> createPrescription(
     _i16.Prescription prescription,
-    List<_i20.PrescribedItem> items,
+    List<_i21.PrescribedItem> items,
     String patientPhone,
   ) => caller.callServerEndpoint<int>(
     'doctor',
@@ -830,9 +838,9 @@ class EndpointDoctor extends _i1.EndpointRef {
     },
   );
 
-  _i2.Future<List<_i21.PatientExternalReport>> getReportsForDoctor(
+  _i2.Future<List<_i22.PatientExternalReport>> getReportsForDoctor(
     int doctorId,
-  ) => caller.callServerEndpoint<List<_i21.PatientExternalReport>>(
+  ) => caller.callServerEndpoint<List<_i22.PatientExternalReport>>(
     'doctor',
     'getReportsForDoctor',
     {'doctorId': doctorId},
@@ -841,7 +849,7 @@ class EndpointDoctor extends _i1.EndpointRef {
   _i2.Future<int> revisePrescription({
     required int originalPrescriptionId,
     required String newAdvice,
-    required List<_i20.PrescribedItem> newItems,
+    required List<_i21.PrescribedItem> newItems,
   }) => caller.callServerEndpoint<int>(
     'doctor',
     'revisePrescription',
@@ -853,12 +861,12 @@ class EndpointDoctor extends _i1.EndpointRef {
   );
 
   /// List page: all prescriptions (latest first) + optional search by name/phone
-  _i2.Future<List<_i22.PatientPrescriptionListItem>>
+  _i2.Future<List<_i23.PatientPrescriptionListItem>>
   getPatientPrescriptionList({
     String? query,
     required int limit,
     required int offset,
-  }) => caller.callServerEndpoint<List<_i22.PatientPrescriptionListItem>>(
+  }) => caller.callServerEndpoint<List<_i23.PatientPrescriptionListItem>>(
     'doctor',
     'getPatientPrescriptionList',
     {
@@ -869,9 +877,9 @@ class EndpointDoctor extends _i1.EndpointRef {
   );
 
   /// Bottom sheet: single prescription full details + medicines
-  _i2.Future<_i23.PatientPrescriptionDetails?> getPrescriptionDetails({
+  _i2.Future<_i24.PatientPrescriptionDetails?> getPrescriptionDetails({
     required int prescriptionId,
-  }) => caller.callServerEndpoint<_i23.PatientPrescriptionDetails?>(
+  }) => caller.callServerEndpoint<_i24.PatientPrescriptionDetails?>(
     'doctor',
     'getPrescriptionDetails',
     {'prescriptionId': prescriptionId},
@@ -886,8 +894,8 @@ class EndpointLab extends _i1.EndpointRef {
   String get name => 'lab';
 
   /// Fetch all lab tests using your raw SQL schema
-  _i2.Future<List<_i24.LabTests>> getAllLabTests() =>
-      caller.callServerEndpoint<List<_i24.LabTests>>(
+  _i2.Future<List<_i25.LabTests>> getAllLabTests() =>
+      caller.callServerEndpoint<List<_i25.LabTests>>(
         'lab',
         'getAllLabTests',
         {},
@@ -910,7 +918,7 @@ class EndpointLab extends _i1.EndpointRef {
   );
 
   /// Create a new lab test record
-  _i2.Future<bool> createLabTest(_i24.LabTests test) =>
+  _i2.Future<bool> createLabTest(_i25.LabTests test) =>
       caller.callServerEndpoint<bool>(
         'lab',
         'createLabTest',
@@ -918,28 +926,13 @@ class EndpointLab extends _i1.EndpointRef {
       );
 
   /// Update an existing lab test (Admin style using QueryParameters)
-  _i2.Future<bool> updateLabTest(_i24.LabTests test) =>
+  _i2.Future<bool> updateLabTest(_i25.LabTests test) =>
       caller.callServerEndpoint<bool>(
         'lab',
         'updateLabTest',
         {'test': test},
       );
 
-  /// Uploads lab result (PDF or Image) to Cloudinary and updates DB
-  _i2.Future<String?> attachResultFileCloudinary({
-    required int resultId,
-    required String base64Data,
-    required String fileName,
-  }) => caller.callServerEndpoint<String?>(
-    'lab',
-    'attachResultFileCloudinary',
-    {
-      'resultId': resultId,
-      'base64Data': base64Data,
-      'fileName': fileName,
-    },
-  );
-
   /// Dummy SMS sender: logs message to server logs (no real SMS)
   _i2.Future<bool> sendDummySms({
     required String mobileNumber,
@@ -960,32 +953,30 @@ class EndpointLab extends _i1.EndpointRef {
         {'resultId': resultId},
       );
 
-  /// Submit or resubmit result + dummy SMS notification
-  /// Submit result: upload file to Cloudinary, save URL and timestamp
-  _i2.Future<bool> submitResultWithFile({
+  /// Submit or resubmit result + dummy SMS notification.
+  /// Upload happens on frontend; backend only stores the URL.
+  _i2.Future<bool> submitResultWithUrl({
     required int resultId,
-    required String base64Data,
-    required String fileName,
+    required String attachmentUrl,
   }) => caller.callServerEndpoint<bool>(
     'lab',
-    'submitResultWithFile',
+    'submitResultWithUrl',
     {
       'resultId': resultId,
-      'base64Data': base64Data,
-      'fileName': fileName,
+      'attachmentUrl': attachmentUrl,
     },
   );
 
-  _i2.Future<List<_i25.TestResult>> getAllTestResults() =>
-      caller.callServerEndpoint<List<_i25.TestResult>>(
+  _i2.Future<List<_i26.TestResult>> getAllTestResults() =>
+      caller.callServerEndpoint<List<_i26.TestResult>>(
         'lab',
         'getAllTestResults',
         {},
       );
 
   /// Fetch Lab Staff profile by userId
-  _i2.Future<_i26.StaffProfileDto?> getStaffProfile(int userId) =>
-      caller.callServerEndpoint<_i26.StaffProfileDto?>(
+  _i2.Future<_i27.StaffProfileDto?> getStaffProfile(int userId) =>
+      caller.callServerEndpoint<_i27.StaffProfileDto?>(
         'lab',
         'getStaffProfile',
         {'userId': userId},
@@ -1014,23 +1005,15 @@ class EndpointLab extends _i1.EndpointRef {
     },
   );
 
-  /// ‡¶∏‡ßç‡¶ü‡¶æ‡¶´ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶á‡¶Æ‡ßá‡¶ú ‡¶Ü‡¶™‡¶≤‡ßã‡¶°
-  _i2.Future<String?> uploadProfileImage(String base64Data) =>
-      caller.callServerEndpoint<String?>(
-        'lab',
-        'uploadProfileImage',
-        {'base64Data': base64Data},
-      );
-
-  _i2.Future<_i27.LabToday> getLabHomeTwoDaySummary() =>
-      caller.callServerEndpoint<_i27.LabToday>(
+  _i2.Future<_i28.LabToday> getLabHomeTwoDaySummary() =>
+      caller.callServerEndpoint<_i28.LabToday>(
         'lab',
         'getLabHomeTwoDaySummary',
         {},
       );
 
-  _i2.Future<List<_i28.LabTenHistory>> getLast10TestHistory() =>
-      caller.callServerEndpoint<List<_i28.LabTenHistory>>(
+  _i2.Future<List<_i29.LabTenHistory>> getLast10TestHistory() =>
+      caller.callServerEndpoint<List<_i29.LabTenHistory>>(
         'lab',
         'getLast10TestHistory',
         {},
@@ -1058,10 +1041,10 @@ class EndpointNotification extends _i1.EndpointRef {
     },
   );
 
-  _i2.Future<List<_i29.NotificationInfo>> getMyNotifications({
+  _i2.Future<List<_i30.NotificationInfo>> getMyNotifications({
     required int limit,
     required int userId,
-  }) => caller.callServerEndpoint<List<_i29.NotificationInfo>>(
+  }) => caller.callServerEndpoint<List<_i30.NotificationInfo>>(
     'notification',
     'getMyNotifications',
     {
@@ -1077,10 +1060,10 @@ class EndpointNotification extends _i1.EndpointRef {
         {'userId': userId},
       );
 
-  _i2.Future<_i29.NotificationInfo?> getNotificationById({
+  _i2.Future<_i30.NotificationInfo?> getNotificationById({
     required int notificationId,
     required int userId,
-  }) => caller.callServerEndpoint<_i29.NotificationInfo?>(
+  }) => caller.callServerEndpoint<_i30.NotificationInfo?>(
     'notification',
     'getNotificationById',
     {
@@ -1116,17 +1099,13 @@ class EndpointPassword extends _i1.EndpointRef {
   @override
   String get name => 'password';
 
-  _i2.Future<String> changePasswordByUserIdEmail({
-    required int userId,
-    required String email,
+  _i2.Future<String> changePassword({
     required String currentPassword,
     required String newPassword,
   }) => caller.callServerEndpoint<String>(
     'password',
-    'changePasswordByUserIdEmail',
+    'changePassword',
     {
-      'userId': userId,
-      'email': email,
       'currentPassword': currentPassword,
       'newPassword': newPassword,
     },
@@ -1140,17 +1119,17 @@ class EndpointPatient extends _i1.EndpointRef {
   @override
   String get name => 'patient';
 
-  _i2.Future<_i30.PatientProfile?> getPatientProfile(int userId) =>
-      caller.callServerEndpoint<_i30.PatientProfile?>(
+  _i2.Future<_i31.PatientProfile?> getPatientProfile() =>
+      caller.callServerEndpoint<_i31.PatientProfile?>(
         'patient',
         'getPatientProfile',
-        {'userId': userId},
+        {},
       );
 
   /// List lab tests from the `tests` table. Returns a list of maps with keys:
   /// test_name, description, student_fee, teacher_fee, outside_fee, available
-  _i2.Future<List<_i24.LabTests>> listTests() =>
-      caller.callServerEndpoint<List<_i24.LabTests>>(
+  _i2.Future<List<_i25.LabTests>> listTests() =>
+      caller.callServerEndpoint<List<_i25.LabTests>>(
         'patient',
         'listTests',
         {},
@@ -1186,16 +1165,15 @@ class EndpointPatient extends _i1.EndpointRef {
   );
 
   /// Fetch logged-in patient's lab reports using phone number
-  /// Fetch logged-in patient's lab reports using phone number
-  _i2.Future<List<_i31.PatientReportDto>> getMyLabReports(int userId) =>
-      caller.callServerEndpoint<List<_i31.PatientReportDto>>(
+  _i2.Future<List<_i32.PatientReportDto>> getMyLabReports(int userId) =>
+      caller.callServerEndpoint<List<_i32.PatientReportDto>>(
         'patient',
         'getMyLabReports',
         {'userId': userId},
       );
 
-  _i2.Future<List<_i32.PrescriptionList>> getMyPrescriptionList(int userId) =>
-      caller.callServerEndpoint<List<_i32.PrescriptionList>>(
+  _i2.Future<List<_i33.PrescriptionList>> getMyPrescriptionList(int userId) =>
+      caller.callServerEndpoint<List<_i33.PrescriptionList>>(
         'patient',
         'getMyPrescriptionList',
         {'userId': userId},
@@ -1205,8 +1183,7 @@ class EndpointPatient extends _i1.EndpointRef {
     required int patientId,
     required int prescriptionId,
     required String reportType,
-    required String base64Data,
-    required String fileName,
+    required String fileUrl,
   }) => caller.callServerEndpoint<bool>(
     'patient',
     'finalizeReportUpload',
@@ -1214,31 +1191,30 @@ class EndpointPatient extends _i1.EndpointRef {
       'patientId': patientId,
       'prescriptionId': prescriptionId,
       'reportType': reportType,
-      'base64Data': base64Data,
-      'fileName': fileName,
+      'fileUrl': fileUrl,
     },
   );
 
-  _i2.Future<List<_i21.PatientExternalReport>> getMyExternalReports(
+  _i2.Future<List<_i22.PatientExternalReport>> getMyExternalReports(
     int userId,
-  ) => caller.callServerEndpoint<List<_i21.PatientExternalReport>>(
+  ) => caller.callServerEndpoint<List<_i22.PatientExternalReport>>(
     'patient',
     'getMyExternalReports',
     {'userId': userId},
   );
 
   /// ‡ßß. ‡¶∞‡ßã‡¶ó‡ßÄ‡¶∞ ‡¶∏‡¶¨ ‡¶™‡ßç‡¶∞‡ßá‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶®‡ßá‡¶∞ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶Ü‡¶®‡¶æ
-  _i2.Future<List<_i32.PrescriptionList>> getPrescriptionList(int patientId) =>
-      caller.callServerEndpoint<List<_i32.PrescriptionList>>(
+  _i2.Future<List<_i33.PrescriptionList>> getPrescriptionList(int patientId) =>
+      caller.callServerEndpoint<List<_i33.PrescriptionList>>(
         'patient',
         'getPrescriptionList',
         {'patientId': patientId},
       );
 
   /// ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø Patient ID (User ID) ‡¶¶‡¶ø‡ßü‡ßá ‡¶™‡ßç‡¶∞‡ßá‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶Ü‡¶®‡¶æ
-  _i2.Future<List<_i32.PrescriptionList>> getPrescriptionsByPatientId(
+  _i2.Future<List<_i33.PrescriptionList>> getPrescriptionsByPatientId(
     int patientId,
-  ) => caller.callServerEndpoint<List<_i32.PrescriptionList>>(
+  ) => caller.callServerEndpoint<List<_i33.PrescriptionList>>(
     'patient',
     'getPrescriptionsByPatientId',
     {'patientId': patientId},
@@ -1255,22 +1231,22 @@ class EndpointPatient extends _i1.EndpointRef {
 
   /// Fetch all active medical staff (Admin, Doctor, Dispenser, Labstaff)
   /// Fetch all active medical staff (Admin, Doctor, Dispenser, Labstaff)
-  _i2.Future<List<_i33.StaffInfo>> getMedicalStaff() =>
-      caller.callServerEndpoint<List<_i33.StaffInfo>>(
+  _i2.Future<List<_i34.StaffInfo>> getMedicalStaff() =>
+      caller.callServerEndpoint<List<_i34.StaffInfo>>(
         'patient',
         'getMedicalStaff',
         {},
       );
 
-  _i2.Future<List<_i34.AmbulanceContact>> getAmbulanceContacts() =>
-      caller.callServerEndpoint<List<_i34.AmbulanceContact>>(
+  _i2.Future<List<_i35.AmbulanceContact>> getAmbulanceContacts() =>
+      caller.callServerEndpoint<List<_i35.AmbulanceContact>>(
         'patient',
         'getAmbulanceContacts',
         {},
       );
 
-  _i2.Future<List<_i35.OndutyStaff>> getOndutyStaff() =>
-      caller.callServerEndpoint<List<_i35.OndutyStaff>>(
+  _i2.Future<List<_i36.OndutyStaff>> getOndutyStaff() =>
+      caller.callServerEndpoint<List<_i36.OndutyStaff>>(
         'patient',
         'getOndutyStaff',
         {},
@@ -1287,8 +1263,8 @@ class EndpointGreeting extends _i1.EndpointRef {
   String get name => 'greeting';
 
   /// Returns a personalized greeting message: "Hello {name}".
-  _i2.Future<_i36.Greeting> hello(String name) =>
-      caller.callServerEndpoint<_i36.Greeting>(
+  _i2.Future<_i37.Greeting> hello(String name) =>
+      caller.callServerEndpoint<_i37.Greeting>(
         'greeting',
         'hello',
         {'name': name},
@@ -1315,7 +1291,7 @@ class Client extends _i1.ServerpodClientShared {
     bool? disconnectStreamsOnLostInternetConnection,
   }) : super(
          host,
-         _i37.Protocol(),
+         _i38.Protocol(),
          securityContext: securityContext,
          streamingConnectionTimeout: streamingConnectionTimeout,
          connectionTimeout: connectionTimeout,
diff --git a/packages/backend_client/lib/src/protocol/doctor_home_data.dart b/packages/backend_client/lib/src/protocol/doctor_home_data.dart
new file mode 100644
index 0000000..65ee876
--- /dev/null
+++ b/packages/backend_client/lib/src/protocol/doctor_home_data.dart
@@ -0,0 +1,166 @@
+/* AUTOMATICALLY GENERATED CODE DO NOT MODIFY */
+/*   To generate run: "serverpod generate"    */
+
+// ignore_for_file: implementation_imports
+// ignore_for_file: library_private_types_in_public_api
+// ignore_for_file: non_constant_identifier_names
+// ignore_for_file: public_member_api_docs
+// ignore_for_file: type_literal_in_constant_pattern
+// ignore_for_file: use_super_parameters
+// ignore_for_file: invalid_use_of_internal_member
+
+// ignore_for_file: no_leading_underscores_for_library_prefixes
+import 'package:serverpod_client/serverpod_client.dart' as _i1;
+import 'doctor_home_recent_item.dart' as _i2;
+import 'doctor_home_reviewed_report.dart' as _i3;
+import 'package:backend_client/src/protocol/protocol.dart' as _i4;
+
+abstract class DoctorHomeData implements _i1.SerializableModel {
+  DoctorHomeData._({
+    required this.doctorName,
+    required this.doctorDesignation,
+    this.doctorProfilePictureUrl,
+    required this.today,
+    required this.lastMonthPrescriptions,
+    required this.lastWeekPrescriptions,
+    required this.recent,
+    required this.reviewedReports,
+  });
+
+  factory DoctorHomeData({
+    required String doctorName,
+    required String doctorDesignation,
+    String? doctorProfilePictureUrl,
+    required DateTime today,
+    required int lastMonthPrescriptions,
+    required int lastWeekPrescriptions,
+    required List<_i2.DoctorHomeRecentItem> recent,
+    required List<_i3.DoctorHomeReviewedReport> reviewedReports,
+  }) = _DoctorHomeDataImpl;
+
+  factory DoctorHomeData.fromJson(Map<String, dynamic> jsonSerialization) {
+    return DoctorHomeData(
+      doctorName: jsonSerialization['doctorName'] as String,
+      doctorDesignation: jsonSerialization['doctorDesignation'] as String,
+      doctorProfilePictureUrl:
+          jsonSerialization['doctorProfilePictureUrl'] as String?,
+      today: _i1.DateTimeJsonExtension.fromJson(jsonSerialization['today']),
+      lastMonthPrescriptions:
+          jsonSerialization['lastMonthPrescriptions'] as int,
+      lastWeekPrescriptions: jsonSerialization['lastWeekPrescriptions'] as int,
+      recent: _i4.Protocol().deserialize<List<_i2.DoctorHomeRecentItem>>(
+        jsonSerialization['recent'],
+      ),
+      reviewedReports: _i4.Protocol()
+          .deserialize<List<_i3.DoctorHomeReviewedReport>>(
+            jsonSerialization['reviewedReports'],
+          ),
+    );
+  }
+
+  String doctorName;
+
+  String doctorDesignation;
+
+  String? doctorProfilePictureUrl;
+
+  DateTime today;
+
+  int lastMonthPrescriptions;
+
+  int lastWeekPrescriptions;
+
+  List<_i2.DoctorHomeRecentItem> recent;
+
+  List<_i3.DoctorHomeReviewedReport> reviewedReports;
+
+  /// Returns a shallow copy of this [DoctorHomeData]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  DoctorHomeData copyWith({
+    String? doctorName,
+    String? doctorDesignation,
+    String? doctorProfilePictureUrl,
+    DateTime? today,
+    int? lastMonthPrescriptions,
+    int? lastWeekPrescriptions,
+    List<_i2.DoctorHomeRecentItem>? recent,
+    List<_i3.DoctorHomeReviewedReport>? reviewedReports,
+  });
+  @override
+  Map<String, dynamic> toJson() {
+    return {
+      '__className__': 'DoctorHomeData',
+      'doctorName': doctorName,
+      'doctorDesignation': doctorDesignation,
+      if (doctorProfilePictureUrl != null)
+        'doctorProfilePictureUrl': doctorProfilePictureUrl,
+      'today': today.toJson(),
+      'lastMonthPrescriptions': lastMonthPrescriptions,
+      'lastWeekPrescriptions': lastWeekPrescriptions,
+      'recent': recent.toJson(valueToJson: (v) => v.toJson()),
+      'reviewedReports': reviewedReports.toJson(valueToJson: (v) => v.toJson()),
+    };
+  }
+
+  @override
+  String toString() {
+    return _i1.SerializationManager.encode(this);
+  }
+}
+
+class _Undefined {}
+
+class _DoctorHomeDataImpl extends DoctorHomeData {
+  _DoctorHomeDataImpl({
+    required String doctorName,
+    required String doctorDesignation,
+    String? doctorProfilePictureUrl,
+    required DateTime today,
+    required int lastMonthPrescriptions,
+    required int lastWeekPrescriptions,
+    required List<_i2.DoctorHomeRecentItem> recent,
+    required List<_i3.DoctorHomeReviewedReport> reviewedReports,
+  }) : super._(
+         doctorName: doctorName,
+         doctorDesignation: doctorDesignation,
+         doctorProfilePictureUrl: doctorProfilePictureUrl,
+         today: today,
+         lastMonthPrescriptions: lastMonthPrescriptions,
+         lastWeekPrescriptions: lastWeekPrescriptions,
+         recent: recent,
+         reviewedReports: reviewedReports,
+       );
+
+  /// Returns a shallow copy of this [DoctorHomeData]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  @override
+  DoctorHomeData copyWith({
+    String? doctorName,
+    String? doctorDesignation,
+    Object? doctorProfilePictureUrl = _Undefined,
+    DateTime? today,
+    int? lastMonthPrescriptions,
+    int? lastWeekPrescriptions,
+    List<_i2.DoctorHomeRecentItem>? recent,
+    List<_i3.DoctorHomeReviewedReport>? reviewedReports,
+  }) {
+    return DoctorHomeData(
+      doctorName: doctorName ?? this.doctorName,
+      doctorDesignation: doctorDesignation ?? this.doctorDesignation,
+      doctorProfilePictureUrl: doctorProfilePictureUrl is String?
+          ? doctorProfilePictureUrl
+          : this.doctorProfilePictureUrl,
+      today: today ?? this.today,
+      lastMonthPrescriptions:
+          lastMonthPrescriptions ?? this.lastMonthPrescriptions,
+      lastWeekPrescriptions:
+          lastWeekPrescriptions ?? this.lastWeekPrescriptions,
+      recent: recent ?? this.recent.map((e0) => e0.copyWith()).toList(),
+      reviewedReports:
+          reviewedReports ??
+          this.reviewedReports.map((e0) => e0.copyWith()).toList(),
+    );
+  }
+}
diff --git a/packages/backend_client/lib/src/protocol/doctor_home_recent_item.dart b/packages/backend_client/lib/src/protocol/doctor_home_recent_item.dart
new file mode 100644
index 0000000..de2e8f5
--- /dev/null
+++ b/packages/backend_client/lib/src/protocol/doctor_home_recent_item.dart
@@ -0,0 +1,120 @@
+/* AUTOMATICALLY GENERATED CODE DO NOT MODIFY */
+/*   To generate run: "serverpod generate"    */
+
+// ignore_for_file: implementation_imports
+// ignore_for_file: library_private_types_in_public_api
+// ignore_for_file: non_constant_identifier_names
+// ignore_for_file: public_member_api_docs
+// ignore_for_file: type_literal_in_constant_pattern
+// ignore_for_file: use_super_parameters
+// ignore_for_file: invalid_use_of_internal_member
+
+// ignore_for_file: no_leading_underscores_for_library_prefixes
+import 'package:serverpod_client/serverpod_client.dart' as _i1;
+
+abstract class DoctorHomeRecentItem implements _i1.SerializableModel {
+  DoctorHomeRecentItem._({
+    required this.title,
+    required this.subtitle,
+    required this.timeAgo,
+    required this.type,
+    this.prescriptionId,
+  });
+
+  factory DoctorHomeRecentItem({
+    required String title,
+    required String subtitle,
+    required String timeAgo,
+    required String type,
+    int? prescriptionId,
+  }) = _DoctorHomeRecentItemImpl;
+
+  factory DoctorHomeRecentItem.fromJson(
+    Map<String, dynamic> jsonSerialization,
+  ) {
+    return DoctorHomeRecentItem(
+      title: jsonSerialization['title'] as String,
+      subtitle: jsonSerialization['subtitle'] as String,
+      timeAgo: jsonSerialization['timeAgo'] as String,
+      type: jsonSerialization['type'] as String,
+      prescriptionId: jsonSerialization['prescriptionId'] as int?,
+    );
+  }
+
+  String title;
+
+  String subtitle;
+
+  String timeAgo;
+
+  String type;
+
+  int? prescriptionId;
+
+  /// Returns a shallow copy of this [DoctorHomeRecentItem]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  DoctorHomeRecentItem copyWith({
+    String? title,
+    String? subtitle,
+    String? timeAgo,
+    String? type,
+    int? prescriptionId,
+  });
+  @override
+  Map<String, dynamic> toJson() {
+    return {
+      '__className__': 'DoctorHomeRecentItem',
+      'title': title,
+      'subtitle': subtitle,
+      'timeAgo': timeAgo,
+      'type': type,
+      if (prescriptionId != null) 'prescriptionId': prescriptionId,
+    };
+  }
+
+  @override
+  String toString() {
+    return _i1.SerializationManager.encode(this);
+  }
+}
+
+class _Undefined {}
+
+class _DoctorHomeRecentItemImpl extends DoctorHomeRecentItem {
+  _DoctorHomeRecentItemImpl({
+    required String title,
+    required String subtitle,
+    required String timeAgo,
+    required String type,
+    int? prescriptionId,
+  }) : super._(
+         title: title,
+         subtitle: subtitle,
+         timeAgo: timeAgo,
+         type: type,
+         prescriptionId: prescriptionId,
+       );
+
+  /// Returns a shallow copy of this [DoctorHomeRecentItem]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  @override
+  DoctorHomeRecentItem copyWith({
+    String? title,
+    String? subtitle,
+    String? timeAgo,
+    String? type,
+    Object? prescriptionId = _Undefined,
+  }) {
+    return DoctorHomeRecentItem(
+      title: title ?? this.title,
+      subtitle: subtitle ?? this.subtitle,
+      timeAgo: timeAgo ?? this.timeAgo,
+      type: type ?? this.type,
+      prescriptionId: prescriptionId is int?
+          ? prescriptionId
+          : this.prescriptionId,
+    );
+  }
+}
diff --git a/packages/backend_client/lib/src/protocol/doctor_home_reviewed_report.dart b/packages/backend_client/lib/src/protocol/doctor_home_reviewed_report.dart
new file mode 100644
index 0000000..196be14
--- /dev/null
+++ b/packages/backend_client/lib/src/protocol/doctor_home_reviewed_report.dart
@@ -0,0 +1,120 @@
+/* AUTOMATICALLY GENERATED CODE DO NOT MODIFY */
+/*   To generate run: "serverpod generate"    */
+
+// ignore_for_file: implementation_imports
+// ignore_for_file: library_private_types_in_public_api
+// ignore_for_file: non_constant_identifier_names
+// ignore_for_file: public_member_api_docs
+// ignore_for_file: type_literal_in_constant_pattern
+// ignore_for_file: use_super_parameters
+// ignore_for_file: invalid_use_of_internal_member
+
+// ignore_for_file: no_leading_underscores_for_library_prefixes
+import 'package:serverpod_client/serverpod_client.dart' as _i1;
+
+abstract class DoctorHomeReviewedReport implements _i1.SerializableModel {
+  DoctorHomeReviewedReport._({
+    this.reportId,
+    required this.type,
+    required this.uploadedByName,
+    this.prescriptionId,
+    required this.timeAgo,
+  });
+
+  factory DoctorHomeReviewedReport({
+    int? reportId,
+    required String type,
+    required String uploadedByName,
+    int? prescriptionId,
+    required String timeAgo,
+  }) = _DoctorHomeReviewedReportImpl;
+
+  factory DoctorHomeReviewedReport.fromJson(
+    Map<String, dynamic> jsonSerialization,
+  ) {
+    return DoctorHomeReviewedReport(
+      reportId: jsonSerialization['reportId'] as int?,
+      type: jsonSerialization['type'] as String,
+      uploadedByName: jsonSerialization['uploadedByName'] as String,
+      prescriptionId: jsonSerialization['prescriptionId'] as int?,
+      timeAgo: jsonSerialization['timeAgo'] as String,
+    );
+  }
+
+  int? reportId;
+
+  String type;
+
+  String uploadedByName;
+
+  int? prescriptionId;
+
+  String timeAgo;
+
+  /// Returns a shallow copy of this [DoctorHomeReviewedReport]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  DoctorHomeReviewedReport copyWith({
+    int? reportId,
+    String? type,
+    String? uploadedByName,
+    int? prescriptionId,
+    String? timeAgo,
+  });
+  @override
+  Map<String, dynamic> toJson() {
+    return {
+      '__className__': 'DoctorHomeReviewedReport',
+      if (reportId != null) 'reportId': reportId,
+      'type': type,
+      'uploadedByName': uploadedByName,
+      if (prescriptionId != null) 'prescriptionId': prescriptionId,
+      'timeAgo': timeAgo,
+    };
+  }
+
+  @override
+  String toString() {
+    return _i1.SerializationManager.encode(this);
+  }
+}
+
+class _Undefined {}
+
+class _DoctorHomeReviewedReportImpl extends DoctorHomeReviewedReport {
+  _DoctorHomeReviewedReportImpl({
+    int? reportId,
+    required String type,
+    required String uploadedByName,
+    int? prescriptionId,
+    required String timeAgo,
+  }) : super._(
+         reportId: reportId,
+         type: type,
+         uploadedByName: uploadedByName,
+         prescriptionId: prescriptionId,
+         timeAgo: timeAgo,
+       );
+
+  /// Returns a shallow copy of this [DoctorHomeReviewedReport]
+  /// with some or all fields replaced by the given arguments.
+  @_i1.useResult
+  @override
+  DoctorHomeReviewedReport copyWith({
+    Object? reportId = _Undefined,
+    String? type,
+    String? uploadedByName,
+    Object? prescriptionId = _Undefined,
+    String? timeAgo,
+  }) {
+    return DoctorHomeReviewedReport(
+      reportId: reportId is int? ? reportId : this.reportId,
+      type: type ?? this.type,
+      uploadedByName: uploadedByName ?? this.uploadedByName,
+      prescriptionId: prescriptionId is int?
+          ? prescriptionId
+          : this.prescriptionId,
+      timeAgo: timeAgo ?? this.timeAgo,
+    );
+  }
+}
diff --git a/packages/backend_client/lib/src/protocol/protocol.dart b/packages/backend_client/lib/src/protocol/protocol.dart
index 5866de3..5213bdd 100644
--- a/packages/backend_client/lib/src/protocol/protocol.dart
+++ b/packages/backend_client/lib/src/protocol/protocol.dart
@@ -23,64 +23,67 @@ import 'dispense_item_detail.dart' as _i10;
 import 'dispense_request.dart' as _i11;
 import 'dispensed_item_input.dart' as _i12;
 import 'dispenser_profile_r.dart' as _i13;
-import 'doctor_profile.dart' as _i14;
-import 'external_report_file.dart' as _i15;
-import 'greeting.dart' as _i16;
-import 'inventory_audit_log.dart' as _i17;
-import 'inventory_transaction.dart' as _i18;
-import 'lab_ten_history.dart' as _i19;
-import 'lab_today.dart' as _i20;
-import 'login_response.dart' as _i21;
-import 'medicine_alternative.dart' as _i22;
-import 'medicine_details.dart' as _i23;
-import 'notification.dart' as _i24;
-import 'onduty_staff.dart' as _i25;
-import 'otp_challenge_response.dart' as _i26;
-import 'patient_external_report.dart' as _i27;
-import 'patient_record_list.dart' as _i28;
-import 'patient_record_prescribed_item.dart' as _i29;
-import 'patient_record_prescription_details.dart' as _i30;
-import 'patient_reponse.dart' as _i31;
-import 'patient_report.dart' as _i32;
-import 'patient_return_tests.dart' as _i33;
-import 'prescription.dart' as _i34;
-import 'prescription_detail.dart' as _i35;
-import 'prescription_list.dart' as _i36;
-import 'report_monthly.dart' as _i37;
-import 'report_prescription.dart' as _i38;
-import 'report_stock.dart' as _i39;
-import 'report_top_medicine.dart' as _i40;
-import 'roster_data.dart' as _i41;
-import 'roster_lists.dart' as _i42;
-import 'roster_user_role.dart' as _i43;
-import 'shift_type.dart' as _i44;
-import 'staff_profile.dart' as _i45;
-import 'test_result_create_upload.dart' as _i46;
-import 'user_list_item.dart' as _i47;
-import 'package:backend_client/src/protocol/user_list_item.dart' as _i48;
-import 'package:backend_client/src/protocol/roster_data.dart' as _i49;
-import 'package:backend_client/src/protocol/roster_lists.dart' as _i50;
-import 'package:backend_client/src/protocol/audit_entry.dart' as _i51;
-import 'package:backend_client/src/protocol/InventoryCategory.dart' as _i52;
-import 'package:backend_client/src/protocol/InventoryItemInfo.dart' as _i53;
-import 'package:backend_client/src/protocol/inventory_transaction.dart' as _i54;
-import 'package:backend_client/src/protocol/inventory_audit_log.dart' as _i55;
-import 'package:backend_client/src/protocol/prescription.dart' as _i56;
-import 'package:backend_client/src/protocol/dispense_request.dart' as _i57;
-import 'package:backend_client/src/protocol/PrescribedItem.dart' as _i58;
+import 'doctor_home_data.dart' as _i14;
+import 'doctor_home_recent_item.dart' as _i15;
+import 'doctor_home_reviewed_report.dart' as _i16;
+import 'doctor_profile.dart' as _i17;
+import 'external_report_file.dart' as _i18;
+import 'greeting.dart' as _i19;
+import 'inventory_audit_log.dart' as _i20;
+import 'inventory_transaction.dart' as _i21;
+import 'lab_ten_history.dart' as _i22;
+import 'lab_today.dart' as _i23;
+import 'login_response.dart' as _i24;
+import 'medicine_alternative.dart' as _i25;
+import 'medicine_details.dart' as _i26;
+import 'notification.dart' as _i27;
+import 'onduty_staff.dart' as _i28;
+import 'otp_challenge_response.dart' as _i29;
+import 'patient_external_report.dart' as _i30;
+import 'patient_record_list.dart' as _i31;
+import 'patient_record_prescribed_item.dart' as _i32;
+import 'patient_record_prescription_details.dart' as _i33;
+import 'patient_reponse.dart' as _i34;
+import 'patient_report.dart' as _i35;
+import 'patient_return_tests.dart' as _i36;
+import 'prescription.dart' as _i37;
+import 'prescription_detail.dart' as _i38;
+import 'prescription_list.dart' as _i39;
+import 'report_monthly.dart' as _i40;
+import 'report_prescription.dart' as _i41;
+import 'report_stock.dart' as _i42;
+import 'report_top_medicine.dart' as _i43;
+import 'roster_data.dart' as _i44;
+import 'roster_lists.dart' as _i45;
+import 'roster_user_role.dart' as _i46;
+import 'shift_type.dart' as _i47;
+import 'staff_profile.dart' as _i48;
+import 'test_result_create_upload.dart' as _i49;
+import 'user_list_item.dart' as _i50;
+import 'package:backend_client/src/protocol/user_list_item.dart' as _i51;
+import 'package:backend_client/src/protocol/roster_data.dart' as _i52;
+import 'package:backend_client/src/protocol/roster_lists.dart' as _i53;
+import 'package:backend_client/src/protocol/audit_entry.dart' as _i54;
+import 'package:backend_client/src/protocol/InventoryCategory.dart' as _i55;
+import 'package:backend_client/src/protocol/InventoryItemInfo.dart' as _i56;
+import 'package:backend_client/src/protocol/inventory_transaction.dart' as _i57;
+import 'package:backend_client/src/protocol/inventory_audit_log.dart' as _i58;
+import 'package:backend_client/src/protocol/prescription.dart' as _i59;
+import 'package:backend_client/src/protocol/dispense_request.dart' as _i60;
+import 'package:backend_client/src/protocol/PrescribedItem.dart' as _i61;
 import 'package:backend_client/src/protocol/patient_external_report.dart'
-    as _i59;
-import 'package:backend_client/src/protocol/patient_record_list.dart' as _i60;
-import 'package:backend_client/src/protocol/patient_return_tests.dart' as _i61;
-import 'package:backend_client/src/protocol/test_result_create_upload.dart'
     as _i62;
-import 'package:backend_client/src/protocol/lab_ten_history.dart' as _i63;
-import 'package:backend_client/src/protocol/notification.dart' as _i64;
-import 'package:backend_client/src/protocol/patient_report.dart' as _i65;
-import 'package:backend_client/src/protocol/prescription_list.dart' as _i66;
-import 'package:backend_client/src/protocol/StaffInfo.dart' as _i67;
-import 'package:backend_client/src/protocol/ambulance_contact.dart' as _i68;
-import 'package:backend_client/src/protocol/onduty_staff.dart' as _i69;
+import 'package:backend_client/src/protocol/patient_record_list.dart' as _i63;
+import 'package:backend_client/src/protocol/patient_return_tests.dart' as _i64;
+import 'package:backend_client/src/protocol/test_result_create_upload.dart'
+    as _i65;
+import 'package:backend_client/src/protocol/lab_ten_history.dart' as _i66;
+import 'package:backend_client/src/protocol/notification.dart' as _i67;
+import 'package:backend_client/src/protocol/patient_report.dart' as _i68;
+import 'package:backend_client/src/protocol/prescription_list.dart' as _i69;
+import 'package:backend_client/src/protocol/StaffInfo.dart' as _i70;
+import 'package:backend_client/src/protocol/ambulance_contact.dart' as _i71;
+import 'package:backend_client/src/protocol/onduty_staff.dart' as _i72;
 export 'InventoryCategory.dart';
 export 'InventoryItemInfo.dart';
 export 'PrescribedItem.dart';
@@ -93,6 +96,9 @@ export 'dispense_item_detail.dart';
 export 'dispense_request.dart';
 export 'dispensed_item_input.dart';
 export 'dispenser_profile_r.dart';
+export 'doctor_home_data.dart';
+export 'doctor_home_recent_item.dart';
+export 'doctor_home_reviewed_report.dart';
 export 'doctor_profile.dart';
 export 'external_report_file.dart';
 export 'greeting.dart';
@@ -199,107 +205,116 @@ class Protocol extends _i1.SerializationManager {
     if (t == _i13.DispenserProfileR) {
       return _i13.DispenserProfileR.fromJson(data) as T;
     }
-    if (t == _i14.DoctorProfile) {
-      return _i14.DoctorProfile.fromJson(data) as T;
+    if (t == _i14.DoctorHomeData) {
+      return _i14.DoctorHomeData.fromJson(data) as T;
+    }
+    if (t == _i15.DoctorHomeRecentItem) {
+      return _i15.DoctorHomeRecentItem.fromJson(data) as T;
     }
-    if (t == _i15.ExternalReportFile) {
-      return _i15.ExternalReportFile.fromJson(data) as T;
+    if (t == _i16.DoctorHomeReviewedReport) {
+      return _i16.DoctorHomeReviewedReport.fromJson(data) as T;
     }
-    if (t == _i16.Greeting) {
-      return _i16.Greeting.fromJson(data) as T;
+    if (t == _i17.DoctorProfile) {
+      return _i17.DoctorProfile.fromJson(data) as T;
     }
-    if (t == _i17.InventoryAuditLog) {
-      return _i17.InventoryAuditLog.fromJson(data) as T;
+    if (t == _i18.ExternalReportFile) {
+      return _i18.ExternalReportFile.fromJson(data) as T;
     }
-    if (t == _i18.InventoryTransactionInfo) {
-      return _i18.InventoryTransactionInfo.fromJson(data) as T;
+    if (t == _i19.Greeting) {
+      return _i19.Greeting.fromJson(data) as T;
     }
-    if (t == _i19.LabTenHistory) {
-      return _i19.LabTenHistory.fromJson(data) as T;
+    if (t == _i20.InventoryAuditLog) {
+      return _i20.InventoryAuditLog.fromJson(data) as T;
     }
-    if (t == _i20.LabToday) {
-      return _i20.LabToday.fromJson(data) as T;
+    if (t == _i21.InventoryTransactionInfo) {
+      return _i21.InventoryTransactionInfo.fromJson(data) as T;
     }
-    if (t == _i21.LoginResponse) {
-      return _i21.LoginResponse.fromJson(data) as T;
+    if (t == _i22.LabTenHistory) {
+      return _i22.LabTenHistory.fromJson(data) as T;
     }
-    if (t == _i22.MedicineAlternative) {
-      return _i22.MedicineAlternative.fromJson(data) as T;
+    if (t == _i23.LabToday) {
+      return _i23.LabToday.fromJson(data) as T;
     }
-    if (t == _i23.MedicineDetail) {
-      return _i23.MedicineDetail.fromJson(data) as T;
+    if (t == _i24.LoginResponse) {
+      return _i24.LoginResponse.fromJson(data) as T;
     }
-    if (t == _i24.NotificationInfo) {
-      return _i24.NotificationInfo.fromJson(data) as T;
+    if (t == _i25.MedicineAlternative) {
+      return _i25.MedicineAlternative.fromJson(data) as T;
     }
-    if (t == _i25.OndutyStaff) {
-      return _i25.OndutyStaff.fromJson(data) as T;
+    if (t == _i26.MedicineDetail) {
+      return _i26.MedicineDetail.fromJson(data) as T;
     }
-    if (t == _i26.OtpChallengeResponse) {
-      return _i26.OtpChallengeResponse.fromJson(data) as T;
+    if (t == _i27.NotificationInfo) {
+      return _i27.NotificationInfo.fromJson(data) as T;
     }
-    if (t == _i27.PatientExternalReport) {
-      return _i27.PatientExternalReport.fromJson(data) as T;
+    if (t == _i28.OndutyStaff) {
+      return _i28.OndutyStaff.fromJson(data) as T;
     }
-    if (t == _i28.PatientPrescriptionListItem) {
-      return _i28.PatientPrescriptionListItem.fromJson(data) as T;
+    if (t == _i29.OtpChallengeResponse) {
+      return _i29.OtpChallengeResponse.fromJson(data) as T;
     }
-    if (t == _i29.PatientPrescribedItem) {
-      return _i29.PatientPrescribedItem.fromJson(data) as T;
+    if (t == _i30.PatientExternalReport) {
+      return _i30.PatientExternalReport.fromJson(data) as T;
     }
-    if (t == _i30.PatientPrescriptionDetails) {
-      return _i30.PatientPrescriptionDetails.fromJson(data) as T;
+    if (t == _i31.PatientPrescriptionListItem) {
+      return _i31.PatientPrescriptionListItem.fromJson(data) as T;
     }
-    if (t == _i31.PatientProfile) {
-      return _i31.PatientProfile.fromJson(data) as T;
+    if (t == _i32.PatientPrescribedItem) {
+      return _i32.PatientPrescribedItem.fromJson(data) as T;
     }
-    if (t == _i32.PatientReportDto) {
-      return _i32.PatientReportDto.fromJson(data) as T;
+    if (t == _i33.PatientPrescriptionDetails) {
+      return _i33.PatientPrescriptionDetails.fromJson(data) as T;
     }
-    if (t == _i33.LabTests) {
-      return _i33.LabTests.fromJson(data) as T;
+    if (t == _i34.PatientProfile) {
+      return _i34.PatientProfile.fromJson(data) as T;
     }
-    if (t == _i34.Prescription) {
-      return _i34.Prescription.fromJson(data) as T;
+    if (t == _i35.PatientReportDto) {
+      return _i35.PatientReportDto.fromJson(data) as T;
     }
-    if (t == _i35.PrescriptionDetail) {
-      return _i35.PrescriptionDetail.fromJson(data) as T;
+    if (t == _i36.LabTests) {
+      return _i36.LabTests.fromJson(data) as T;
     }
-    if (t == _i36.PrescriptionList) {
-      return _i36.PrescriptionList.fromJson(data) as T;
+    if (t == _i37.Prescription) {
+      return _i37.Prescription.fromJson(data) as T;
     }
-    if (t == _i37.MonthlyBreakdown) {
-      return _i37.MonthlyBreakdown.fromJson(data) as T;
+    if (t == _i38.PrescriptionDetail) {
+      return _i38.PrescriptionDetail.fromJson(data) as T;
     }
-    if (t == _i38.PrescriptionStats) {
-      return _i38.PrescriptionStats.fromJson(data) as T;
+    if (t == _i39.PrescriptionList) {
+      return _i39.PrescriptionList.fromJson(data) as T;
     }
-    if (t == _i39.StockReport) {
-      return _i39.StockReport.fromJson(data) as T;
+    if (t == _i40.MonthlyBreakdown) {
+      return _i40.MonthlyBreakdown.fromJson(data) as T;
     }
-    if (t == _i40.TopMedicine) {
-      return _i40.TopMedicine.fromJson(data) as T;
+    if (t == _i41.PrescriptionStats) {
+      return _i41.PrescriptionStats.fromJson(data) as T;
     }
-    if (t == _i41.Roster) {
-      return _i41.Roster.fromJson(data) as T;
+    if (t == _i42.StockReport) {
+      return _i42.StockReport.fromJson(data) as T;
     }
-    if (t == _i42.Rosterlists) {
-      return _i42.Rosterlists.fromJson(data) as T;
+    if (t == _i43.TopMedicine) {
+      return _i43.TopMedicine.fromJson(data) as T;
     }
-    if (t == _i43.RosterUserRole) {
-      return _i43.RosterUserRole.fromJson(data) as T;
+    if (t == _i44.Roster) {
+      return _i44.Roster.fromJson(data) as T;
     }
-    if (t == _i44.ShiftType) {
-      return _i44.ShiftType.fromJson(data) as T;
+    if (t == _i45.Rosterlists) {
+      return _i45.Rosterlists.fromJson(data) as T;
     }
-    if (t == _i45.StaffProfileDto) {
-      return _i45.StaffProfileDto.fromJson(data) as T;
+    if (t == _i46.RosterUserRole) {
+      return _i46.RosterUserRole.fromJson(data) as T;
     }
-    if (t == _i46.TestResult) {
-      return _i46.TestResult.fromJson(data) as T;
+    if (t == _i47.ShiftType) {
+      return _i47.ShiftType.fromJson(data) as T;
     }
-    if (t == _i47.UserListItem) {
-      return _i47.UserListItem.fromJson(data) as T;
+    if (t == _i48.StaffProfileDto) {
+      return _i48.StaffProfileDto.fromJson(data) as T;
+    }
+    if (t == _i49.TestResult) {
+      return _i49.TestResult.fromJson(data) as T;
+    }
+    if (t == _i50.UserListItem) {
+      return _i50.UserListItem.fromJson(data) as T;
     }
     if (t == _i1.getType<_i2.InventoryCategory?>()) {
       return (data != null ? _i2.InventoryCategory.fromJson(data) : null) as T;
@@ -341,144 +356,169 @@ class Protocol extends _i1.SerializationManager {
     if (t == _i1.getType<_i13.DispenserProfileR?>()) {
       return (data != null ? _i13.DispenserProfileR.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i14.DoctorProfile?>()) {
-      return (data != null ? _i14.DoctorProfile.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i14.DoctorHomeData?>()) {
+      return (data != null ? _i14.DoctorHomeData.fromJson(data) : null) as T;
+    }
+    if (t == _i1.getType<_i15.DoctorHomeRecentItem?>()) {
+      return (data != null ? _i15.DoctorHomeRecentItem.fromJson(data) : null)
+          as T;
+    }
+    if (t == _i1.getType<_i16.DoctorHomeReviewedReport?>()) {
+      return (data != null
+              ? _i16.DoctorHomeReviewedReport.fromJson(data)
+              : null)
+          as T;
+    }
+    if (t == _i1.getType<_i17.DoctorProfile?>()) {
+      return (data != null ? _i17.DoctorProfile.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i15.ExternalReportFile?>()) {
-      return (data != null ? _i15.ExternalReportFile.fromJson(data) : null)
+    if (t == _i1.getType<_i18.ExternalReportFile?>()) {
+      return (data != null ? _i18.ExternalReportFile.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i16.Greeting?>()) {
-      return (data != null ? _i16.Greeting.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i19.Greeting?>()) {
+      return (data != null ? _i19.Greeting.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i17.InventoryAuditLog?>()) {
-      return (data != null ? _i17.InventoryAuditLog.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i20.InventoryAuditLog?>()) {
+      return (data != null ? _i20.InventoryAuditLog.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i18.InventoryTransactionInfo?>()) {
+    if (t == _i1.getType<_i21.InventoryTransactionInfo?>()) {
       return (data != null
-              ? _i18.InventoryTransactionInfo.fromJson(data)
+              ? _i21.InventoryTransactionInfo.fromJson(data)
               : null)
           as T;
     }
-    if (t == _i1.getType<_i19.LabTenHistory?>()) {
-      return (data != null ? _i19.LabTenHistory.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i22.LabTenHistory?>()) {
+      return (data != null ? _i22.LabTenHistory.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i20.LabToday?>()) {
-      return (data != null ? _i20.LabToday.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i23.LabToday?>()) {
+      return (data != null ? _i23.LabToday.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i21.LoginResponse?>()) {
-      return (data != null ? _i21.LoginResponse.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i24.LoginResponse?>()) {
+      return (data != null ? _i24.LoginResponse.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i22.MedicineAlternative?>()) {
-      return (data != null ? _i22.MedicineAlternative.fromJson(data) : null)
+    if (t == _i1.getType<_i25.MedicineAlternative?>()) {
+      return (data != null ? _i25.MedicineAlternative.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i23.MedicineDetail?>()) {
-      return (data != null ? _i23.MedicineDetail.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i26.MedicineDetail?>()) {
+      return (data != null ? _i26.MedicineDetail.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i24.NotificationInfo?>()) {
-      return (data != null ? _i24.NotificationInfo.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i27.NotificationInfo?>()) {
+      return (data != null ? _i27.NotificationInfo.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i25.OndutyStaff?>()) {
-      return (data != null ? _i25.OndutyStaff.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i28.OndutyStaff?>()) {
+      return (data != null ? _i28.OndutyStaff.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i26.OtpChallengeResponse?>()) {
-      return (data != null ? _i26.OtpChallengeResponse.fromJson(data) : null)
+    if (t == _i1.getType<_i29.OtpChallengeResponse?>()) {
+      return (data != null ? _i29.OtpChallengeResponse.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i27.PatientExternalReport?>()) {
-      return (data != null ? _i27.PatientExternalReport.fromJson(data) : null)
+    if (t == _i1.getType<_i30.PatientExternalReport?>()) {
+      return (data != null ? _i30.PatientExternalReport.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i28.PatientPrescriptionListItem?>()) {
+    if (t == _i1.getType<_i31.PatientPrescriptionListItem?>()) {
       return (data != null
-              ? _i28.PatientPrescriptionListItem.fromJson(data)
+              ? _i31.PatientPrescriptionListItem.fromJson(data)
               : null)
           as T;
     }
-    if (t == _i1.getType<_i29.PatientPrescribedItem?>()) {
-      return (data != null ? _i29.PatientPrescribedItem.fromJson(data) : null)
+    if (t == _i1.getType<_i32.PatientPrescribedItem?>()) {
+      return (data != null ? _i32.PatientPrescribedItem.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i30.PatientPrescriptionDetails?>()) {
+    if (t == _i1.getType<_i33.PatientPrescriptionDetails?>()) {
       return (data != null
-              ? _i30.PatientPrescriptionDetails.fromJson(data)
+              ? _i33.PatientPrescriptionDetails.fromJson(data)
               : null)
           as T;
     }
-    if (t == _i1.getType<_i31.PatientProfile?>()) {
-      return (data != null ? _i31.PatientProfile.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i34.PatientProfile?>()) {
+      return (data != null ? _i34.PatientProfile.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i32.PatientReportDto?>()) {
-      return (data != null ? _i32.PatientReportDto.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i35.PatientReportDto?>()) {
+      return (data != null ? _i35.PatientReportDto.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i33.LabTests?>()) {
-      return (data != null ? _i33.LabTests.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i36.LabTests?>()) {
+      return (data != null ? _i36.LabTests.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i34.Prescription?>()) {
-      return (data != null ? _i34.Prescription.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i37.Prescription?>()) {
+      return (data != null ? _i37.Prescription.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i35.PrescriptionDetail?>()) {
-      return (data != null ? _i35.PrescriptionDetail.fromJson(data) : null)
+    if (t == _i1.getType<_i38.PrescriptionDetail?>()) {
+      return (data != null ? _i38.PrescriptionDetail.fromJson(data) : null)
           as T;
     }
-    if (t == _i1.getType<_i36.PrescriptionList?>()) {
-      return (data != null ? _i36.PrescriptionList.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i39.PrescriptionList?>()) {
+      return (data != null ? _i39.PrescriptionList.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i37.MonthlyBreakdown?>()) {
-      return (data != null ? _i37.MonthlyBreakdown.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i40.MonthlyBreakdown?>()) {
+      return (data != null ? _i40.MonthlyBreakdown.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i38.PrescriptionStats?>()) {
-      return (data != null ? _i38.PrescriptionStats.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i41.PrescriptionStats?>()) {
+      return (data != null ? _i41.PrescriptionStats.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i39.StockReport?>()) {
-      return (data != null ? _i39.StockReport.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i42.StockReport?>()) {
+      return (data != null ? _i42.StockReport.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i40.TopMedicine?>()) {
-      return (data != null ? _i40.TopMedicine.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i43.TopMedicine?>()) {
+      return (data != null ? _i43.TopMedicine.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i41.Roster?>()) {
-      return (data != null ? _i41.Roster.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i44.Roster?>()) {
+      return (data != null ? _i44.Roster.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i42.Rosterlists?>()) {
-      return (data != null ? _i42.Rosterlists.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i45.Rosterlists?>()) {
+      return (data != null ? _i45.Rosterlists.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i43.RosterUserRole?>()) {
-      return (data != null ? _i43.RosterUserRole.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i46.RosterUserRole?>()) {
+      return (data != null ? _i46.RosterUserRole.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i44.ShiftType?>()) {
-      return (data != null ? _i44.ShiftType.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i47.ShiftType?>()) {
+      return (data != null ? _i47.ShiftType.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i45.StaffProfileDto?>()) {
-      return (data != null ? _i45.StaffProfileDto.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i48.StaffProfileDto?>()) {
+      return (data != null ? _i48.StaffProfileDto.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i46.TestResult?>()) {
-      return (data != null ? _i46.TestResult.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i49.TestResult?>()) {
+      return (data != null ? _i49.TestResult.fromJson(data) : null) as T;
     }
-    if (t == _i1.getType<_i47.UserListItem?>()) {
-      return (data != null ? _i47.UserListItem.fromJson(data) : null) as T;
+    if (t == _i1.getType<_i50.UserListItem?>()) {
+      return (data != null ? _i50.UserListItem.fromJson(data) : null) as T;
     }
-    if (t == List<_i37.MonthlyBreakdown>) {
+    if (t == List<_i40.MonthlyBreakdown>) {
       return (data as List)
-              .map((e) => deserialize<_i37.MonthlyBreakdown>(e))
+              .map((e) => deserialize<_i40.MonthlyBreakdown>(e))
               .toList()
           as T;
     }
-    if (t == List<_i40.TopMedicine>) {
+    if (t == List<_i43.TopMedicine>) {
       return (data as List)
-              .map((e) => deserialize<_i40.TopMedicine>(e))
+              .map((e) => deserialize<_i43.TopMedicine>(e))
               .toList()
           as T;
     }
-    if (t == List<_i39.StockReport>) {
+    if (t == List<_i42.StockReport>) {
       return (data as List)
-              .map((e) => deserialize<_i39.StockReport>(e))
+              .map((e) => deserialize<_i42.StockReport>(e))
               .toList()
           as T;
     }
-    if (t == List<_i29.PatientPrescribedItem>) {
+    if (t == List<_i15.DoctorHomeRecentItem>) {
       return (data as List)
-              .map((e) => deserialize<_i29.PatientPrescribedItem>(e))
+              .map((e) => deserialize<_i15.DoctorHomeRecentItem>(e))
+              .toList()
+          as T;
+    }
+    if (t == List<_i16.DoctorHomeReviewedReport>) {
+      return (data as List)
+              .map((e) => deserialize<_i16.DoctorHomeReviewedReport>(e))
+              .toList()
+          as T;
+    }
+    if (t == List<_i32.PatientPrescribedItem>) {
+      return (data as List)
+              .map((e) => deserialize<_i32.PatientPrescribedItem>(e))
               .toList()
           as T;
     }
@@ -488,59 +528,59 @@ class Protocol extends _i1.SerializationManager {
               .toList()
           as T;
     }
-    if (t == List<_i48.UserListItem>) {
+    if (t == List<_i51.UserListItem>) {
       return (data as List)
-              .map((e) => deserialize<_i48.UserListItem>(e))
+              .map((e) => deserialize<_i51.UserListItem>(e))
               .toList()
           as T;
     }
-    if (t == List<_i49.Roster>) {
-      return (data as List).map((e) => deserialize<_i49.Roster>(e)).toList()
+    if (t == List<_i52.Roster>) {
+      return (data as List).map((e) => deserialize<_i52.Roster>(e)).toList()
           as T;
     }
-    if (t == List<_i50.Rosterlists>) {
+    if (t == List<_i53.Rosterlists>) {
       return (data as List)
-              .map((e) => deserialize<_i50.Rosterlists>(e))
+              .map((e) => deserialize<_i53.Rosterlists>(e))
               .toList()
           as T;
     }
-    if (t == List<_i51.AuditEntry>) {
-      return (data as List).map((e) => deserialize<_i51.AuditEntry>(e)).toList()
+    if (t == List<_i54.AuditEntry>) {
+      return (data as List).map((e) => deserialize<_i54.AuditEntry>(e)).toList()
           as T;
     }
-    if (t == List<_i52.InventoryCategory>) {
+    if (t == List<_i55.InventoryCategory>) {
       return (data as List)
-              .map((e) => deserialize<_i52.InventoryCategory>(e))
+              .map((e) => deserialize<_i55.InventoryCategory>(e))
               .toList()
           as T;
     }
-    if (t == List<_i53.InventoryItemInfo>) {
+    if (t == List<_i56.InventoryItemInfo>) {
       return (data as List)
-              .map((e) => deserialize<_i53.InventoryItemInfo>(e))
+              .map((e) => deserialize<_i56.InventoryItemInfo>(e))
               .toList()
           as T;
     }
-    if (t == List<_i54.InventoryTransactionInfo>) {
+    if (t == List<_i57.InventoryTransactionInfo>) {
       return (data as List)
-              .map((e) => deserialize<_i54.InventoryTransactionInfo>(e))
+              .map((e) => deserialize<_i57.InventoryTransactionInfo>(e))
               .toList()
           as T;
     }
-    if (t == List<_i55.InventoryAuditLog>) {
+    if (t == List<_i58.InventoryAuditLog>) {
       return (data as List)
-              .map((e) => deserialize<_i55.InventoryAuditLog>(e))
+              .map((e) => deserialize<_i58.InventoryAuditLog>(e))
               .toList()
           as T;
     }
-    if (t == List<_i56.Prescription>) {
+    if (t == List<_i59.Prescription>) {
       return (data as List)
-              .map((e) => deserialize<_i56.Prescription>(e))
+              .map((e) => deserialize<_i59.Prescription>(e))
               .toList()
           as T;
     }
-    if (t == List<_i57.DispenseItemRequest>) {
+    if (t == List<_i60.DispenseItemRequest>) {
       return (data as List)
-              .map((e) => deserialize<_i57.DispenseItemRequest>(e))
+              .map((e) => deserialize<_i60.DispenseItemRequest>(e))
               .toList()
           as T;
     }
@@ -550,41 +590,41 @@ class Protocol extends _i1.SerializationManager {
           )
           as T;
     }
-    if (t == List<_i58.PrescribedItem>) {
+    if (t == List<_i61.PrescribedItem>) {
       return (data as List)
-              .map((e) => deserialize<_i58.PrescribedItem>(e))
+              .map((e) => deserialize<_i61.PrescribedItem>(e))
               .toList()
           as T;
     }
-    if (t == List<_i59.PatientExternalReport>) {
+    if (t == List<_i62.PatientExternalReport>) {
       return (data as List)
-              .map((e) => deserialize<_i59.PatientExternalReport>(e))
+              .map((e) => deserialize<_i62.PatientExternalReport>(e))
               .toList()
           as T;
     }
-    if (t == List<_i60.PatientPrescriptionListItem>) {
+    if (t == List<_i63.PatientPrescriptionListItem>) {
       return (data as List)
-              .map((e) => deserialize<_i60.PatientPrescriptionListItem>(e))
+              .map((e) => deserialize<_i63.PatientPrescriptionListItem>(e))
               .toList()
           as T;
     }
-    if (t == List<_i61.LabTests>) {
-      return (data as List).map((e) => deserialize<_i61.LabTests>(e)).toList()
+    if (t == List<_i64.LabTests>) {
+      return (data as List).map((e) => deserialize<_i64.LabTests>(e)).toList()
           as T;
     }
-    if (t == List<_i62.TestResult>) {
-      return (data as List).map((e) => deserialize<_i62.TestResult>(e)).toList()
+    if (t == List<_i65.TestResult>) {
+      return (data as List).map((e) => deserialize<_i65.TestResult>(e)).toList()
           as T;
     }
-    if (t == List<_i63.LabTenHistory>) {
+    if (t == List<_i66.LabTenHistory>) {
       return (data as List)
-              .map((e) => deserialize<_i63.LabTenHistory>(e))
+              .map((e) => deserialize<_i66.LabTenHistory>(e))
               .toList()
           as T;
     }
-    if (t == List<_i64.NotificationInfo>) {
+    if (t == List<_i67.NotificationInfo>) {
       return (data as List)
-              .map((e) => deserialize<_i64.NotificationInfo>(e))
+              .map((e) => deserialize<_i67.NotificationInfo>(e))
               .toList()
           as T;
     }
@@ -594,31 +634,31 @@ class Protocol extends _i1.SerializationManager {
           )
           as T;
     }
-    if (t == List<_i65.PatientReportDto>) {
+    if (t == List<_i68.PatientReportDto>) {
       return (data as List)
-              .map((e) => deserialize<_i65.PatientReportDto>(e))
+              .map((e) => deserialize<_i68.PatientReportDto>(e))
               .toList()
           as T;
     }
-    if (t == List<_i66.PrescriptionList>) {
+    if (t == List<_i69.PrescriptionList>) {
       return (data as List)
-              .map((e) => deserialize<_i66.PrescriptionList>(e))
+              .map((e) => deserialize<_i69.PrescriptionList>(e))
               .toList()
           as T;
     }
-    if (t == List<_i67.StaffInfo>) {
-      return (data as List).map((e) => deserialize<_i67.StaffInfo>(e)).toList()
+    if (t == List<_i70.StaffInfo>) {
+      return (data as List).map((e) => deserialize<_i70.StaffInfo>(e)).toList()
           as T;
     }
-    if (t == List<_i68.AmbulanceContact>) {
+    if (t == List<_i71.AmbulanceContact>) {
       return (data as List)
-              .map((e) => deserialize<_i68.AmbulanceContact>(e))
+              .map((e) => deserialize<_i71.AmbulanceContact>(e))
               .toList()
           as T;
     }
-    if (t == List<_i69.OndutyStaff>) {
+    if (t == List<_i72.OndutyStaff>) {
       return (data as List)
-              .map((e) => deserialize<_i69.OndutyStaff>(e))
+              .map((e) => deserialize<_i72.OndutyStaff>(e))
               .toList()
           as T;
     }
@@ -639,40 +679,43 @@ class Protocol extends _i1.SerializationManager {
       _i11.DispenseItemRequest => 'DispenseItemRequest',
       _i12.DispensedItemInput => 'DispensedItemInput',
       _i13.DispenserProfileR => 'DispenserProfileR',
-      _i14.DoctorProfile => 'DoctorProfile',
-      _i15.ExternalReportFile => 'ExternalReportFile',
-      _i16.Greeting => 'Greeting',
-      _i17.InventoryAuditLog => 'InventoryAuditLog',
-      _i18.InventoryTransactionInfo => 'InventoryTransactionInfo',
-      _i19.LabTenHistory => 'LabTenHistory',
-      _i20.LabToday => 'LabToday',
-      _i21.LoginResponse => 'LoginResponse',
-      _i22.MedicineAlternative => 'MedicineAlternative',
-      _i23.MedicineDetail => 'MedicineDetail',
-      _i24.NotificationInfo => 'NotificationInfo',
-      _i25.OndutyStaff => 'OndutyStaff',
-      _i26.OtpChallengeResponse => 'OtpChallengeResponse',
-      _i27.PatientExternalReport => 'PatientExternalReport',
-      _i28.PatientPrescriptionListItem => 'PatientPrescriptionListItem',
-      _i29.PatientPrescribedItem => 'PatientPrescribedItem',
-      _i30.PatientPrescriptionDetails => 'PatientPrescriptionDetails',
-      _i31.PatientProfile => 'PatientProfile',
-      _i32.PatientReportDto => 'PatientReportDto',
-      _i33.LabTests => 'LabTests',
-      _i34.Prescription => 'Prescription',
-      _i35.PrescriptionDetail => 'PrescriptionDetail',
-      _i36.PrescriptionList => 'PrescriptionList',
-      _i37.MonthlyBreakdown => 'MonthlyBreakdown',
-      _i38.PrescriptionStats => 'PrescriptionStats',
-      _i39.StockReport => 'StockReport',
-      _i40.TopMedicine => 'TopMedicine',
-      _i41.Roster => 'Roster',
-      _i42.Rosterlists => 'Rosterlists',
-      _i43.RosterUserRole => 'RosterUserRole',
-      _i44.ShiftType => 'ShiftType',
-      _i45.StaffProfileDto => 'StaffProfileDto',
-      _i46.TestResult => 'TestResult',
-      _i47.UserListItem => 'UserListItem',
+      _i14.DoctorHomeData => 'DoctorHomeData',
+      _i15.DoctorHomeRecentItem => 'DoctorHomeRecentItem',
+      _i16.DoctorHomeReviewedReport => 'DoctorHomeReviewedReport',
+      _i17.DoctorProfile => 'DoctorProfile',
+      _i18.ExternalReportFile => 'ExternalReportFile',
+      _i19.Greeting => 'Greeting',
+      _i20.InventoryAuditLog => 'InventoryAuditLog',
+      _i21.InventoryTransactionInfo => 'InventoryTransactionInfo',
+      _i22.LabTenHistory => 'LabTenHistory',
+      _i23.LabToday => 'LabToday',
+      _i24.LoginResponse => 'LoginResponse',
+      _i25.MedicineAlternative => 'MedicineAlternative',
+      _i26.MedicineDetail => 'MedicineDetail',
+      _i27.NotificationInfo => 'NotificationInfo',
+      _i28.OndutyStaff => 'OndutyStaff',
+      _i29.OtpChallengeResponse => 'OtpChallengeResponse',
+      _i30.PatientExternalReport => 'PatientExternalReport',
+      _i31.PatientPrescriptionListItem => 'PatientPrescriptionListItem',
+      _i32.PatientPrescribedItem => 'PatientPrescribedItem',
+      _i33.PatientPrescriptionDetails => 'PatientPrescriptionDetails',
+      _i34.PatientProfile => 'PatientProfile',
+      _i35.PatientReportDto => 'PatientReportDto',
+      _i36.LabTests => 'LabTests',
+      _i37.Prescription => 'Prescription',
+      _i38.PrescriptionDetail => 'PrescriptionDetail',
+      _i39.PrescriptionList => 'PrescriptionList',
+      _i40.MonthlyBreakdown => 'MonthlyBreakdown',
+      _i41.PrescriptionStats => 'PrescriptionStats',
+      _i42.StockReport => 'StockReport',
+      _i43.TopMedicine => 'TopMedicine',
+      _i44.Roster => 'Roster',
+      _i45.Rosterlists => 'Rosterlists',
+      _i46.RosterUserRole => 'RosterUserRole',
+      _i47.ShiftType => 'ShiftType',
+      _i48.StaffProfileDto => 'StaffProfileDto',
+      _i49.TestResult => 'TestResult',
+      _i50.UserListItem => 'UserListItem',
       _ => null,
     };
   }
@@ -711,73 +754,79 @@ class Protocol extends _i1.SerializationManager {
         return 'DispensedItemInput';
       case _i13.DispenserProfileR():
         return 'DispenserProfileR';
-      case _i14.DoctorProfile():
+      case _i14.DoctorHomeData():
+        return 'DoctorHomeData';
+      case _i15.DoctorHomeRecentItem():
+        return 'DoctorHomeRecentItem';
+      case _i16.DoctorHomeReviewedReport():
+        return 'DoctorHomeReviewedReport';
+      case _i17.DoctorProfile():
         return 'DoctorProfile';
-      case _i15.ExternalReportFile():
+      case _i18.ExternalReportFile():
         return 'ExternalReportFile';
-      case _i16.Greeting():
+      case _i19.Greeting():
         return 'Greeting';
-      case _i17.InventoryAuditLog():
+      case _i20.InventoryAuditLog():
         return 'InventoryAuditLog';
-      case _i18.InventoryTransactionInfo():
+      case _i21.InventoryTransactionInfo():
         return 'InventoryTransactionInfo';
-      case _i19.LabTenHistory():
+      case _i22.LabTenHistory():
         return 'LabTenHistory';
-      case _i20.LabToday():
+      case _i23.LabToday():
         return 'LabToday';
-      case _i21.LoginResponse():
+      case _i24.LoginResponse():
         return 'LoginResponse';
-      case _i22.MedicineAlternative():
+      case _i25.MedicineAlternative():
         return 'MedicineAlternative';
-      case _i23.MedicineDetail():
+      case _i26.MedicineDetail():
         return 'MedicineDetail';
-      case _i24.NotificationInfo():
+      case _i27.NotificationInfo():
         return 'NotificationInfo';
-      case _i25.OndutyStaff():
+      case _i28.OndutyStaff():
         return 'OndutyStaff';
-      case _i26.OtpChallengeResponse():
+      case _i29.OtpChallengeResponse():
         return 'OtpChallengeResponse';
-      case _i27.PatientExternalReport():
+      case _i30.PatientExternalReport():
         return 'PatientExternalReport';
-      case _i28.PatientPrescriptionListItem():
+      case _i31.PatientPrescriptionListItem():
         return 'PatientPrescriptionListItem';
-      case _i29.PatientPrescribedItem():
+      case _i32.PatientPrescribedItem():
         return 'PatientPrescribedItem';
-      case _i30.PatientPrescriptionDetails():
+      case _i33.PatientPrescriptionDetails():
         return 'PatientPrescriptionDetails';
-      case _i31.PatientProfile():
+      case _i34.PatientProfile():
         return 'PatientProfile';
-      case _i32.PatientReportDto():
+      case _i35.PatientReportDto():
         return 'PatientReportDto';
-      case _i33.LabTests():
+      case _i36.LabTests():
         return 'LabTests';
-      case _i34.Prescription():
+      case _i37.Prescription():
         return 'Prescription';
-      case _i35.PrescriptionDetail():
+      case _i38.PrescriptionDetail():
         return 'PrescriptionDetail';
-      case _i36.PrescriptionList():
+      case _i39.PrescriptionList():
         return 'PrescriptionList';
-      case _i37.MonthlyBreakdown():
+      case _i40.MonthlyBreakdown():
         return 'MonthlyBreakdown';
-      case _i38.PrescriptionStats():
+      case _i41.PrescriptionStats():
         return 'PrescriptionStats';
-      case _i39.StockReport():
+      case _i42.StockReport():
         return 'StockReport';
-      case _i40.TopMedicine():
+      case _i43.TopMedicine():
         return 'TopMedicine';
-      case _i41.Roster():
+      case _i44.Roster():
         return 'Roster';
-      case _i42.Rosterlists():
+      case _i45.Rosterlists():
         return 'Rosterlists';
-      case _i43.RosterUserRole():
+      case _i46.RosterUserRole():
         return 'RosterUserRole';
-      case _i44.ShiftType():
+      case _i47.ShiftType():
         return 'ShiftType';
-      case _i45.StaffProfileDto():
+      case _i48.StaffProfileDto():
         return 'StaffProfileDto';
-      case _i46.TestResult():
+      case _i49.TestResult():
         return 'TestResult';
-      case _i47.UserListItem():
+      case _i50.UserListItem():
         return 'UserListItem';
     }
     return null;
@@ -825,107 +874,116 @@ class Protocol extends _i1.SerializationManager {
     if (dataClassName == 'DispenserProfileR') {
       return deserialize<_i13.DispenserProfileR>(data['data']);
     }
+    if (dataClassName == 'DoctorHomeData') {
+      return deserialize<_i14.DoctorHomeData>(data['data']);
+    }
+    if (dataClassName == 'DoctorHomeRecentItem') {
+      return deserialize<_i15.DoctorHomeRecentItem>(data['data']);
+    }
+    if (dataClassName == 'DoctorHomeReviewedReport') {
+      return deserialize<_i16.DoctorHomeReviewedReport>(data['data']);
+    }
     if (dataClassName == 'DoctorProfile') {
-      return deserialize<_i14.DoctorProfile>(data['data']);
+      return deserialize<_i17.DoctorProfile>(data['data']);
     }
     if (dataClassName == 'ExternalReportFile') {
-      return deserialize<_i15.ExternalReportFile>(data['data']);
+      return deserialize<_i18.ExternalReportFile>(data['data']);
     }
     if (dataClassName == 'Greeting') {
-      return deserialize<_i16.Greeting>(data['data']);
+      return deserialize<_i19.Greeting>(data['data']);
     }
     if (dataClassName == 'InventoryAuditLog') {
-      return deserialize<_i17.InventoryAuditLog>(data['data']);
+      return deserialize<_i20.InventoryAuditLog>(data['data']);
     }
     if (dataClassName == 'InventoryTransactionInfo') {
-      return deserialize<_i18.InventoryTransactionInfo>(data['data']);
+      return deserialize<_i21.InventoryTransactionInfo>(data['data']);
     }
     if (dataClassName == 'LabTenHistory') {
-      return deserialize<_i19.LabTenHistory>(data['data']);
+      return deserialize<_i22.LabTenHistory>(data['data']);
     }
     if (dataClassName == 'LabToday') {
-      return deserialize<_i20.LabToday>(data['data']);
+      return deserialize<_i23.LabToday>(data['data']);
     }
     if (dataClassName == 'LoginResponse') {
-      return deserialize<_i21.LoginResponse>(data['data']);
+      return deserialize<_i24.LoginResponse>(data['data']);
     }
     if (dataClassName == 'MedicineAlternative') {
-      return deserialize<_i22.MedicineAlternative>(data['data']);
+      return deserialize<_i25.MedicineAlternative>(data['data']);
     }
     if (dataClassName == 'MedicineDetail') {
-      return deserialize<_i23.MedicineDetail>(data['data']);
+      return deserialize<_i26.MedicineDetail>(data['data']);
     }
     if (dataClassName == 'NotificationInfo') {
-      return deserialize<_i24.NotificationInfo>(data['data']);
+      return deserialize<_i27.NotificationInfo>(data['data']);
     }
     if (dataClassName == 'OndutyStaff') {
-      return deserialize<_i25.OndutyStaff>(data['data']);
+      return deserialize<_i28.OndutyStaff>(data['data']);
     }
     if (dataClassName == 'OtpChallengeResponse') {
-      return deserialize<_i26.OtpChallengeResponse>(data['data']);
+      return deserialize<_i29.OtpChallengeResponse>(data['data']);
     }
     if (dataClassName == 'PatientExternalReport') {
-      return deserialize<_i27.PatientExternalReport>(data['data']);
+      return deserialize<_i30.PatientExternalReport>(data['data']);
     }
     if (dataClassName == 'PatientPrescriptionListItem') {
-      return deserialize<_i28.PatientPrescriptionListItem>(data['data']);
+      return deserialize<_i31.PatientPrescriptionListItem>(data['data']);
     }
     if (dataClassName == 'PatientPrescribedItem') {
-      return deserialize<_i29.PatientPrescribedItem>(data['data']);
+      return deserialize<_i32.PatientPrescribedItem>(data['data']);
     }
     if (dataClassName == 'PatientPrescriptionDetails') {
-      return deserialize<_i30.PatientPrescriptionDetails>(data['data']);
+      return deserialize<_i33.PatientPrescriptionDetails>(data['data']);
     }
     if (dataClassName == 'PatientProfile') {
-      return deserialize<_i31.PatientProfile>(data['data']);
+      return deserialize<_i34.PatientProfile>(data['data']);
     }
     if (dataClassName == 'PatientReportDto') {
-      return deserialize<_i32.PatientReportDto>(data['data']);
+      return deserialize<_i35.PatientReportDto>(data['data']);
     }
     if (dataClassName == 'LabTests') {
-      return deserialize<_i33.LabTests>(data['data']);
+      return deserialize<_i36.LabTests>(data['data']);
     }
     if (dataClassName == 'Prescription') {
-      return deserialize<_i34.Prescription>(data['data']);
+      return deserialize<_i37.Prescription>(data['data']);
     }
     if (dataClassName == 'PrescriptionDetail') {
-      return deserialize<_i35.PrescriptionDetail>(data['data']);
+      return deserialize<_i38.PrescriptionDetail>(data['data']);
     }
     if (dataClassName == 'PrescriptionList') {
-      return deserialize<_i36.PrescriptionList>(data['data']);
+      return deserialize<_i39.PrescriptionList>(data['data']);
     }
     if (dataClassName == 'MonthlyBreakdown') {
-      return deserialize<_i37.MonthlyBreakdown>(data['data']);
+      return deserialize<_i40.MonthlyBreakdown>(data['data']);
     }
     if (dataClassName == 'PrescriptionStats') {
-      return deserialize<_i38.PrescriptionStats>(data['data']);
+      return deserialize<_i41.PrescriptionStats>(data['data']);
     }
     if (dataClassName == 'StockReport') {
-      return deserialize<_i39.StockReport>(data['data']);
+      return deserialize<_i42.StockReport>(data['data']);
     }
     if (dataClassName == 'TopMedicine') {
-      return deserialize<_i40.TopMedicine>(data['data']);
+      return deserialize<_i43.TopMedicine>(data['data']);
     }
     if (dataClassName == 'Roster') {
-      return deserialize<_i41.Roster>(data['data']);
+      return deserialize<_i44.Roster>(data['data']);
     }
     if (dataClassName == 'Rosterlists') {
-      return deserialize<_i42.Rosterlists>(data['data']);
+      return deserialize<_i45.Rosterlists>(data['data']);
     }
     if (dataClassName == 'RosterUserRole') {
-      return deserialize<_i43.RosterUserRole>(data['data']);
+      return deserialize<_i46.RosterUserRole>(data['data']);
     }
     if (dataClassName == 'ShiftType') {
-      return deserialize<_i44.ShiftType>(data['data']);
+      return deserialize<_i47.ShiftType>(data['data']);
     }
     if (dataClassName == 'StaffProfileDto') {
-      return deserialize<_i45.StaffProfileDto>(data['data']);
+      return deserialize<_i48.StaffProfileDto>(data['data']);
     }
     if (dataClassName == 'TestResult') {
-      return deserialize<_i46.TestResult>(data['data']);
+      return deserialize<_i49.TestResult>(data['data']);
     }
     if (dataClassName == 'UserListItem') {
-      return deserialize<_i47.UserListItem>(data['data']);
+      return deserialize<_i50.UserListItem>(data['data']);
     }
     return super.deserializeByClassName(data);
   }
diff --git a/pubspec.lock b/pubspec.lock
index 3e6c5ef..7e9a62d 100644
--- a/pubspec.lock
+++ b/pubspec.lock
@@ -1077,7 +1077,7 @@ packages:
     source: hosted
     version: "2.3.0"
   universal_io:
-    dependency: transitive
+    dependency: "direct main"
     description:
       name: universal_io
       sha256: f63cbc48103236abf48e345e07a03ce5757ea86285ed313a6a032596ed9301e2
diff --git a/pubspec.yaml b/pubspec.yaml
index 3e8cc81..7ff3044 100644
--- a/pubspec.yaml
+++ b/pubspec.yaml
@@ -66,6 +66,7 @@ dependencies:
   image_cropper_for_web: ^7.0.0
   sign_in_with_apple_web: ^3.0.0
   dio: ^5.9.0
+  universal_io: ^2.3.1
 
 
 dev_dependencies:
diff --git a/test/widget_test.dart b/test/widget_test.dart
index b5e64f4..15c01ed 100644
--- a/test/widget_test.dart
+++ b/test/widget_test.dart
@@ -5,26 +5,18 @@
 // gestures. You can also use WidgetTester to find child widgets in the widget
 // tree, read text, and verify that the values of widget properties are correct.
 
-import 'package:flutter/material.dart';
 import 'package:flutter_test/flutter_test.dart';
 
 import 'package:dishari/main.dart';
 
 void main() {
-  testWidgets('Counter increments smoke test', (WidgetTester tester) async {
-    // Build our app and trigger a frame.
+  testWidgets('App renders login screen', (WidgetTester tester) async {
     await tester.pumpWidget(const MyApp());
 
-    // Verify that our counter starts at 0.
-    expect(find.text('0'), findsOneWidget);
-    expect(find.text('1'), findsNothing);
+    // Let initial frames + route build settle.
+    await tester.pumpAndSettle();
 
-    // Tap the '+' icon and trigger a frame.
-    await tester.tap(find.byIcon(Icons.add));
-    await tester.pump();
-
-    // Verify that our counter has incremented.
-    expect(find.text('0'), findsNothing);
-    expect(find.text('1'), findsOneWidget);
+    // Your app starts at the universal login page.
+    expect(find.text('Log In'), findsOneWidget);
   });
 }
